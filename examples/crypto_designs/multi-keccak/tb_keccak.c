#include "include/Keccak.h"

#ifdef __BAMBU_SIM__
#include <mdpi/mdpi_user.h>
#endif

extern void keccak_coproc(UINT64 A[25]);

static const UINT64 A_gold[25] = {
    17376452488221285863ULL, 9571781953733019530ULL,  15391093639620504046ULL, 13624874521033984333ULL,
    10027350355371872343ULL, 18417369716475457492ULL, 10448040663659726788ULL, 10113917136857017974ULL,
    12479658147685402012ULL, 3500241080921619556ULL,  16959053435453822517ULL, 12224711289652453635ULL,
    9342009439668884831ULL,  4879704952849025062ULL,  140226327413610143ULL,   424854978622500449ULL,
    7259519967065370866ULL,  7004910057750291985ULL,  13293599522548616907ULL, 10105770293752443592ULL,
    10668034807192757780ULL, 1747952066141424100ULL,  1654286879329379778ULL,  8500057116360352059ULL,
    16929593379567477321ULL};

int main()
{
   int i, errors;
   UINT64 A[25] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

#ifdef __BAMBU_SIM__
   m_param_alloc(0, sizeof(A));
#endif
   keccak_coproc(A);

   errors = 0;
   for(i = 0; i < 25; ++i)
   {
      errors += A[i] != A_gold[i];
   }

   return errors;
}