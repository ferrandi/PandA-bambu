<?xml version="1.0"?>
<technology>
  <library>
    <name>STD</name>
      <cell>
        <name>STD_BRAM</name>
        <attribute name="area" value_type="float64">1</attribute>
        <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
        <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
        <bram_load_latency>2</bram_load_latency>
        <circuit>
        <component_o id="STD_BRAM">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAM_SP"  VERILOG_PROVIDED="STD_BRAM_SP #(.BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(0)) STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
        <name>STD_BRAM_3</name>
        <attribute name="area" value_type="float64">1</attribute>
        <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
        <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
        <bram_load_latency>3</bram_load_latency>
      <circuit>
        <component_o id="STD_BRAM_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_3"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_3 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAM_SP"  VERILOG_PROVIDED="STD_BRAM_SP #(.BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(1)) STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
        <name>STD_BRAM_4</name>
        <attribute name="area" value_type="float64">1</attribute>
        <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
        <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
        <bram_load_latency>4</bram_load_latency>
      <circuit>
        <component_o id="STD_BRAM_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_4"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_4 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAM_SP"  VERILOG_PROVIDED="STD_BRAM_SP #(.BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(2)) STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN</name>
      <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
      <channels_type>MEM_ACC_NN</channels_type>
      <bram_load_latency>2</bram_load_latency>
      <circuit>
        <component_o id="STD_BRAMN">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAMN_SP" VERILOG_PROVIDED="STD_BRAMN_SP #(.BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(0)) STD_BRAMN_SP_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_3</name>
      <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
      <channels_type>MEM_ACC_NN</channels_type>
      <bram_load_latency>3</bram_load_latency>
      <circuit>
        <component_o id="STD_BRAMN_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_3"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_3 S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAMN_SP" VERILOG_PROVIDED="STD_BRAMN_SP #(.BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(1)) STD_BRAMN_SP_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_4</name>
      <memory_type>SYNCHRONOUS_UNALIGNED</memory_type>
      <channels_type>MEM_ACC_NN</channels_type>
      <bram_load_latency>4</bram_load_latency>
      <circuit>
        <component_o id="STD_BRAMN_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_4"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_4 S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY" IP_COMPONENT="STD_BRAMN_SP" VERILOG_PROVIDED="STD_BRAMN_SP #(.BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(2)) STD_BRAMN_SP_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRL</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="2"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_11</channels_type>
      <memory_ctrl_type>PROXY</memory_ctrl_type>
      <bram_load_latency>2</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRL">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRL"/>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="PROXY_CTRL in1 in2 in3 out1 proxy_in1 proxy_in2 proxy_in3 proxy_out1" VERILOG_PROVIDED="
wire int_sel_LOAD;
wire int_sel_STORE;
assign int_sel_LOAD = sel_LOAD &amp; in4;
assign int_sel_STORE = sel_STORE &amp; in4;
assign out1 = proxy_out1;
assign proxy_in1 = int_sel_STORE ? in1 : 0;
assign proxy_in2 = (int_sel_LOAD|int_sel_STORE) ? in2 : 0;
assign proxy_in3 = (int_sel_LOAD|int_sel_STORE) ? in3 : 0;
assign proxy_sel_LOAD = int_sel_LOAD;
assign proxy_sel_STORE = int_sel_STORE;" VHDL_PROVIDED=
"
signal int_sel_LOAD : std_logic;
signal int_sel_STORE : std_logic;
begin
  int_sel_LOAD &lt;= sel_LOAD and in4;
  int_sel_STORE &lt;= sel_STORE and in4;
  out1 &lt;= std_logic_vector(resize(unsigned(proxy_out1), BITSIZE_out1));
  proxy_in1 &lt;= std_logic_vector(resize(unsigned(in1), BITSIZE_proxy_in1)) when (sel_STORE /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_in2 &lt;= in2 when ((sel_LOAD or sel_STORE) /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_in3 &lt;= in3 when ((sel_LOAD or sel_STORE) /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_sel_LOAD &lt;= sel_LOAD;
  proxy_sel_STORE &lt;= sel_STORE;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRL_3</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="3"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_11</channels_type>
      <memory_ctrl_type>PROXY</memory_ctrl_type>
      <bram_load_latency>3</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRL_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRL_3"/>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="PROXY_CTRL_3 in1 in2 in3 out1 proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="PROXY_CTRL" VERILOG_PROVIDED="
PROXY_CTRL #(.BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1)) PROXY_CTRL_i0 (.out1(out1), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .proxy_out1(proxy_out1));" VHDL_PROVIDED=
"begin
  PROXY_CTRL_i0 : PROXY_CTRL generic map(BITSIZE_in1=>BITSIZE_in1, BITSIZE_in2=>BITSIZE_in2, BITSIZE_in3=>BITSIZE_in3, BITSIZE_out1=>BITSIZE_out1, BITSIZE_proxy_in1=>BITSIZE_proxy_in1, BITSIZE_proxy_in2=>BITSIZE_proxy_in2, BITSIZE_proxy_in3=>BITSIZE_proxy_in3, BITSIZE_proxy_out1=>BITSIZE_proxy_out1) port map (out1 => out1, proxy_in1 => proxy_in1, proxy_in2 => proxy_in2, proxy_in3 => proxy_in3, proxy_sel_LOAD => proxy_sel_LOAD, proxy_sel_STORE => proxy_sel_STORE, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, proxy_out1 => proxy_out1);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRL_4</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="4"/>
      <operation operation_name="STORE" initiation_time="1" cycles="2"/>
      <channels_type>MEM_ACC_11</channels_type>
      <memory_ctrl_type>PROXY</memory_ctrl_type>
      <bram_load_latency>4</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRL_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRL_4"/>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="PROXY_CTRL_4 in1 in2 in3 out1 proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="PROXY_CTRL" VERILOG_PROVIDED="
PROXY_CTRL #(.BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1)) PROXY_CTRL_i0 (.out1(out1), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .proxy_out1(proxy_out1));" VHDL_PROVIDED=
"begin
  PROXY_CTRL_i0 : PROXY_CTRL generic map(BITSIZE_in1=>BITSIZE_in1, BITSIZE_in2=>BITSIZE_in2, BITSIZE_in3=>BITSIZE_in3, BITSIZE_out1=>BITSIZE_out1, BITSIZE_proxy_in1=>BITSIZE_proxy_in1, BITSIZE_proxy_in2=>BITSIZE_proxy_in2, BITSIZE_proxy_in3=>BITSIZE_proxy_in3, BITSIZE_proxy_out1=>BITSIZE_proxy_out1) port map (out1 => out1, proxy_in1 => proxy_in1, proxy_in2 => proxy_in2, proxy_in3 => proxy_in3, proxy_sel_LOAD => proxy_sel_LOAD, proxy_sel_STORE => proxy_sel_STORE, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, proxy_out1 => proxy_out1);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRLN</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="2"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_N1,MEM_ACC_NN</channels_type>
      <memory_ctrl_type>PROXYN</memory_ctrl_type>
      <bram_load_latency>2</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRLN">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRLN"/>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="PROXY_CTRLN in1 in2 in3 in4 sel_LOAD sel_STORE out1 proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" VERILOG_PROVIDED="
wire [PORTSIZE_sel_STORE-1:0] int_sel_STORE;
wire [PORTSIZE_sel_LOAD-1:0] int_sel_LOAD;
assign int_sel_STORE = sel_STORE &amp; in4;
assign int_sel_LOAD = sel_LOAD &amp; in4;
generate
genvar i0;
for (i0=0; i0&lt;PORTSIZE_out1; i0=i0+1)
  begin : L0
    assign out1[(i0+1)*BITSIZE_out1-1:i0*BITSIZE_out1] = proxy_out1[(i0+1)*BITSIZE_proxy_out1-1:i0*BITSIZE_proxy_out1];
  end
endgenerate
generate
genvar i1;
for (i1=0; i1&lt;PORTSIZE_in1; i1=i1+1)
  begin : L1
    assign proxy_in1[(i1+1)*BITSIZE_proxy_in1-1:i1*BITSIZE_proxy_in1] = int_sel_STORE[i1] ? in1[(i1+1)*BITSIZE_in1-1:i1*BITSIZE_in1] : 0;
  end
endgenerate
generate
genvar i2;
for (i2=0; i2&lt;PORTSIZE_in2; i2=i2+1)
  begin : L2
    assign proxy_in2[(i2+1)*BITSIZE_proxy_in2-1:i2*BITSIZE_proxy_in2] = int_sel_LOAD[i2]|int_sel_STORE[i2] ? in2[(i2+1)*BITSIZE_in2-1:i2*BITSIZE_in2] : 0;
  end
endgenerate
generate
genvar i3;
for (i3=0; i3&lt;PORTSIZE_in3; i3=i3+1)
  begin : L3
    assign proxy_in3[(i3+1)*BITSIZE_proxy_in3-1:i3*BITSIZE_proxy_in3] = int_sel_LOAD[i3]|int_sel_STORE[i3] ? in3[(i3+1)*BITSIZE_in3-1:i3*BITSIZE_in3] : 0;
  end
endgenerate
assign proxy_sel_LOAD = int_sel_LOAD;
assign proxy_sel_STORE = int_sel_STORE;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRLN_3</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="3"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_N1,MEM_ACC_NN</channels_type>
      <memory_ctrl_type>PROXYN</memory_ctrl_type>
      <bram_load_latency>3</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRLN_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRLN_3"/>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="PROXY_CTRLN_3 in1 in2 in3 in4 sel_LOAD sel_STORE out1 proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" IP_COMPONENT="PROXY_CTRLN" VERILOG_PROVIDED="
PROXY_CTRLN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_in4(BITSIZE_in4), .PORTSIZE_in4(PORTSIZE_in4), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1)) PROXY_CTRLN_i0 (.out1(out1), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .proxy_out1(proxy_out1));
" VHDL_PROVIDED=
"begin
  PROXY_CTRLN_i0 : PROXY_CTRLN generic map(BITSIZE_in1=>BITSIZE_in1, PORTSIZE_in1=>PORTSIZE_in1, BITSIZE_in2=>BITSIZE_in2, PORTSIZE_in2=>PORTSIZE_in2, BITSIZE_in3=>BITSIZE_in3, PORTSIZE_in3=>PORTSIZE_in3, BITSIZE_in4=>BITSIZE_in4, PORTSIZE_in4=>PORTSIZE_in4, BITSIZE_sel_LOAD=>BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=>PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=>BITSIZE_sel_STORE, PORTSIZE_sel_STORE=>PORTSIZE_sel_STORE, BITSIZE_out1=>BITSIZE_out1, PORTSIZE_out1=>PORTSIZE_out1, BITSIZE_proxy_in1=>BITSIZE_proxy_in1, PORTSIZE_proxy_in1=>PORTSIZE_proxy_in1, BITSIZE_proxy_in2=>BITSIZE_proxy_in2, PORTSIZE_proxy_in2=>PORTSIZE_proxy_in2, BITSIZE_proxy_in3=>BITSIZE_proxy_in3, PORTSIZE_proxy_in3=>PORTSIZE_proxy_in3, BITSIZE_proxy_sel_LOAD=>BITSIZE_proxy_sel_LOAD, PORTSIZE_proxy_sel_LOAD=>PORTSIZE_proxy_sel_LOAD, BITSIZE_proxy_sel_STORE=>BITSIZE_proxy_sel_STORE, PORTSIZE_proxy_sel_STORE=>PORTSIZE_proxy_sel_STORE, BITSIZE_proxy_out1=>BITSIZE_proxy_out1, PORTSIZE_proxy_out1=>PORTSIZE_proxy_out1) port map (out1 => out1, proxy_in1 => proxy_in1, proxy_in2 => proxy_in2, proxy_in3 => proxy_in3, proxy_sel_LOAD => proxy_sel_LOAD, proxy_sel_STORE => proxy_sel_STORE, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, proxy_out1 => proxy_out1);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>PROXY_CTRLN_4</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="4"/>
      <operation operation_name="STORE" initiation_time="1" cycles="2"/>
      <channels_type>MEM_ACC_N1,MEM_ACC_NN</channels_type>
      <memory_ctrl_type>PROXYN</memory_ctrl_type>
      <bram_load_latency>4</bram_load_latency>
      <circuit>
        <component_o id="PROXY_CTRLN_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="PROXY_CTRLN_4"/>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="PROXY_CTRLN_4 in1 in2 in3 in4 sel_LOAD sel_STORE out1 proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" IP_COMPONENT="PROXY_CTRLN" VERILOG_PROVIDED="
PROXY_CTRLN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_in4(BITSIZE_in4), .PORTSIZE_in4(PORTSIZE_in4), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1)) PROXY_CTRLN_i0 (.out1(out1), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .proxy_out1(proxy_out1));
" VHDL_PROVIDED=
"begin
  PROXY_CTRLN_i0 : PROXY_CTRLN generic map(BITSIZE_in1=>BITSIZE_in1, PORTSIZE_in1=>PORTSIZE_in1, BITSIZE_in2=>BITSIZE_in2, PORTSIZE_in2=>PORTSIZE_in2, BITSIZE_in3=>BITSIZE_in3, PORTSIZE_in3=>PORTSIZE_in3, BITSIZE_in4=>BITSIZE_in4, PORTSIZE_in4=>PORTSIZE_in4, BITSIZE_sel_LOAD=>BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=>PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=>BITSIZE_sel_STORE, PORTSIZE_sel_STORE=>PORTSIZE_sel_STORE, BITSIZE_out1=>BITSIZE_out1, PORTSIZE_out1=>PORTSIZE_out1, BITSIZE_proxy_in1=>BITSIZE_proxy_in1, PORTSIZE_proxy_in1=>PORTSIZE_proxy_in1, BITSIZE_proxy_in2=>BITSIZE_proxy_in2, PORTSIZE_proxy_in2=>PORTSIZE_proxy_in2, BITSIZE_proxy_in3=>BITSIZE_proxy_in3, PORTSIZE_proxy_in3=>PORTSIZE_proxy_in3, BITSIZE_proxy_sel_LOAD=>BITSIZE_proxy_sel_LOAD, PORTSIZE_proxy_sel_LOAD=>PORTSIZE_proxy_sel_LOAD, BITSIZE_proxy_sel_STORE=>BITSIZE_proxy_sel_STORE, PORTSIZE_proxy_sel_STORE=>PORTSIZE_proxy_sel_STORE, BITSIZE_proxy_out1=>BITSIZE_proxy_out1, PORTSIZE_proxy_out1=>PORTSIZE_proxy_out1) port map (out1 => out1, proxy_in1 => proxy_in1, proxy_in2 => proxy_in2, proxy_in3 => proxy_in3, proxy_sel_LOAD => proxy_sel_LOAD, proxy_sel_STORE => proxy_sel_STORE, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, proxy_out1 => proxy_out1);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>DPROXY_CTRL</name>
      <operation operation_name="LOAD"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_11</channels_type>
      <memory_ctrl_type>DPROXY</memory_ctrl_type>
      <circuit>
        <component_o id="DPROXY_CTRL">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="DPROXY_CTRL"/>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="DPROXY_CTRL in1 in2 in3 out1 proxy_in1 proxy_in2 proxy_in3 proxy_out1" VERILOG_PROVIDED=
"wire int_sel_LOAD;
wire int_sel_STORE;
assign int_sel_LOAD = sel_LOAD &amp; in4;
assign int_sel_STORE = sel_STORE &amp; in4;
assign out1 = proxy_out1;
assign proxy_in1 = int_sel_STORE ? in1 : 0;
assign proxy_in2 = (int_sel_LOAD|int_sel_STORE) ? in2 : 0;
assign proxy_in3 = (int_sel_LOAD|int_sel_STORE) ? in3 : 0;
assign proxy_sel_LOAD = int_sel_LOAD;
assign proxy_sel_STORE = int_sel_STORE;" VHDL_PROVIDED=
"signal int_sel_LOAD : std_logic;
signal int_sel_STORE : std_logic;
begin
  out1 &lt;= std_logic_vector(resize(unsigned(proxy_out1), BITSIZE_out1));
  proxy_in1 &lt;= std_logic_vector(resize(unsigned(in1), BITSIZE_proxy_in1)) when (int_sel_STORE /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_in2 &lt;= in2 when ((int_sel_LOAD or int_sel_STORE) /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_in3 &lt;= in3 when ((int_sel_LOAD or int_sel_STORE) /= &apos;0&apos;) else (others =&gt; &apos;0&apos;);
  proxy_sel_LOAD &lt;= int_sel_LOAD;
  proxy_sel_STORE &lt;= int_sel_STORE;
  int_sel_LOAD &lt;= sel_LOAD and in4;
  int_sel_STORE &lt;= sel_STORE and in4;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>DPROXY_CTRLN</name>
      <operation operation_name="LOAD"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_N1,MEM_ACC_NN</channels_type>
      <memory_ctrl_type>DPROXYN</memory_ctrl_type>
      <circuit>
        <component_o id="DPROXY_CTRLN">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="DPROXY_CTRLN"/>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="OUT" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="OUT" is_addr_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="OUT" is_size_bus="1" is_memory="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="OUT" is_memory="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="IN" is_memory="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="DPROXY_CTRLN in1 in2 in3 in4 sel_LOAD sel_STORE out1 proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" VERILOG_PROVIDED=
"wire [PORTSIZE_sel_LOAD-1:0] int_sel_LOAD;
wire [PORTSIZE_sel_STORE-1:0] int_sel_STORE;
generate
genvar i0;
for (i0=0; i0&lt;PORTSIZE_out1; i0=i0+1)
  begin : L0
    assign out1[(i0+1)*BITSIZE_out1-1:i0*BITSIZE_out1] = proxy_out1[(i0+1)*BITSIZE_proxy_out1-1:i0*BITSIZE_proxy_out1];
  end
endgenerate
generate
genvar i1;
for (i1=0; i1&lt;PORTSIZE_in1; i1=i1+1)
  begin : L1
    assign proxy_in1[(i1+1)*BITSIZE_proxy_in1-1:i1*BITSIZE_proxy_in1] = int_sel_STORE[i1] ? in1[(i1+1)*BITSIZE_in1-1:i1*BITSIZE_in1] : 0;
  end
endgenerate
generate
genvar i2;
for (i2=0; i2&lt;PORTSIZE_in2; i2=i2+1)
  begin : L2
    assign proxy_in2[(i2+1)*BITSIZE_proxy_in2-1:i2*BITSIZE_proxy_in2] = int_sel_LOAD[i2]|int_sel_STORE[i2] ? in2[(i2+1)*BITSIZE_in2-1:i2*BITSIZE_in2] : 0;
  end
endgenerate
generate
genvar i3;
for (i3=0; i3&lt;PORTSIZE_in3; i3=i3+1)
  begin : L3
    assign proxy_in3[(i3+1)*BITSIZE_proxy_in3-1:i3*BITSIZE_proxy_in3] = int_sel_LOAD[i3]|int_sel_STORE[i3] ? in3[(i3+1)*BITSIZE_in3-1:i3*BITSIZE_in3] : 0;
  end
endgenerate
assign int_sel_LOAD = sel_LOAD &amp; in4;
assign int_sel_STORE = sel_STORE &amp; in4;
assign proxy_sel_LOAD = int_sel_LOAD;
assign proxy_sel_STORE = int_sel_STORE;"/>
        </component_o>
      </circuit>
    </cell>
  </library>
  <library>
    <name>STD_COMMON</name>
    <cell>
      <name>STD_BRAM_TP</name>
      <circuit>
        <component_o id="STD_BRAM_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_TP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_TP S_addr_ram S_Wdata_ram Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_TP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_TP #(.BITSIZE_in1(1), .BITSIZE_in2(BITSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .BITSIZE_out1(1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(1), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .BITSIZE_proxy_out1(1)) ARRAY_1D_STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1(1&apos;b0), .in2({BITSIZE_S_addr_ram{1&apos;b0}}), .in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD(1&apos;b0), .sel_STORE(1&apos;b0), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(1&apos;b0), .proxy_in2({BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD(1&apos;b0), .proxy_sel_STORE(1&apos;b0));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAM_SP</name>
      <circuit>
        <component_o id="STD_BRAM_SP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_SP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_SP S_addr_ram S_Wdata_ram Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_SP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_SP #(.BITSIZE_in1(1), .BITSIZE_in2(BITSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .BITSIZE_out1(1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(1), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .BITSIZE_proxy_out1(1)) ARRAY_1D_STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1(1&apos;b0), .in2({BITSIZE_S_addr_ram{1&apos;b0}}), .in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD(1&apos;b0), .sel_STORE(1&apos;b0), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(1&apos;b0), .proxy_in2({BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD(1&apos;b0), .proxy_sel_STORE(1&apos;b0));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_TP</name>
      <circuit>
        <component_o id="STD_BRAMN_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_TP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_TP S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_TP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_TP #(.BITSIZE_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_in2(BITSIZE_S_addr_ram), .PORTSIZE_in2(PORTSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .PORTSIZE_in3(PORTSIZE_S_data_ram_size), .BITSIZE_sel_LOAD(1), .PORTSIZE_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_sel_STORE(1), .PORTSIZE_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_out1(1), .PORTSIZE_out1(PORTSIZE_S_addr_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_proxy_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .PORTSIZE_proxy_in2(PORTSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .PORTSIZE_proxy_in3(PORTSIZE_S_data_ram_size), .BITSIZE_proxy_sel_LOAD(1), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_proxy_sel_STORE(1), .PORTSIZE_proxy_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_proxy_out1(1), .PORTSIZE_proxy_out1(PORTSIZE_S_addr_ram)) ARRAY_1D_STD_BRAM_NN_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .proxy_in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .proxy_sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_SP</name>
      <circuit>
        <component_o id="STD_BRAMN_SP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_SP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_SP S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_SP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_SP #(.BITSIZE_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_in2(BITSIZE_S_addr_ram), .PORTSIZE_in2(PORTSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .PORTSIZE_in3(PORTSIZE_S_data_ram_size), .BITSIZE_sel_LOAD(1), .PORTSIZE_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_sel_STORE(1), .PORTSIZE_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_out1(1), .PORTSIZE_out1(PORTSIZE_S_addr_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_proxy_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .PORTSIZE_proxy_in2(PORTSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .PORTSIZE_proxy_in3(PORTSIZE_S_data_ram_size), .BITSIZE_proxy_sel_LOAD(1), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_proxy_sel_STORE(1), .PORTSIZE_proxy_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_proxy_out1(1), .PORTSIZE_proxy_out1(PORTSIZE_S_addr_ram)) ARRAY_1D_STD_BRAM_NN_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .proxy_in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .proxy_sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ADDRESS_DECODING_LOGIC</name>
      <circuit>
        <component_o id="ADDRESS_DECODING_LOGIC">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ADDRESS_DECODING_LOGIC"/>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="memory_addr_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="memory_addr_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value_aggregated" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="OUT">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ADDRESS_DECODING_LOGIC in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1 dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be nbit_read_addr n_byte_on_databus n_mem_elements n_bytes" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_addr = BITSIZE_S_addr_ram/*n_bytes ==  1 ? 1 : $clog2(n_bytes)*/;
  parameter nbits_address_space_rangesize = $clog2(address_space_rangesize);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 1 : $clog2(n_byte_on_databus);
`else
  parameter nbit_addr = BITSIZE_S_addr_ram/*n_bytes ==  1 ? 1 : log2(n_bytes)*/;
  parameter nbits_address_space_rangesize = log2(address_space_rangesize);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 1 : log2(n_byte_on_databus);
`endif


function [n_byte_on_databus*2-1:0] CONV;
  input [n_byte_on_databus*2-1:0] po2;
begin
  case (po2)
    1:CONV=(1&lt;&lt;1)-1;
    2:CONV=(1&lt;&lt;2)-1;
    4:CONV=(1&lt;&lt;4)-1;
    8:CONV=(1&lt;&lt;8)-1;
    16:CONV=(1&lt;&lt;16)-1;
    32:CONV=(1&lt;&lt;32)-1;
    default:CONV=-1;
  endcase
end
endfunction
wire [2*BRAM_BITSIZE-1:0] dout;
wire [2*BRAM_BITSIZE-1:0] out1_shifted;
wire [2*BRAM_BITSIZE-1:0] S_Wdata_ram_int;
wire cs, oe_ram_cs, we_ram_cs;
wire [n_byte_on_databus*2-1:0] conv_in;
wire [n_byte_on_databus*2-1:0] conv_out;
wire [nbits_byte_offset-1:0] byte_offset;
wire [BITSIZE_in2-1:0] tmp_addr;
wire [nbit_addr-1:0] relative_addr;

reg we_ram_cs_delayed 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed_registered 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed_registered1 1INIT_ZERO_VALUE;
reg [nbits_byte_offset-1:0] delayed_byte_offset 1INIT_ZERO_VALUE;
reg [nbits_byte_offset-1:0] delayed_byte_offset_registered 1INIT_ZERO_VALUE;
reg [nbits_byte_offset-1:0] delayed_byte_offset_registered1 1INIT_ZERO_VALUE;

assign tmp_addr = (proxy_sel_LOAD||proxy_sel_STORE) ? proxy_in2 : in2;

generate
genvar j0_a;
  for (j0_a=0; j0_a&lt;n_byte_on_databus; j0_a=j0_a+1)
  begin  : dout_a_computation
    assign dout[(j0_a+1)*8-1:j0_a*8] = dout_a[(j0_a+1)*8-1:j0_a*8];
  end
endgenerate

generate
genvar j0_b;
  for (j0_b=0; j0_b&lt;n_byte_on_databus; j0_b=j0_b+1)
  begin  : dout_b_computation
    assign dout[(j0_b+n_byte_on_databus+1)*8-1:(j0_b+n_byte_on_databus)*8] = dout_b[(j0_b+1)*8-1:j0_b*8];
  end
endgenerate

generate
  if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
    assign cs = (S_addr_ram &gt;= (address_space_begin)) &amp;&amp; (S_addr_ram &lt; (address_space_begin+address_space_rangesize));
  else if(PRIVATE_MEMORY==0)
    assign cs = S_addr_ram[nbit_addr-1:nbits_address_space_rangesize] == address_space_begin[nbit_addr-1:nbits_address_space_rangesize];
  else
    assign cs = 1&apos;b0;
endgenerate
assign oe_ram_cs = S_oe_ram &amp;&amp; cs;
assign we_ram_cs = S_we_ram &amp;&amp; cs;
generate
  if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
    assign relative_addr = (sel_STORE===1&apos;b1 || sel_LOAD===1&apos;b1 || proxy_sel_STORE===1&apos;b1 || proxy_sel_LOAD===1&apos;b1) ? tmp_addr-address_space_begin[nbit_addr-1:0] : S_addr_ram-address_space_begin[nbit_addr-1:0];
  else if(PRIVATE_MEMORY==0)
    assign relative_addr = (sel_STORE===1&apos;b1 || sel_LOAD===1&apos;b1 || proxy_sel_STORE===1&apos;b1 || proxy_sel_LOAD===1&apos;b1) ? tmp_addr[nbits_address_space_rangesize-1:0] : S_addr_ram[nbits_address_space_rangesize-1:0];
  else if(USE_SPARSE_MEMORY==1)
    assign relative_addr = tmp_addr[nbits_address_space_rangesize-1:0];
  else
    assign relative_addr = tmp_addr-address_space_begin[nbit_addr-1:0];
endgenerate

generate
  if (n_mem_elements==1)
    assign memory_addr_a = {nbit_read_addr{1&apos;b0}};
  else if(n_byte_on_databus==1)
    assign memory_addr_a = relative_addr[nbit_read_addr-1:0];
  else
    assign memory_addr_a = relative_addr[nbit_read_addr+nbits_byte_offset-1:nbits_byte_offset];
endgenerate

generate
  if (n_bytes &lt;= BRAM_BITSIZE/8)
    assign memory_addr_b = {nbit_read_addr{1&apos;b0}};
  else if(n_byte_on_databus==1)
    assign memory_addr_b = relative_addr[nbit_read_addr-1:0] + 1&apos;b1;
  else
    assign memory_addr_b = relative_addr[nbit_read_addr+nbits_byte_offset-1:nbits_byte_offset] + 1&apos;b1;
endgenerate

generate
  if (n_byte_on_databus==1)
    assign byte_offset = {nbits_byte_offset{1&apos;b0}};
  else
    assign byte_offset = relative_addr[nbits_byte_offset-1:0];
endgenerate

generate
  if(PRIVATE_MEMORY==0)
  begin
    assign conv_in = proxy_sel_STORE ? proxy_in3[BITSIZE_proxy_in3-1:3] : (sel_STORE ? in3[BITSIZE_in3-1:3] : S_data_ram_size[BITSIZE_S_data_ram_size-1:3]);
    assign conv_out = CONV(conv_in);
    assign be = conv_out &lt;&lt; byte_offset;
  end
  else
  begin
    assign conv_in = proxy_sel_STORE ? proxy_in3[BITSIZE_proxy_in3-1:3] : in3[BITSIZE_in3-1:3];
    assign conv_out = CONV(conv_in);
    assign be = conv_out &lt;&lt; byte_offset;
  end
endgenerate

generate
  if (BITSIZE_S_Wdata_ram &lt; 2*BRAM_BITSIZE)
    assign S_Wdata_ram_int = {{2*BRAM_BITSIZE-BITSIZE_S_Wdata_ram{1&apos;b0}}, S_Wdata_ram};
  else
    assign S_Wdata_ram_int = S_Wdata_ram[2*BRAM_BITSIZE-1:0];
endgenerate

generate
  if(PRIVATE_MEMORY==0)
    assign din_value_aggregated = proxy_sel_STORE ? proxy_in1 &lt;&lt; byte_offset*8 : (sel_STORE ? in1 &lt;&lt; byte_offset*8 : S_Wdata_ram_int &lt;&lt; byte_offset*8);
  else
    assign din_value_aggregated = proxy_sel_STORE ? proxy_in1 &lt;&lt; byte_offset*8 : in1 &lt;&lt; byte_offset*8;
endgenerate

assign out1_shifted = dout &gt;&gt; delayed_byte_offset*8;
assign out1 = out1_shifted[BITSIZE_out1-1:0];
assign proxy_out1 = out1_shifted[BITSIZE_proxy_out1-1:0];

always @(posedge clock 1RESET_EDGE)
begin
  if(1RESET_VALUE)
  begin
    oe_ram_cs_delayed &lt;= 1&apos;b0;
    if(HIGH_LATENCY != 0) oe_ram_cs_delayed_registered &lt;= 1&apos;b0;
    if(HIGH_LATENCY == 2) oe_ram_cs_delayed_registered1 &lt;= 1&apos;b0;
  end
  else
  begin
    if(HIGH_LATENCY == 0)
    begin
      oe_ram_cs_delayed &lt;= oe_ram_cs &amp; (!oe_ram_cs_delayed | BUS_PIPELINED);
    end
    else if(HIGH_LATENCY == 1)
    begin
      oe_ram_cs_delayed_registered &lt;= oe_ram_cs &amp; ((!oe_ram_cs_delayed_registered &amp; !oe_ram_cs_delayed) | BUS_PIPELINED);
      oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
    end
    else
    begin
      oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs &amp; ((!oe_ram_cs_delayed_registered1 &amp; !oe_ram_cs_delayed_registered &amp; !oe_ram_cs_delayed) | BUS_PIPELINED);
      oe_ram_cs_delayed_registered &lt;= oe_ram_cs_delayed_registered1;
      oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
    end
  end
end

always @(posedge clock)
begin
  if(HIGH_LATENCY == 0)
    delayed_byte_offset &lt;= byte_offset;
  else if(HIGH_LATENCY == 1)
  begin
    delayed_byte_offset_registered &lt;= byte_offset;
    delayed_byte_offset &lt;= delayed_byte_offset_registered;
  end
  else
  begin
    delayed_byte_offset_registered1 &lt;= byte_offset;
    delayed_byte_offset_registered &lt;= delayed_byte_offset_registered1;
    delayed_byte_offset &lt;= delayed_byte_offset_registered;
  end
end

always @(posedge clock 1RESET_EDGE)
begin
  if(1RESET_VALUE)
    we_ram_cs_delayed &lt;= 1&apos;b0;
  else
    we_ram_cs_delayed &lt;= we_ram_cs &amp; !we_ram_cs_delayed;
end

generate
  if(PRIVATE_MEMORY==1)
    assign Sout_Rdata_ram =Sin_Rdata_ram;
  else if (BITSIZE_Sout_Rdata_ram &lt;= 2*BRAM_BITSIZE)
    assign Sout_Rdata_ram = oe_ram_cs_delayed ? out1_shifted[BITSIZE_Sout_Rdata_ram-1:0] : Sin_Rdata_ram;
  else
    assign Sout_Rdata_ram = oe_ram_cs_delayed ? {{BITSIZE_Sout_Rdata_ram-2*BRAM_BITSIZE{1&apos;b0}}, out1_shifted} : Sin_Rdata_ram;
endgenerate

generate
  if(PRIVATE_MEMORY==1)
    assign Sout_DataRdy = Sin_DataRdy;
  else
    assign Sout_DataRdy = oe_ram_cs_delayed | Sin_DataRdy | we_ram_cs_delayed;
endgenerate

assign bram_write = sel_STORE || proxy_sel_STORE || we_ram_cs;

// Add assertion here
// psl default clock = (posedge clock);
// psl ERROR_S_data_ram_size: assert never {S_data_ram_size&gt;2*BRAM_BITSIZE &amp;&amp; (we_ram_cs || oe_ram_cs)};
// psl ERROR_memory_addr: assert never {memory_addr_a&gt;=n_mem_elements &amp;&amp; (we_ram_cs || oe_ram_cs || sel_STORE || sel_LOAD || proxy_sel_STORE || proxy_sel_LOAD)};
// psl ERROR_relative_addr: assert never {relative_addr+(S_data_ram_size/8) &gt;n_bytes &amp;&amp; (we_ram_cs || oe_ram_cs)};
// psl ERROR_unaligned_access: assert never {byte_offset+S_data_ram_size[BITSIZE_S_data_ram_size-1:3] &gt; BRAM_BITSIZE/4 &amp;&amp; (we_ram_cs || oe_ram_cs)};
// psl ERROR_oe_ram_cs_we_ram_cs: assert never {(we_ram_cs &amp; oe_ram_cs) != 0};
// psl ERROR_LOAD_S_oe_ram: assert never {sel_LOAD &amp;&amp; oe_ram_cs};
// psl ERROR_proxy_LOAD_S_oe_ram: assert never {proxy_sel_LOAD &amp;&amp; oe_ram_cs};
// psl ERROR_STORE_S_we_ram: assert never {sel_STORE &amp;&amp; we_ram_cs};
// psl ERROR_proxy_STORE_S_we_ram: assert never {proxy_sel_STORE &amp;&amp; we_ram_cs};
// psl ERROR_LOAD_we_ram_cs: assert never {sel_LOAD &amp;&amp; we_ram_cs};
// psl ERROR_proxy_LOAD_we_ram_cs: assert never {proxy_sel_LOAD &amp;&amp; we_ram_cs};
// psl ERROR_STORE_oe_ram_cs: assert never {sel_STORE &amp;&amp; oe_ram_cs};
// psl ERROR_proxy_STORE_oe_ram_cs: assert never {proxy_sel_STORE &amp;&amp; oe_ram_cs};
// psl ERROR_Sin_DataRdy_oe_ram_cs_delayed: assert never {Sin_DataRdy &amp;&amp; oe_ram_cs_delayed};
// psl ERROR_in3_size: assert never {in3&gt;2*BRAM_BITSIZE &amp;&amp; (sel_STORE || sel_LOAD)};
// psl ERROR_proxy_in3_size: assert never {proxy_in3&gt;2*BRAM_BITSIZE &amp;&amp; (proxy_sel_STORE || proxy_sel_LOAD)};
// psl ERROR_requested_size: assert never {BITSIZE_out1&lt;in3 &amp;&amp; (sel_LOAD)};
// psl ERROR_proxy_requested_size: assert never {BITSIZE_proxy_out1&lt;proxy_in3 &amp;&amp; (proxy_sel_LOAD)};
// psl ERROR_STORE_LOAD: assert never {sel_STORE &amp;&amp; sel_LOAD};
// psl ERROR_proxy_STORE_proxy_LOAD: assert never {proxy_sel_STORE &amp;&amp; proxy_sel_LOAD};"
 VHDL_PROVIDED=
"function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
   begin
      if cond then
         return op1;
      else
         return op2;
      end if;
   end integer_ternary_operator;

function CONV(po2 : std_logic_vector(2*n_byte_on_databus-1 downto 0)) return std_logic_vector is
  variable int_po2 : integer;
  begin
      int_po2 := to_integer(unsigned(po2));
      case int_po2 is
         when 1 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),1) -1);
         when 2 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),2) -1);
         when 4 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),4) -1);
         when 8 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),8) -1);
         when 16 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),16) -1);
         when 32 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,2*n_byte_on_databus),32) -1);
         when others =&gt;
            return std_logic_vector(to_signed(-1,2*n_byte_on_databus));
      end case;
   end CONV;

   constant nbit_addr                     : integer := BITSIZE_S_addr_ram;
   constant nbits_address_space_rangesize : integer := integer(ceil(log2(real(address_space_rangesize))));
   constant nbits_byte_offset             : integer := integer_ternary_operator(n_byte_on_databus = 1, 1, integer(ceil(log2(real(n_byte_on_databus)))));
   constant memory_bitsize                : integer := 2 * BRAM_BITSIZE;
   constant address_space_begin_u         : unsigned(nbit_addr-1 downto 0) := to_unsigned(address_space_begin, nbit_addr);

   signal tmp_addr                       : std_logic_vector(BITSIZE_in2-1 downto 0);
   signal conv_in                        : std_logic_vector(n_byte_on_databus*2-1 downto 0);
   signal conv_out                       : std_logic_vector(n_byte_on_databus*2-1 downto 0);
   signal cs                             : std_logic;
   signal oe_ram_cs                      : std_logic;
   signal we_ram_cs                      : std_logic;
   signal relative_addr                  : std_logic_vector(nbit_addr-1 downto 0);
   signal S_Wdata_ram_int                : std_logic_vector(2*BRAM_BITSIZE-1 downto 0);
   signal out1_shifted                   : std_logic_vector(2*BRAM_BITSIZE-1 downto 0);
   signal dout                           : std_logic_vector(2*BRAM_BITSIZE-1 downto 0);
   signal byte_offset                    : std_logic_vector(nbits_byte_offset-1 downto 0);

   signal we_ram_cs_delayed              : std_logic 1INIT_ZERO_VALUEb;
   signal oe_ram_cs_delayed              : std_logic 1INIT_ZERO_VALUEb;
   signal oe_ram_cs_delayed_registered   : std_logic 1INIT_ZERO_VALUEb;
   signal oe_ram_cs_delayed_registered1  : std_logic 1INIT_ZERO_VALUEb;
   signal delayed_byte_offset            : std_logic_vector(nbits_byte_offset-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_byte_offset_registered : std_logic_vector(nbits_byte_offset-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_byte_offset_registered1 : std_logic_vector(nbits_byte_offset-1 downto 0) 1INIT_ZERO_VALUE;
begin
   tmp_addr &lt;= std_logic_vector(resize(unsigned(proxy_in2), BITSIZE_in2)) when ((proxy_sel_LOAD or proxy_sel_STORE) = &apos;1&apos;) else in2;

   dout(BRAM_BITSIZE-1 downto 0) &lt;= dout_a;
   dout(2*BRAM_BITSIZE-1 downto BRAM_BITSIZE) &lt;= dout_b;

   L3 : process(S_addr_ram)
   begin
      if(PRIVATE_MEMORY = 0 and USE_SPARSE_MEMORY = 0) then
         if(to_integer(unsigned(S_addr_ram)) &gt;= (address_space_begin)) and (to_integer(unsigned(S_addr_ram)) &lt; (address_space_begin+address_space_rangesize)) then
            cs &lt;= &apos;1&apos;;
         else
            cs &lt;= &apos;0&apos;;
         end if;
      else
         if(PRIVATE_MEMORY=0) then
            if S_addr_ram(nbit_addr-1 downto nbits_address_space_rangesize) = std_logic_vector(address_space_begin_u(nbit_addr-1 downto nbits_address_space_rangesize)) then
               cs &lt;= &apos;1&apos;;
            else
               cs &lt;= &apos;0&apos;;
            end if;
         else
            cs &lt;= &apos;0&apos;;
         end if;
      end if;
   end process;

   oe_ram_cs &lt;= S_oe_ram and cs;
   we_ram_cs &lt;= S_we_ram and cs;

   L6 : process(sel_STORE, proxy_sel_STORE, sel_LOAD, proxy_sel_LOAD, tmp_addr, S_addr_ram)
   begin
      if(PRIVATE_MEMORY=0 and USE_SPARSE_MEMORY=0) then
         if(sel_STORE = &apos;1&apos; or sel_LOAD = &apos;1&apos; or proxy_sel_STORE = &apos;1&apos; or proxy_sel_LOAD = &apos;1&apos;) then
            relative_addr &lt;= std_logic_vector(unsigned(tmp_addr)-(to_unsigned(address_space_begin, nbit_addr)));
         else
            relative_addr &lt;= std_logic_vector(unsigned(S_addr_ram) - (to_unsigned(address_space_begin, nbit_addr)));
         end if;
      else
         if(PRIVATE_MEMORY=0) then
            if(sel_STORE = &apos;1&apos; or sel_LOAD = &apos;1&apos; or proxy_sel_STORE = &apos;1&apos; or proxy_sel_LOAD = &apos;1&apos;) then
               relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            else
               relative_addr &lt;= std_logic_vector(resize(unsigned(S_addr_ram(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            end if;
         else
            if(USE_SPARSE_MEMORY=1) then
               relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            else
               relative_addr &lt;= std_logic_vector(unsigned(tmp_addr) - to_unsigned(address_space_begin, nbit_addr));
            end if;
         end if;
      end if;
   end process;

   L7_A : process(relative_addr)
   begin
      if (n_mem_elements=1) then
         memory_addr_a &lt;= (others =&gt; &apos;0&apos;);
      elsif (n_byte_on_databus=1) then
         memory_addr_a &lt;= relative_addr(nbit_read_addr-1 downto 0);
      else
         memory_addr_a &lt;= relative_addr(nbit_read_addr+nbits_byte_offset-1 downto nbits_byte_offset);
      end if;
   end process;

   L7_B : process(relative_addr)
   begin
      if (n_bytes &lt;= BRAM_BITSIZE/8) then
         memory_addr_b &lt;= (others =&gt; &apos;0&apos;);
      elsif (n_byte_on_databus=1) then
         memory_addr_b &lt;= std_logic_vector(unsigned(relative_addr(nbit_read_addr-1 downto 0)) + to_unsigned(1,nbit_read_addr));
      else
         memory_addr_b &lt;= std_logic_vector(unsigned(relative_addr(nbit_read_addr+nbits_byte_offset-1 downto nbits_byte_offset)) + to_unsigned(1,nbit_read_addr));
      end if;
   end process;

   L8 : process(relative_addr)
   begin
      if (n_byte_on_databus=1) then
         byte_offset &lt;= (others =&gt; &apos;0&apos;);
      else
         byte_offset &lt;= relative_addr(nbits_byte_offset-1 downto 0);
      end if;
   end process;

   be_conv_in : process(proxy_sel_STORE, proxy_in3, sel_STORE, in3, S_data_ram_size)
   begin
      if(PRIVATE_MEMORY=0) then
         if(proxy_sel_STORE /= &apos;0&apos;) then
            conv_in &lt;= std_logic_vector(resize(unsigned(proxy_in3(BITSIZE_proxy_in3-1 downto 3)), 2*n_byte_on_databus));
         else
            if(sel_STORE /= &apos;0&apos;) then
               conv_in &lt;= std_logic_vector(resize(unsigned(in3(BITSIZE_in3-1 downto 3)), 2*n_byte_on_databus));
            else
               conv_in &lt;= std_logic_vector(resize(unsigned(S_data_ram_size(BITSIZE_S_data_ram_size-1 downto 3)), 2*n_byte_on_databus));
            end if;
         end if;
      else
         if(proxy_sel_STORE /= &apos;0&apos;) then
            conv_in &lt;= std_logic_vector(resize(unsigned(proxy_in3(BITSIZE_proxy_in3-1 downto 3)), 2*n_byte_on_databus));
         else
            conv_in &lt;= std_logic_vector(resize(unsigned(in3(BITSIZE_in3-1 downto 3)), 2*n_byte_on_databus));
         end if;
      end  if;
   end process;

   conv_out &lt;= CONV(conv_in);
   be &lt;= std_logic_vector(shift_left(unsigned(conv_out), to_integer(unsigned(byte_offset))));


   L13 : process(S_Wdata_ram)
   begin
      if (BITSIZE_S_Wdata_ram &lt; 2*BRAM_BITSIZE) then
         S_Wdata_ram_int(2*BRAM_BITSIZE-1 downto BITSIZE_S_Wdata_ram) &lt;= (others =&gt; &apos;0&apos;);
         S_Wdata_ram_int(BITSIZE_S_Wdata_ram-1 downto 0) &lt;= S_Wdata_ram(BITSIZE_S_Wdata_ram-1 downto 0);
      else
         S_Wdata_ram_int &lt;= S_Wdata_ram(2*BRAM_BITSIZE-1 downto 0);
      end if;
   end process;

   L14 : process(proxy_sel_STORE, proxy_in1, byte_offset, sel_STORE, in1, S_Wdata_ram_int)
   begin
      if(PRIVATE_MEMORY=0) then
         if(proxy_sel_STORE /= &apos;0&apos;) then
            din_value_aggregated &lt;= std_logic_vector(shift_left(resize(unsigned(proxy_in1(BITSIZE_proxy_in1-1 downto 0)), 2*BRAM_BITSIZE), to_integer(unsigned(byte_offset(nbits_byte_offset-1 downto 0)))*8));
         else
            if(sel_STORE /= &apos;0&apos;) then
               din_value_aggregated &lt;= std_logic_vector(shift_left(resize(unsigned((in1(BITSIZE_in1-1 downto 0))), 2*BRAM_BITSIZE), to_integer(unsigned(byte_offset(nbits_byte_offset-1 downto 0)))*8));
            else
               din_value_aggregated &lt;= std_logic_vector(shift_left(resize(unsigned(S_Wdata_ram_int), 2*BRAM_BITSIZE), to_integer(unsigned(byte_offset(nbits_byte_offset-1 downto 0)))*8));
            end if;
         end if;
      else
         if(proxy_sel_STORE /= &apos;0&apos;) then
            din_value_aggregated &lt;= std_logic_vector(shift_left(resize(unsigned(proxy_in1(BITSIZE_proxy_in1-1 downto 0)), 2*BRAM_BITSIZE), to_integer(unsigned(byte_offset(nbits_byte_offset-1 downto 0)))*8));
         else
            din_value_aggregated &lt;= std_logic_vector(shift_left(resize(unsigned(in1(BITSIZE_in1-1 downto 0)), 2*BRAM_BITSIZE), to_integer(unsigned(byte_offset(nbits_byte_offset-1 downto 0)))*8));
         end if;
      end if;
   end process;


   out1_shifted &lt;= std_logic_vector(shift_right(unsigned(dout), to_integer(unsigned(delayed_byte_offset(nbits_byte_offset-1 downto 0)))*8));

   out1 &lt;= out1_shifted(BITSIZE_out1-1 downto 0);
   proxy_out1 &lt;= out1_shifted(BITSIZE_proxy_out1-1 downto 0);

   L16 : process(reset, clock)
   begin
      if(1RESET_VALUE) then
         oe_ram_cs_delayed &lt;= &apos;0&apos;;
         if(HIGH_LATENCY /= 0) then
            oe_ram_cs_delayed_registered &lt;= &apos;0&apos;;
         end if;
         if(HIGH_LATENCY = 2) then
            oe_ram_cs_delayed_registered1 &lt;= &apos;0&apos;;
         end if;
      else
         if (clock&apos;event and clock = &apos;1&apos;) then
            if(HIGH_LATENCY = 0) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed &lt;= oe_ram_cs and (not oe_ram_cs_delayed);
               end if;
            elsif(HIGH_LATENCY = 1) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed_registered &lt;= oe_ram_cs and ((not oe_ram_cs_delayed_registered and not oe_ram_cs_delayed));
               end if;
               oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
            else
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs and ((not oe_ram_cs_delayed_registered1 and not oe_ram_cs_delayed_registered and not oe_ram_cs_delayed));
               end if;
               oe_ram_cs_delayed_registered &lt;= oe_ram_cs_delayed_registered1;
               oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
            end if;
         end if;
      end if;
   end process;

   process(clock)
   begin
      if (clock&apos;event and clock=&apos;1&apos;) then
         if(HIGH_LATENCY = 0) then
            delayed_byte_offset &lt;= byte_offset;
         elsif(HIGH_LATENCY = 1) then
            delayed_byte_offset_registered &lt;= byte_offset;
            delayed_byte_offset &lt;= delayed_byte_offset_registered;
         else
            delayed_byte_offset_registered1 &lt;= byte_offset;
            delayed_byte_offset_registered &lt;= delayed_byte_offset_registered1;
            delayed_byte_offset &lt;= delayed_byte_offset_registered;
         end if;
      end if;
   end process;

   process(clock, reset)
   begin
      if(1RESET_VALUE) then
         we_ram_cs_delayed &lt;= &apos;0&apos;;
      else
         if (clock&apos;event and clock = &apos;1&apos;) then
            we_ram_cs_delayed &lt;= we_ram_cs and not we_ram_cs_delayed;
         end if;
      end if;
   end process;

   L18 : process(Sin_Rdata_ram, out1_shifted, oe_ram_cs_delayed)
   begin
      if(PRIVATE_MEMORY=1) then
         Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram-1 downto 0) &lt;= Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram-1 downto 0);
      else
         if (BITSIZE_Sout_Rdata_ram &lt;= 2*BRAM_BITSIZE) then
            if(oe_ram_cs_delayed /= &apos;0&apos;) then
               Sout_Rdata_ram &lt;= out1_shifted(BITSIZE_Sout_Rdata_ram-1 downto 0);
            else
               Sout_Rdata_ram &lt;= Sin_Rdata_ram;
            end if;
         else
            if(oe_ram_cs_delayed /= &apos;0&apos;) then
               Sout_Rdata_ram &lt;= std_logic_vector(resize(unsigned(out1_shifted), BITSIZE_Sout_Rdata_ram));
            else
               Sout_Rdata_ram &lt;= Sin_Rdata_ram;
            end if;
         end if;
      end if;
   end process;

   L19 : process(oe_ram_cs_delayed, Sin_DataRdy, we_ram_cs_delayed)
   begin
      if(PRIVATE_MEMORY=0) then
         Sout_DataRdy &lt;= oe_ram_cs_delayed or Sin_DataRdy or we_ram_cs_delayed;
      else
         Sout_DataRdy &lt;= Sin_DataRdy;
      end if;
   end process;
   
   bram_write &lt;= sel_STORE or proxy_sel_STORE or we_ram_cs;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ADDRESS_DECODING_LOGIC_NN</name>
      <circuit>
        <component_o id="ADDRESS_DECODING_LOGIC_NN">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ADDRESS_DECODING_LOGIC_NN"/>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="max_n_rw">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_b" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="memory_addr_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="bram_write" dir="OUT">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ADDRESS_DECODING_LOGIC_NN in1 in2 in3 sel_LOAD sel_STORE out1 S_oe_ram S_we_ram Sin_DataRdy Sout_DataRdy S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated_swapped be_swapped bram_write nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes max_n_rw" VERILOG_PROVIDED=
"`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_addr = BITSIZE_S_addr_ram/*n_bytes ==  1 ? 1 : $clog2(n_bytes)*/;
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 1 : $clog2(n_byte_on_databus);
  parameter nbits_address_space_rangesize = $clog2(address_space_rangesize);
`else
  parameter nbit_addr = BITSIZE_S_addr_ram/*n_bytes ==  1 ? 1 : log2(n_bytes)*/;
  parameter nbits_address_space_rangesize = log2(address_space_rangesize);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 1 : log2(n_byte_on_databus);
`endif
 parameter memory_bitsize = 2*BRAM_BITSIZE;

function [n_byte_on_databus*max_n_writes-1:0] CONV;
  input [n_byte_on_databus*max_n_writes-1:0] po2;
begin
  case (po2)
    1:CONV=(1&lt;&lt;1)-1;
    2:CONV=(1&lt;&lt;2)-1;
    4:CONV=(1&lt;&lt;4)-1;
    8:CONV=(1&lt;&lt;8)-1;
    16:CONV=(1&lt;&lt;16)-1;
    32:CONV=(1&lt;&lt;32)-1;
    default:CONV=-1;
  endcase
end
endfunction

wire [(PORTSIZE_in2*BITSIZE_in2)+(-1):0] tmp_addr;
wire [n_byte_on_databus*max_n_writes-1:0] conv_in;
wire [n_byte_on_databus*max_n_writes-1:0] conv_out;
wire [PORTSIZE_S_addr_ram-1:0] cs;
wire [PORTSIZE_S_oe_ram-1:0] oe_ram_cs;
wire [PORTSIZE_S_we_ram-1:0] we_ram_cs;
wire [nbit_addr*max_n_rw-1:0] relative_addr;
wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated;
wire [memory_bitsize*PORTSIZE_S_Wdata_ram-1:0] S_Wdata_ram_int;
wire [memory_bitsize*max_n_reads-1:0] out1_shifted;
wire [memory_bitsize*max_n_reads-1:0] dout;
wire [nbits_byte_offset*max_n_rw-1:0] byte_offset;
wire [n_byte_on_databus*max_n_writes-1:0] be;

reg [PORTSIZE_S_we_ram-1:0] we_ram_cs_delayed 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed_registered 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed_registered1 1INIT_ZERO_VALUE;
reg [max_n_reads-1:0] delayed_swapped_bit 1INIT_ZERO_VALUE;
reg [max_n_reads-1:0] delayed_swapped_bit_registered 1INIT_ZERO_VALUE;
reg [max_n_reads-1:0] delayed_swapped_bit_registered1 1INIT_ZERO_VALUE;
reg [nbits_byte_offset*max_n_reads-1:0] delayed_byte_offset 1INIT_ZERO_VALUE;
reg [nbits_byte_offset*max_n_reads-1:0] delayed_byte_offset_registered 1INIT_ZERO_VALUE;
reg [nbits_byte_offset*max_n_reads-1:0] delayed_byte_offset_registered1 1INIT_ZERO_VALUE;

generate
genvar ind2;
for (ind2=0; ind2&lt;PORTSIZE_in2; ind2=ind2+1)
  begin : Lind2
    assign tmp_addr[(ind2+1)*BITSIZE_in2-1:ind2*BITSIZE_in2] = (proxy_sel_LOAD[ind2]||proxy_sel_STORE[ind2]) ? proxy_in2[(ind2+1)*BITSIZE_proxy_in2-1:ind2*BITSIZE_proxy_in2] : in2[(ind2+1)*BITSIZE_in2-1:ind2*BITSIZE_in2];
  end
endgenerate

generate
genvar i2;
  for (i2=0;i2&lt;max_n_reads;i2=i2+1)
  begin : L_copy
      assign dout[(memory_bitsize/2)+memory_bitsize*i2-1:memory_bitsize*i2] = delayed_swapped_bit[i2] ? dout_a[(memory_bitsize/2)*(i2+1)-1:(memory_bitsize/2)*i2] : dout_b[(memory_bitsize/2)*(i2+1)-1:(memory_bitsize/2)*i2];
      assign dout[memory_bitsize*(i2+1)-1:memory_bitsize*i2+(memory_bitsize/2)] = delayed_swapped_bit[i2] ? dout_b[(memory_bitsize/2)*(i2+1)-1:(memory_bitsize/2)*i2] : dout_a[(memory_bitsize/2)*(i2+1)-1:(memory_bitsize/2)*i2];
      always @(posedge clock)
      begin
        if(HIGH_LATENCY == 0)
          delayed_swapped_bit[i2] &lt;= !relative_addr[nbits_byte_offset+i2*nbit_addr-1];
        else if(HIGH_LATENCY == 1)
        begin
          delayed_swapped_bit_registered[i2] &lt;= !relative_addr[nbits_byte_offset+i2*nbit_addr-1];
          delayed_swapped_bit[i2] &lt;= delayed_swapped_bit_registered[i2];
        end
        else
        begin
          delayed_swapped_bit_registered1[i2] &lt;= !relative_addr[nbits_byte_offset+i2*nbit_addr-1];
          delayed_swapped_bit_registered[i2] &lt;= delayed_swapped_bit_registered1[i2];
          delayed_swapped_bit[i2] &lt;= delayed_swapped_bit_registered[i2];
        end
      end
  end
endgenerate

generate
genvar i3;
  for (i3=0; i3&lt;PORTSIZE_S_addr_ram; i3=i3+1)
  begin : L3
    if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
      assign cs[i3] = (S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram] &gt;= (address_space_begin)) &amp;&amp; (S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram] &lt; (address_space_begin+address_space_rangesize));
    else if(PRIVATE_MEMORY==0)
      assign cs[i3] = S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram+nbits_address_space_rangesize] == address_space_begin[nbit_addr-1:nbits_address_space_rangesize];
    else
      assign cs[i3] = 1&apos;b0;
  end
endgenerate

generate
genvar i4;
  for (i4=0; i4&lt;PORTSIZE_S_oe_ram; i4=i4+1)
  begin : L4
    assign oe_ram_cs[i4] = S_oe_ram[i4] &amp; cs[i4];
  end
endgenerate

generate
genvar i5;
  for (i5=0; i5&lt;PORTSIZE_S_we_ram; i5=i5+1)
  begin : L5
    assign we_ram_cs[i5] = S_we_ram[i5] &amp; cs[i5];
  end
endgenerate

generate
genvar i6;
  for (i6=0; i6&lt;max_n_rw; i6=i6+1)
  begin : L6
    if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0 &amp;&amp; i6&lt; PORTSIZE_S_addr_ram)
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = ((i6 &lt; max_n_writes &amp;&amp; (sel_STORE[i6]==1&apos;b1 || proxy_sel_STORE[i6]==1&apos;b1)) || (i6 &lt; max_n_reads &amp;&amp; (sel_LOAD[i6]==1&apos;b1 || proxy_sel_LOAD[i6]==1&apos;b1))) ? tmp_addr[(i6+1)*BITSIZE_in2-1:i6*BITSIZE_in2]-address_space_begin: S_addr_ram[(i6+1)*BITSIZE_S_addr_ram-1:i6*BITSIZE_S_addr_ram]-address_space_begin;
    else if(PRIVATE_MEMORY==0 &amp;&amp; i6&lt; PORTSIZE_S_addr_ram)
      assign relative_addr[(i6)*nbit_addr+nbits_address_space_rangesize-1:i6*nbit_addr] = ((i6 &lt; max_n_writes &amp;&amp; (sel_STORE[i6]==1&apos;b1 || proxy_sel_STORE[i6]==1&apos;b1)) || (i6 &lt; max_n_reads &amp;&amp; (sel_LOAD[i6]==1&apos;b1 || proxy_sel_LOAD[i6]==1&apos;b1))) ? tmp_addr[(i6)*BITSIZE_in2+nbits_address_space_rangesize-1:i6*BITSIZE_in2] : S_addr_ram[(i6)*BITSIZE_S_addr_ram+nbits_address_space_rangesize-1:i6*BITSIZE_S_addr_ram];
    else if(USE_SPARSE_MEMORY==1)
      assign relative_addr[(i6)*nbit_addr+nbits_address_space_rangesize-1:i6*nbit_addr] = tmp_addr[(i6)*BITSIZE_in2+nbits_address_space_rangesize-1:i6*BITSIZE_in2];
    else
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = tmp_addr[(i6+1)*BITSIZE_in2-1:i6*BITSIZE_in2]-address_space_begin;
  end
endgenerate

generate
genvar i7;
  for (i7=0; i7&lt;max_n_rw; i7=i7+1)
  begin : L7_A
    if (n_mem_elements==1)
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = {nbit_read_addr{1&apos;b0}};
    else
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = !relative_addr[nbits_byte_offset+i7*nbit_addr-1] ? relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr] : (relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr-1]+ 1&apos;b1) &gt;&gt; 1;
  end
endgenerate

generate
  for (i7=0; i7&lt;max_n_rw; i7=i7+1)
  begin : L7_B
    if (n_mem_elements==1)
      assign memory_addr_b[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = {nbit_read_addr{1&apos;b0}};
    else
      assign memory_addr_b[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = !relative_addr[nbits_byte_offset+i7*nbit_addr-1] ? (relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr-1] + 1&apos;b1) &gt;&gt; 1 : relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr];
  end
endgenerate

generate
genvar i8;
  for (i8=0; i8&lt;max_n_rw; i8=i8+1)
  begin : L8
    if (n_byte_on_databus==2)
      assign byte_offset[(i8+1)*nbits_byte_offset-1:i8*nbits_byte_offset] = {nbits_byte_offset{1&apos;b0}};
    else
      assign byte_offset[(i8+1)*nbits_byte_offset-1:i8*nbits_byte_offset] = {1&apos;b0, relative_addr[nbits_byte_offset+i8*nbit_addr-2:i8*nbit_addr]};
  end
endgenerate

generate
genvar i9, i10;
  for (i9=0; i9&lt;max_n_writes; i9=i9+1)
  begin : byte_enable
    if(PRIVATE_MEMORY==0 &amp;&amp; i9 &lt; PORTSIZE_S_data_ram_size)
    begin
      assign conv_in[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = proxy_sel_STORE[i9] ? proxy_in3[BITSIZE_proxy_in3+BITSIZE_proxy_in3*i9-1:3+BITSIZE_proxy_in3*i9] : (sel_STORE[i9] ? in3[BITSIZE_in3+BITSIZE_in3*i9-1:3+BITSIZE_in3*i9] : S_data_ram_size[BITSIZE_S_data_ram_size+BITSIZE_S_data_ram_size*i9-1:3+BITSIZE_S_data_ram_size*i9]);
      assign conv_out[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = CONV(conv_in[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus]);
      assign be[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = conv_out[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] &lt;&lt; byte_offset[(i9+1)*nbits_byte_offset-1:i9*nbits_byte_offset];
    end
    else
    begin
      assign conv_in[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = proxy_sel_STORE[i9] ? proxy_in3[BITSIZE_proxy_in3+BITSIZE_proxy_in3*i9-1:3+BITSIZE_proxy_in3*i9] : in3[BITSIZE_in3+BITSIZE_in3*i9-1:3+BITSIZE_in3*i9];
      assign conv_out[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = CONV(conv_in[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus]);
      assign be[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] = conv_out[(i9+1)*n_byte_on_databus-1:i9*n_byte_on_databus] &lt;&lt; byte_offset[(i9+1)*nbits_byte_offset-1:i9*nbits_byte_offset];
    end
  end
endgenerate

generate
  for (i9=0; i9&lt;max_n_writes; i9=i9+1)
  begin : L9_swapped
    for (i10=0; i10&lt;n_byte_on_databus/2; i10=i10+1)
    begin  : byte_enable_swapped
      assign be_swapped[i10+i9*n_byte_on_databus] = !relative_addr[nbits_byte_offset+i9*nbit_addr-1] ? be[i10+i9*n_byte_on_databus] : be[i10+i9*n_byte_on_databus+n_byte_on_databus/2];
      assign be_swapped[i10+i9*n_byte_on_databus+n_byte_on_databus/2] =  !relative_addr[nbits_byte_offset+i9*nbit_addr-1] ? be[i10+i9*n_byte_on_databus+n_byte_on_databus/2] : be[i10+i9*n_byte_on_databus];
    end
  end
endgenerate
  
generate
genvar i13;
  for (i13=0; i13&lt;PORTSIZE_S_Wdata_ram; i13=i13+1)
  begin : L13
    if (BITSIZE_S_Wdata_ram &lt; memory_bitsize)
      assign S_Wdata_ram_int[memory_bitsize*(i13+1)-1:memory_bitsize*i13] = {{memory_bitsize-BITSIZE_S_Wdata_ram{1&apos;b0}}, S_Wdata_ram[(i13+1)*BITSIZE_S_Wdata_ram-1:BITSIZE_S_Wdata_ram*i13]};
    else
      assign S_Wdata_ram_int[memory_bitsize*(i13+1)-1:memory_bitsize*i13] = S_Wdata_ram[memory_bitsize+BITSIZE_S_Wdata_ram*i13-1:BITSIZE_S_Wdata_ram*i13];
  end
endgenerate

generate
genvar i14;
  for (i14=0; i14&lt;max_n_writes; i14=i14+1)
  begin : L14
    if(PRIVATE_MEMORY==0 &amp;&amp; i14 &lt; PORTSIZE_S_Wdata_ram)
      assign din_value_aggregated[(i14+1)*memory_bitsize-1:i14*memory_bitsize] = proxy_sel_STORE[i14] ? proxy_in1[(i14+1)*BITSIZE_proxy_in1-1:i14*BITSIZE_proxy_in1] &lt;&lt; byte_offset[(i14+1)*nbits_byte_offset-1:i14*nbits_byte_offset]*8 : (sel_STORE[i14] ? in1[(i14+1)*BITSIZE_in1-1:i14*BITSIZE_in1] &lt;&lt; byte_offset[(i14+1)*nbits_byte_offset-1:i14*nbits_byte_offset]*8 : S_Wdata_ram_int[memory_bitsize*(i14+1)-1:memory_bitsize*i14] &lt;&lt; byte_offset[(i14+1)*nbits_byte_offset-1:i14*nbits_byte_offset]*8);
    else
      assign din_value_aggregated[(i14+1)*memory_bitsize-1:i14*memory_bitsize] = proxy_sel_STORE[i14] ? proxy_in1[(i14+1)*BITSIZE_proxy_in1-1:i14*BITSIZE_proxy_in1] &lt;&lt; byte_offset[(i14+1)*nbits_byte_offset-1:i14*nbits_byte_offset]*8 : in1[(i14+1)*BITSIZE_in1-1:i14*BITSIZE_in1] &lt;&lt; byte_offset[(i14+1)*nbits_byte_offset-1:i14*nbits_byte_offset]*8;
  end
endgenerate

generate
  for (i14=0; i14&lt;max_n_writes; i14=i14+1)
  begin : L14_swapped
    assign din_value_aggregated_swapped[(i14)*memory_bitsize+memory_bitsize/2-1:i14*memory_bitsize] = !relative_addr[nbits_byte_offset+i14*nbit_addr-1] ? din_value_aggregated[(i14)*memory_bitsize+memory_bitsize/2-1:i14*memory_bitsize] : din_value_aggregated[(i14+1)*memory_bitsize-1:i14*memory_bitsize+memory_bitsize/2];
    assign din_value_aggregated_swapped[(i14+1)*memory_bitsize-1:i14*memory_bitsize+memory_bitsize/2] = !relative_addr[nbits_byte_offset+i14*nbit_addr-1] ?  din_value_aggregated[(i14+1)*memory_bitsize-1:i14*memory_bitsize+memory_bitsize/2] : din_value_aggregated[(i14)*memory_bitsize+memory_bitsize/2-1:i14*memory_bitsize];
  end
endgenerate

generate
genvar i15;
  for (i15=0; i15&lt;max_n_reads; i15=i15+1)
  begin : L15
    assign out1_shifted[(i15+1)*memory_bitsize-1:i15*memory_bitsize] = dout[(i15+1)*memory_bitsize-1:i15*memory_bitsize] &gt;&gt; delayed_byte_offset[(i15+1)*nbits_byte_offset-1:i15*nbits_byte_offset]*8;
  end
endgenerate

generate
genvar i20;
  for (i20=0; i20&lt;max_n_reads; i20=i20+1)
  begin : L20
    assign out1[(i20+1)*BITSIZE_out1-1:i20*BITSIZE_out1] = out1_shifted[i20*memory_bitsize+BITSIZE_out1-1:i20*memory_bitsize];
    assign proxy_out1[(i20+1)*BITSIZE_proxy_out1-1:i20*BITSIZE_proxy_out1] = out1_shifted[i20*memory_bitsize+BITSIZE_proxy_out1-1:i20*memory_bitsize];
  end
endgenerate

generate
genvar i16;
  for (i16=0; i16&lt;PORTSIZE_S_oe_ram; i16=i16+1)
  begin : L16
    always @(posedge clock 1RESET_EDGE)
    begin
      if(1RESET_VALUE)
        begin
          oe_ram_cs_delayed[i16] &lt;= 1&apos;b0;
          if(HIGH_LATENCY != 0) oe_ram_cs_delayed_registered[i16] &lt;= 1&apos;b0;
          if(HIGH_LATENCY == 2) oe_ram_cs_delayed_registered1[i16] &lt;= 1&apos;b0;
        end
      else
        if(HIGH_LATENCY == 0)
        begin
          oe_ram_cs_delayed[i16] &lt;= oe_ram_cs[i16] &amp; (!oe_ram_cs_delayed[i16] | BUS_PIPELINED);
        end
        else if(HIGH_LATENCY == 1)
        begin
          oe_ram_cs_delayed_registered[i16] &lt;= oe_ram_cs[i16] &amp; ((!oe_ram_cs_delayed_registered[i16] &amp; !oe_ram_cs_delayed[i16]) | BUS_PIPELINED);
          oe_ram_cs_delayed[i16] &lt;= oe_ram_cs_delayed_registered[i16];
        end
        else
        begin
          oe_ram_cs_delayed_registered1[i16] &lt;= oe_ram_cs[i16] &amp; ((!oe_ram_cs_delayed_registered1[i16] &amp; !oe_ram_cs_delayed_registered[i16] &amp; !oe_ram_cs_delayed[i16]) | BUS_PIPELINED);
          oe_ram_cs_delayed_registered[i16] &lt;= oe_ram_cs_delayed_registered1[i16];
          oe_ram_cs_delayed[i16] &lt;= oe_ram_cs_delayed_registered[i16];
        end
      end
    end
endgenerate

always @(posedge clock)
begin
  if(HIGH_LATENCY == 0)
    delayed_byte_offset &lt;= byte_offset[nbits_byte_offset*max_n_reads-1:0];
  else if(HIGH_LATENCY == 1)
  begin
    delayed_byte_offset_registered &lt;= byte_offset[nbits_byte_offset*max_n_reads-1:0];
    delayed_byte_offset &lt;= delayed_byte_offset_registered;
  end
  else
  begin
    delayed_byte_offset_registered1 &lt;= byte_offset[nbits_byte_offset*max_n_reads-1:0];
    delayed_byte_offset_registered &lt;= delayed_byte_offset_registered1;
    delayed_byte_offset &lt;= delayed_byte_offset_registered;
  end
end


generate
genvar i17;
  for (i17=0; i17&lt;PORTSIZE_S_we_ram; i17=i17+1)
  begin : L17
    always @(posedge clock 1RESET_EDGE)
    begin
      if(1RESET_VALUE)
        we_ram_cs_delayed[i17] &lt;= 1&apos;b0;
      else
        we_ram_cs_delayed[i17] &lt;= we_ram_cs[i17] &amp; !we_ram_cs_delayed[i17];
    end
  end
endgenerate

generate
genvar i18;
  for (i18=0; i18&lt;PORTSIZE_Sout_Rdata_ram; i18=i18+1)
  begin : L18
    if(PRIVATE_MEMORY==1)
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
    else if (BITSIZE_Sout_Rdata_ram &lt;= memory_bitsize)
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = oe_ram_cs_delayed[i18] ? out1_shifted[BITSIZE_Sout_Rdata_ram+i18*memory_bitsize-1:i18*memory_bitsize] : Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
    else
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = oe_ram_cs_delayed[i18] ? {{BITSIZE_S_Wdata_ram-memory_bitsize{1&apos;b0}}, out1_shifted[(i18+1)*memory_bitsize-1:i18*memory_bitsize]} : Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
  end
endgenerate

generate
genvar i19;
  for (i19=0; i19&lt;PORTSIZE_Sout_DataRdy; i19=i19+1)
  begin : L19
    if(PRIVATE_MEMORY==0)
      assign Sout_DataRdy[i19] = (i19 &lt; PORTSIZE_S_oe_ram &amp;&amp; oe_ram_cs_delayed[i19]) | Sin_DataRdy[i19] | (i19 &lt; PORTSIZE_S_we_ram &amp;&amp; we_ram_cs_delayed[i19]);
    else
      assign Sout_DataRdy[i19] = Sin_DataRdy[i19];
  end
endgenerate

generate
genvar i21;
  for (i21=0; i21&lt;PORTSIZE_bram_write; i21=i21+1)
  begin : L21
    if(i21 &lt; PORTSIZE_S_we_ram)
      assign bram_write[i21] = (sel_STORE[i21] || proxy_sel_STORE[i21] || we_ram_cs[i21]);
    else
      assign bram_write[i21] = (sel_STORE[i21] || proxy_sel_STORE[i21]);
  end
  endgenerate
" VHDL_PROVIDED=
"function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
   begin
      if cond then
         return op1;
      else
         return op2;
      end if;
   end integer_ternary_operator;

function CONV(po2 : std_logic_vector(n_byte_on_databus-1 downto 0)) return std_logic_vector is
  variable int_po2 : integer;
  begin
      int_po2 := to_integer(unsigned(po2));
      case int_po2 is
         when 1 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),1) -1);
         when 2 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),2) -1);
         when 4 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),4) -1);
         when 8 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),8) -1);
         when 16 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),16) -1);
         when 32 =&gt;
            return std_logic_vector(shift_left(to_unsigned(1,n_byte_on_databus),32) -1);
         when others =&gt;
            return std_logic_vector(to_signed(-1,n_byte_on_databus));
      end case;
   end CONV;

   constant nbit_addr                     : integer := BITSIZE_S_addr_ram;
   constant nbits_address_space_rangesize : integer := integer(ceil(log2(real(address_space_rangesize))));
   constant nbits_byte_offset             : integer := integer_ternary_operator(n_byte_on_databus = 1, 1, integer(ceil(log2(real(n_byte_on_databus)))));
   constant memory_bitsize                : integer := 2 * BRAM_BITSIZE;
   constant address_space_begin_u         : unsigned(nbit_addr-1 downto 0) := to_unsigned(address_space_begin, nbit_addr);

   signal tmp_addr                       : std_logic_vector((PORTSIZE_in2*BITSIZE_in2)+(-1) downto 0);
   signal conv_in                        : std_logic_vector(n_byte_on_databus*max_n_writes-1 downto 0);
   signal conv_out                       : std_logic_vector(n_byte_on_databus*max_n_writes-1 downto 0);
   signal cs                             : std_logic_vector(PORTSIZE_S_addr_ram-1 downto 0);
   signal oe_ram_cs                      : std_logic_vector(PORTSIZE_S_oe_ram-1 downto 0);
   signal we_ram_cs                      : std_logic_vector(PORTSIZE_S_we_ram-1 downto 0);
   signal relative_addr                  : std_logic_vector(nbit_addr*max_n_rw-1 downto 0);
   signal din_value_aggregated           : std_logic_vector(memory_bitsize*max_n_writes-1 downto 0);
   signal S_Wdata_ram_int                : std_logic_vector(memory_bitsize*PORTSIZE_S_Wdata_ram-1 downto 0);
   signal out1_shifted                   : std_logic_vector(memory_bitsize*max_n_reads-1 downto 0);
   signal dout                           : std_logic_vector(memory_bitsize*max_n_reads-1 downto 0);
   signal byte_offset                    : std_logic_vector(nbits_byte_offset*max_n_rw-1 downto 0);
   signal be                             : std_logic_vector(n_byte_on_databus*max_n_writes-1 downto 0);

   signal we_ram_cs_delayed              : std_logic_vector(PORTSIZE_S_we_ram-1 downto 0) 1INIT_ZERO_VALUE;
   signal oe_ram_cs_delayed              : std_logic_vector(PORTSIZE_S_oe_ram-1 downto 0) 1INIT_ZERO_VALUE;
   signal oe_ram_cs_delayed_registered   : std_logic_vector(PORTSIZE_S_oe_ram-1 downto 0) 1INIT_ZERO_VALUE;
   signal oe_ram_cs_delayed_registered1   : std_logic_vector(PORTSIZE_S_oe_ram-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_swapped_bit            : std_logic_vector(max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_swapped_bit_registered : std_logic_vector(max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_swapped_bit_registered1 : std_logic_vector(max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_byte_offset            : std_logic_vector(nbits_byte_offset*max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_byte_offset_registered : std_logic_vector(nbits_byte_offset*max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
   signal delayed_byte_offset_registered1 : std_logic_vector(nbits_byte_offset*max_n_reads-1 downto 0) 1INIT_ZERO_VALUE;
begin
   process(proxy_sel_LOAD, proxy_sel_STORE, proxy_in2, in2)
   begin
      for ind2 in 0 to PORTSIZE_in2-1 loop
         if(proxy_sel_LOAD(ind2) = &apos;1&apos; or proxy_sel_STORE(ind2) = &apos;1&apos;) then
            tmp_addr((ind2+1)*BITSIZE_in2-1 downto ind2*BITSIZE_in2) &lt;= proxy_in2((ind2+1)*BITSIZE_proxy_in2-1  downto ind2*BITSIZE_proxy_in2);
         else
            tmp_addr((ind2+1)*BITSIZE_in2-1 downto ind2*BITSIZE_in2) &lt;= in2((ind2+1)*BITSIZE_in2-1 downto ind2*BITSIZE_in2);
         end if;
      end loop;
   end process;

   L_delayed_swapped_bit : process(clock)
   begin
      if (clock&apos;event and clock=&apos;1&apos;) then
         for i2 in 0 to max_n_reads-1 loop
            if(HIGH_LATENCY = 0) then
               delayed_swapped_bit(i2) &lt;= not relative_addr(nbits_byte_offset+i2*nbit_addr-1);
            elsif(HIGH_LATENCY = 1) then
               delayed_swapped_bit_registered(i2) &lt;= not relative_addr(nbits_byte_offset+i2*nbit_addr-1);
               delayed_swapped_bit(i2) &lt;= delayed_swapped_bit_registered(i2);
            else
               delayed_swapped_bit_registered1(i2) &lt;= not relative_addr(nbits_byte_offset+i2*nbit_addr-1);
               delayed_swapped_bit_registered(i2) &lt;= delayed_swapped_bit_registered1(i2);
               delayed_swapped_bit(i2) &lt;= delayed_swapped_bit_registered(i2);
            end if;
         end loop;
      end if;
   end process;

   L_dout : process(dout_a, dout_b, delayed_swapped_bit)
   begin
      for i2 in 0 to max_n_reads-1 loop
         if(delayed_swapped_bit(i2) /= &apos;0&apos;) then
            dout((memory_bitsize/2)+memory_bitsize*i2-1 downto memory_bitsize*i2) &lt;= dout_a((memory_bitsize/2)*(i2+1)-1 downto (memory_bitsize/2)*i2);
         else
            dout((memory_bitsize/2)+memory_bitsize*i2-1 downto memory_bitsize*i2) &lt;= dout_b((memory_bitsize/2)*(i2+1)-1 downto (memory_bitsize/2)*i2);
         end if;
         if(delayed_swapped_bit(i2) /= &apos;0&apos;) then
            dout(memory_bitsize*(i2+1)-1 downto memory_bitsize*i2+(memory_bitsize/2)) &lt;= dout_b((memory_bitsize/2)*(i2+1)-1 downto (memory_bitsize/2)*i2);
         else
            dout(memory_bitsize*(i2+1)-1 downto memory_bitsize*i2+(memory_bitsize/2)) &lt;= dout_a((memory_bitsize/2)*(i2+1)-1 downto (memory_bitsize/2)*i2);
         end if;
      end loop;
   end process;

   L3 : process(S_addr_ram)
   begin
      for i3 in 0 to PORTSIZE_S_addr_ram-1 loop
         if(PRIVATE_MEMORY = 0 and USE_SPARSE_MEMORY = 0) then
            if(to_integer(unsigned(S_addr_ram((i3+1)*BITSIZE_S_addr_ram-1 downto i3*BITSIZE_S_addr_ram))) &gt;= (address_space_begin)) and (to_integer(unsigned(S_addr_ram((i3+1)*BITSIZE_S_addr_ram-1 downto i3*BITSIZE_S_addr_ram))) &lt; (address_space_begin+address_space_rangesize)) then
               cs(i3) &lt;= &apos;1&apos;;
            else
               cs(i3) &lt;= &apos;0&apos;;
            end if;
         else
            if(PRIVATE_MEMORY=0) then
               if S_addr_ram((i3+1)*BITSIZE_S_addr_ram-1 downto i3*BITSIZE_S_addr_ram+nbits_address_space_rangesize) = std_logic_vector(address_space_begin_u(nbit_addr-1 downto nbits_address_space_rangesize)) then
                  cs(i3) &lt;= &apos;1&apos;;
               else
                  cs(i3) &lt;= &apos;0&apos;;
               end if;
            else
               cs(i3) &lt;= &apos;0&apos;;
            end if;
         end if;
      end loop;
   end process;

   L4 : process(S_oe_ram, cs)
   begin
      for i4 in 0 to PORTSIZE_S_oe_ram-1 loop
         oe_ram_cs(i4) &lt;= S_oe_ram(i4) and cs(i4);
      end loop;
   end process;

   L5 : process(S_we_ram, cs)
   begin
      for i5 in 0 to PORTSIZE_S_we_ram-1 loop
         we_ram_cs(i5) &lt;= S_we_ram(i5) and cs(i5);
      end loop;
   end process;

   L6 : process(sel_STORE, proxy_sel_STORE, sel_LOAD, proxy_sel_LOAD, tmp_addr, S_addr_ram)
   begin
      for i6 in 0 to max_n_rw-1 loop
         if(PRIVATE_MEMORY=0 and USE_SPARSE_MEMORY=0 and i6&lt; PORTSIZE_S_addr_ram) then
            if((i6 &lt; max_n_writes and (sel_STORE(i6) = &apos;1&apos;  or proxy_sel_STORE(i6) = &apos;1&apos;)) or (i6 &lt; max_n_reads and (sel_LOAD(i6) = &apos;1&apos; or proxy_sel_LOAD(i6) = &apos;1&apos;))) then
               relative_addr((i6+1)*nbit_addr-1 downto i6*nbit_addr) &lt;= std_logic_vector(unsigned(tmp_addr((i6+1)*BITSIZE_in2-1 downto i6*BITSIZE_in2))-(to_unsigned(address_space_begin, nbit_addr)));
            else
               relative_addr((i6+1)*nbit_addr-1 downto i6*nbit_addr) &lt;= std_logic_vector(unsigned(S_addr_ram((i6+1)*BITSIZE_S_addr_ram-1 downto i6*BITSIZE_S_addr_ram)) - (to_unsigned(address_space_begin, nbit_addr)));
            end if;
         else
            if(PRIVATE_MEMORY=0 and i6&lt; PORTSIZE_S_addr_ram) then
               if((i6 &lt; max_n_writes and (sel_STORE(i6) = &apos;1&apos; or proxy_sel_STORE(i6) =&apos;1&apos; )) or (i6 &lt; max_n_reads and (sel_LOAD(i6)=&apos;1&apos; or proxy_sel_LOAD(i6)=&apos;1&apos;))) then
                  relative_addr((i6)*nbit_addr+nbits_address_space_rangesize-1 downto i6*nbit_addr) &lt;= tmp_addr((i6)*BITSIZE_in2+nbits_address_space_rangesize-1 downto i6*BITSIZE_in2);
                  relative_addr((i6+1)*nbit_addr-1 downto (i6)*nbit_addr+nbits_address_space_rangesize) &lt;= (others =&gt; &apos;0&apos;);
               else
                  relative_addr((i6)*nbit_addr+nbits_address_space_rangesize-1 downto i6*nbit_addr) &lt;= S_addr_ram((i6)*BITSIZE_S_addr_ram+nbits_address_space_rangesize-1 downto i6*BITSIZE_S_addr_ram);
                  relative_addr((i6+1)*nbit_addr-1 downto (i6)*nbit_addr+nbits_address_space_rangesize) &lt;= (others =&gt; &apos;0&apos;);
               end if;
            else
               if(USE_SPARSE_MEMORY=1) then
                  relative_addr((i6)*nbit_addr+nbits_address_space_rangesize-1 downto i6*nbit_addr) &lt;= tmp_addr((i6)*BITSIZE_in2+nbits_address_space_rangesize-1 downto i6*BITSIZE_in2);
                  relative_addr((i6+1)*nbit_addr-1 downto (i6)*nbit_addr+nbits_address_space_rangesize) &lt;= (others =&gt; &apos;0&apos;);
               else
                  relative_addr((i6+1)*nbit_addr-1 downto i6*nbit_addr) &lt;= std_logic_vector(unsigned(tmp_addr((i6+1)*BITSIZE_in2-1 downto i6*BITSIZE_in2)) - to_unsigned(address_space_begin, nbit_addr));
               end if;
            end if;
         end if;
      end loop;
   end process;

   L7_A : process(relative_addr)
   begin
      for i7 in 0 to max_n_rw-1 loop
         if (n_mem_elements=1) then
             memory_addr_a((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= (others =&gt; &apos;0&apos;);
         else
            if(relative_addr(nbits_byte_offset+i7*nbit_addr-1) = &apos;0&apos;) then
               memory_addr_a((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= relative_addr(nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr downto nbits_byte_offset+i7*nbit_addr);
            else
               memory_addr_a((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= std_logic_vector(resize(shift_right(unsigned(relative_addr(nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr downto nbits_byte_offset+i7*nbit_addr-1)) + 1, 1), nbit_read_addr));
               end if;
         end if;
      end loop;
   end process;

   L7_B : process(relative_addr)
   begin
      for i7 in 0 to max_n_rw-1 loop
         if (n_mem_elements=1) then
            memory_addr_b((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= (others =&gt; &apos;0&apos;);
         else
            if(relative_addr(nbits_byte_offset+i7*nbit_addr-1) = &apos;0&apos;) then
               memory_addr_b((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= std_logic_vector(resize(shift_right(unsigned(relative_addr(nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr downto nbits_byte_offset+i7*nbit_addr-1)) + 1, 1), nbit_read_addr));
            else
               memory_addr_b((i7+1)*nbit_read_addr-1 downto i7*nbit_read_addr) &lt;= relative_addr(nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr downto nbits_byte_offset+i7*nbit_addr);
            end if;
         end if;
      end loop;
   end process;

   L8 : process(relative_addr)
   begin
      for i8 in 0 to max_n_rw-1 loop
         if (n_byte_on_databus=2) then
            byte_offset((i8+1)*nbits_byte_offset-1 downto i8*nbits_byte_offset) &lt;= (others =&gt; &apos;0&apos;);
         else
            byte_offset((i8+1)*nbits_byte_offset-1 downto i8*nbits_byte_offset) &lt;= &apos;0&apos; &amp; relative_addr(nbits_byte_offset+i8*nbit_addr-2 downto i8*nbit_addr);
         end if;
      end loop;
   end process;

   be_conv_in : process(proxy_sel_STORE, proxy_in3, sel_STORE, in3, S_data_ram_size)
   begin
      for i9 in 0 to max_n_writes-1 loop
         if(PRIVATE_MEMORY=0 and i9 &lt; PORTSIZE_S_data_ram_size) then
            if(proxy_sel_STORE(i9) /= &apos;0&apos;) then
               conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(resize(unsigned(proxy_in3(BITSIZE_proxy_in3+BITSIZE_proxy_in3*i9-1 downto 3+BITSIZE_proxy_in3*i9)), n_byte_on_databus));
            else
               if(sel_STORE(i9) /= &apos;0&apos;) then
                  conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(resize(unsigned(in3(BITSIZE_in3+BITSIZE_in3*i9-1 downto 3+BITSIZE_in3*i9)), n_byte_on_databus));
               else
                  conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(resize(unsigned(S_data_ram_size(BITSIZE_S_data_ram_size+BITSIZE_S_data_ram_size*i9-1 downto 3+BITSIZE_S_data_ram_size*i9)), n_byte_on_databus));
               end if;
            end if;
         else
            if(proxy_sel_STORE(i9) /= &apos;0&apos;) then
               conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(resize(unsigned(proxy_in3(BITSIZE_proxy_in3+BITSIZE_proxy_in3*i9-1 downto 3+BITSIZE_proxy_in3*i9)), n_byte_on_databus));
            else
               conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(resize(unsigned(in3(BITSIZE_in3+BITSIZE_in3*i9-1 downto 3+BITSIZE_in3*i9)), n_byte_on_databus));
            end if;
         end  if;
      end loop;
   end process;

   be_conv_out : process(conv_in)
   begin
      for i9 in 0 to max_n_writes-1 loop
         if(PRIVATE_MEMORY=0 and i9 &lt; PORTSIZE_S_data_ram_size) then
            conv_out((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(
               resize(
                  unsigned(
                     CONV(
                        conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus)
                     )
                  ),
                  n_byte_on_databus
               )
            );
         else
            conv_out((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(
               resize(
                  unsigned(
                     CONV(
                        conv_in((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus)
                     )
                  ),
                  n_byte_on_databus
               )
            );
         end  if;
      end loop;
   end process;

   byte_enable : process(conv_out, byte_offset)
   begin
      for i9 in 0 to max_n_writes-1 loop
         if(PRIVATE_MEMORY=0 and i9 &lt; PORTSIZE_S_data_ram_size) then
            be((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(shift_left(unsigned(conv_out((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus)), to_integer(unsigned(byte_offset((i9+1)*nbits_byte_offset-1 downto i9*nbits_byte_offset)))));
         else
            be((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus) &lt;= std_logic_vector(shift_left(unsigned(conv_out((i9+1)*n_byte_on_databus-1 downto i9*n_byte_on_databus)), to_integer(unsigned(byte_offset((i9+1)*nbits_byte_offset-1 downto i9*nbits_byte_offset)))));
         end  if;
      end loop;
   end process;

   byte_enable_swapped : process(relative_addr, be)
   begin
      for i9 in 0 to max_n_writes-1 loop
         for i10 in 0 to n_byte_on_databus/2 - 1 loop
            if(relative_addr(nbits_byte_offset+i9*nbit_addr-1) = &apos;0&apos;) then
               be_swapped(i10+i9*n_byte_on_databus) &lt;= be(i10+i9*n_byte_on_databus);
               be_swapped(i10+i9*n_byte_on_databus+n_byte_on_databus/2) &lt;= be(i10+i9*n_byte_on_databus+n_byte_on_databus/2);
            else
               be_swapped(i10+i9*n_byte_on_databus) &lt;= be(i10+i9*n_byte_on_databus+n_byte_on_databus/2);
               be_swapped(i10+i9*n_byte_on_databus+n_byte_on_databus/2) &lt;= be(i10+i9*n_byte_on_databus);
            end if;
         end loop;
      end loop;
   end process;

   L13 : process(S_Wdata_ram)
   begin
      for i13 in 0 to PORTSIZE_S_Wdata_ram-1 loop
         if (BITSIZE_S_Wdata_ram &lt; memory_bitsize) then
            S_Wdata_ram_int(memory_bitsize*(i13+1)-1 downto memory_bitsize*i13 + BITSIZE_S_Wdata_ram) &lt;= (others =&gt; &apos;0&apos;);
            S_Wdata_ram_int(memory_bitsize*i13 + BITSIZE_S_Wdata_ram - 1 downto memory_bitsize*i13) &lt;= S_Wdata_ram((i13+1)*BITSIZE_S_Wdata_ram-1 downto BITSIZE_S_Wdata_ram*i13);
         else
            S_Wdata_ram_int(memory_bitsize*(i13+1)-1 downto memory_bitsize*i13) &lt;= S_Wdata_ram(memory_bitsize+BITSIZE_S_Wdata_ram*i13-1 downto BITSIZE_S_Wdata_ram*i13);
         end if;
      end loop;
   end process;

   L14 : process(proxy_sel_STORE, proxy_in1, byte_offset, sel_STORE, in1, S_Wdata_ram_int)
   begin
      for i14 in 0 to max_n_writes-1 loop
         if(PRIVATE_MEMORY=0 and i14 &lt; PORTSIZE_S_Wdata_ram) then
            if(proxy_sel_STORE(i14) /= &apos;0&apos;) then
               din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize) &lt;= std_logic_vector(shift_left(resize(unsigned(proxy_in1((i14+1)*BITSIZE_proxy_in1-1 downto i14*BITSIZE_proxy_in1)), memory_bitsize), to_integer(unsigned(byte_offset((i14+1)*nbits_byte_offset-1 downto i14*nbits_byte_offset)))*8));
            else
               if(sel_STORE(i14) /= &apos;0&apos;) then
                  din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize) &lt;= std_logic_vector(shift_left(resize(unsigned((in1((i14+1)*BITSIZE_in1-1 downto i14*BITSIZE_in1))), memory_bitsize), to_integer(unsigned(byte_offset((i14+1)*nbits_byte_offset-1 downto i14*nbits_byte_offset)))*8));
               else
                  din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize) &lt;= std_logic_vector(shift_left(resize(unsigned(S_Wdata_ram_int(memory_bitsize*(i14+1)-1 downto memory_bitsize*i14)), memory_bitsize), to_integer(unsigned(byte_offset((i14+1)*nbits_byte_offset-1 downto i14*nbits_byte_offset)))*8));
               end if;
             end if;
         else
            if(proxy_sel_STORE(i14) /= &apos;0&apos;) then
               din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize) &lt;= std_logic_vector(shift_left(resize(unsigned(proxy_in1((i14+1)*BITSIZE_proxy_in1-1 downto i14*BITSIZE_proxy_in1)), memory_bitsize), to_integer(unsigned(byte_offset((i14+1)*nbits_byte_offset-1 downto i14*nbits_byte_offset)))*8));
            else
               din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize) &lt;= std_logic_vector(shift_left(resize(unsigned(in1((i14+1)*BITSIZE_in1-1 downto i14*BITSIZE_in1)), memory_bitsize), to_integer(unsigned(byte_offset((i14+1)*nbits_byte_offset-1 downto i14*nbits_byte_offset)))*8));
            end if;
         end if;
      end loop;
   end process;

   L14_swapped : process(relative_addr, din_value_aggregated)
   begin
      for i14 in 0 to max_n_writes-1 loop
         if(relative_addr(nbits_byte_offset+i14*nbit_addr-1) = &apos;0&apos;) then
            din_value_aggregated_swapped((i14)*memory_bitsize+memory_bitsize/2-1 downto i14*memory_bitsize) &lt;= din_value_aggregated((i14)*memory_bitsize+memory_bitsize/2-1 downto i14*memory_bitsize);
         else
            din_value_aggregated_swapped((i14)*memory_bitsize+memory_bitsize/2-1 downto i14*memory_bitsize) &lt;= din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize+memory_bitsize/2);
         end if;
         if(relative_addr(nbits_byte_offset+i14*nbit_addr-1) = &apos;0&apos;) then
            din_value_aggregated_swapped((i14+1)*memory_bitsize-1 downto i14*memory_bitsize+memory_bitsize/2) &lt;= din_value_aggregated((i14+1)*memory_bitsize-1 downto i14*memory_bitsize+memory_bitsize/2);
         else
            din_value_aggregated_swapped((i14+1)*memory_bitsize-1 downto i14*memory_bitsize+memory_bitsize/2) &lt;= din_value_aggregated((i14)*memory_bitsize+memory_bitsize/2-1 downto i14*memory_bitsize);
         end if;
      end loop;
   end process;

   L15 : process(dout, delayed_byte_offset)
   begin
      for i15 in 0 to max_n_reads-1 loop
         out1_shifted((i15+1)*memory_bitsize-1 downto i15*memory_bitsize) &lt;= std_logic_vector(shift_right(resize(unsigned(dout((i15+1)*memory_bitsize-1 downto i15*memory_bitsize)), memory_bitsize), to_integer(unsigned(delayed_byte_offset((i15+1)*nbits_byte_offset-1 downto i15*nbits_byte_offset)))*8));
      end loop;
   end process;

   L20 : process(out1_shifted)
   begin
      for i20 in 0 to max_n_reads-1 loop
         out1((i20+1)*BITSIZE_out1-1 downto i20*BITSIZE_out1) &lt;= out1_shifted(i20*memory_bitsize+BITSIZE_out1-1 downto i20*memory_bitsize);
         proxy_out1((i20+1)*BITSIZE_proxy_out1-1 downto i20*BITSIZE_proxy_out1) &lt;= out1_shifted(i20*memory_bitsize+BITSIZE_proxy_out1-1 downto i20*memory_bitsize);
      end loop;
   end process;

   L16 : process(reset, clock)
   begin
      if(1RESET_VALUE) then
         for i16 in 0 to PORTSIZE_S_oe_ram - 1 loop
            oe_ram_cs_delayed(i16) &lt;= &apos;0&apos;;
            if(HIGH_LATENCY /= 0) then
               oe_ram_cs_delayed_registered(i16) &lt;= &apos;0&apos;;
            end if;
            if(HIGH_LATENCY = 2) then
               oe_ram_cs_delayed_registered1(i16) &lt;= &apos;0&apos;;
            end if;
         end loop;
      elsif (clock&apos;event and clock = &apos;1&apos;) then
         for i16 in 0 to PORTSIZE_S_oe_ram - 1 loop
            if(HIGH_LATENCY = 0) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed(i16) &lt;= oe_ram_cs(i16);
               else
                  oe_ram_cs_delayed(i16) &lt;= oe_ram_cs(i16) and (not oe_ram_cs_delayed(i16));
               end if;
            elsif(HIGH_LATENCY = 1) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered(i16) &lt;= oe_ram_cs(i16);
               else
                  oe_ram_cs_delayed_registered(i16) &lt;= oe_ram_cs(i16) and ((not oe_ram_cs_delayed_registered(i16) and not oe_ram_cs_delayed(i16)));
                end if;
                oe_ram_cs_delayed(i16) &lt;= oe_ram_cs_delayed_registered(i16);
            else
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered1(i16) &lt;= oe_ram_cs(i16);
               else
                  oe_ram_cs_delayed_registered1(i16) &lt;= oe_ram_cs(i16) and ((not oe_ram_cs_delayed_registered1(i16) and not oe_ram_cs_delayed_registered(i16) and not oe_ram_cs_delayed(i16)));
               end if;
               oe_ram_cs_delayed_registered(i16) &lt;= oe_ram_cs_delayed_registered1(i16);
               oe_ram_cs_delayed(i16) &lt;= oe_ram_cs_delayed_registered(i16);
            end if;
         end loop;
      end if;
   end process;

   process(clock)
   begin
      if (clock&apos;event and clock=&apos;1&apos;) then
         if(HIGH_LATENCY = 0) then
            delayed_byte_offset &lt;= byte_offset(nbits_byte_offset*max_n_reads-1 downto 0);
         elsif(HIGH_LATENCY = 1) then
            delayed_byte_offset_registered &lt;= byte_offset(nbits_byte_offset*max_n_reads-1 downto 0);
            delayed_byte_offset &lt;= delayed_byte_offset_registered;
         else
            delayed_byte_offset_registered1 &lt;= byte_offset(nbits_byte_offset*max_n_reads-1 downto 0);
            delayed_byte_offset_registered &lt;= delayed_byte_offset_registered1;
            delayed_byte_offset &lt;= delayed_byte_offset_registered;
         end if;
      end if;
   end process;

   process(clock, reset)
   begin
      if(1RESET_VALUE) then
         for i17 in 0 to PORTSIZE_S_we_ram-1 loop
            we_ram_cs_delayed(i17) &lt;= &apos;0&apos;;
         end loop;
      elsif (clock&apos;event and clock = &apos;1&apos;) then
         for i17 in 0 to PORTSIZE_S_we_ram-1 loop
               we_ram_cs_delayed(i17) &lt;= we_ram_cs(i17) and not we_ram_cs_delayed(i17);
         end loop;
      end if;
   end process;

   L18 : process(Sin_Rdata_ram, out1_shifted, oe_ram_cs_delayed)
   begin
      for i18 in 0 to PORTSIZE_Sout_Rdata_ram-1 loop
         if(PRIVATE_MEMORY=1) then
             Sout_Rdata_ram((i18+1)*BITSIZE_Sout_Rdata_ram-1 downto i18*BITSIZE_Sout_Rdata_ram) &lt;= Sin_Rdata_ram((i18+1)*BITSIZE_Sin_Rdata_ram-1 downto i18*BITSIZE_Sin_Rdata_ram);
         else
            if (BITSIZE_Sout_Rdata_ram &lt;= memory_bitsize) then
               if(oe_ram_cs_delayed(i18) /= &apos;0&apos;) then
                  Sout_Rdata_ram((i18+1)*BITSIZE_Sout_Rdata_ram-1 downto i18*BITSIZE_Sout_Rdata_ram) &lt;= out1_shifted(BITSIZE_Sout_Rdata_ram+i18*memory_bitsize-1 downto i18*memory_bitsize);
               else
                  Sout_Rdata_ram((i18+1)*BITSIZE_Sout_Rdata_ram-1 downto i18*BITSIZE_Sout_Rdata_ram) &lt;= Sin_Rdata_ram((i18+1)*BITSIZE_Sin_Rdata_ram-1 downto i18*BITSIZE_Sin_Rdata_ram);
               end if;
            else
               if(oe_ram_cs_delayed(i18) /= &apos;0&apos;) then
                  Sout_Rdata_ram((i18+1)*BITSIZE_Sout_Rdata_ram-1 downto i18*BITSIZE_Sout_Rdata_ram) &lt;= std_logic_vector(resize(unsigned(out1_shifted((i18+1)*memory_bitsize-1 downto i18*memory_bitsize)), BITSIZE_Sout_Rdata_ram));
               else
                  Sout_Rdata_ram((i18+1)*BITSIZE_Sout_Rdata_ram-1 downto i18*BITSIZE_Sout_Rdata_ram) &lt;= Sin_Rdata_ram((i18+1)*BITSIZE_Sin_Rdata_ram-1 downto i18*BITSIZE_Sin_Rdata_ram);
               end if;
            end if;
         end if;
      end loop;
   end process;

   L19 : process(oe_ram_cs_delayed, Sin_DataRdy, we_ram_cs_delayed)
   begin
      for i19 in 0 to PORTSIZE_Sout_DataRdy-1 loop
         if(PRIVATE_MEMORY=0) then
            if((i19 &lt; PORTSIZE_S_oe_ram and oe_ram_cs_delayed(i19) /= &apos;0&apos;) or (Sin_DataRdy(i19) /= &apos;0&apos;) or (i19 &lt; PORTSIZE_S_we_ram and we_ram_cs_delayed(i19) /= &apos;0&apos;)) then
               Sout_DataRdy(i19) &lt;= &apos;1&apos;;
            else
               Sout_DataRdy(i19) &lt;= &apos;0&apos;;
            end if;
         else
            Sout_DataRdy(i19) &lt;= Sin_DataRdy(i19);
         end if;
      end loop;
   end process;

   L21 : process(sel_STORE, proxy_sel_STORE, we_ram_cs)
   begin
      for i21 in 0 to PORTSIZE_bram_write-1 loop
         if(i21 &lt; PORTSIZE_S_we_ram) then
            bram_write(i21) &lt;= (sel_STORE(i21) or proxy_sel_STORE(i21) or we_ram_cs(i21));
         else
            bram_write(i21) &lt;= (sel_STORE(i21) or proxy_sel_STORE(i21));
         end if;
      end loop;
   end process;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_TP</name>
      <circuit>
        <component_o id="BRAM_MEMORY_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_TP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_TP dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY" VERILOG_PROVIDED="
wire [n_byte_on_databus-1:0] we_a;
wire [n_byte_on_databus-1:0] we_b;

wire [n_byte_on_databus-1:0] we_a_temp;
wire [n_byte_on_databus-1:0] we_b_temp;
wire bram_write_temp;
wire [BITSIZE_din_value_aggregated-1:0] din_value_aggregated_temp;
wire [BITSIZE_memory_addr_a-1:0] memory_addr_a_temp;
wire [BITSIZE_memory_addr_b-1:0] memory_addr_b_temp;


reg [BRAM_BITSIZE-1:0] din_a_temp;
reg [BRAM_BITSIZE-1:0] din_b_temp;
reg [BITSIZE_dout_a-1:0] dout_a 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_a-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b_registered 1INIT_ZERO_VALUE;
reg [BRAM_BITSIZE-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    reg [n_byte_on_databus-1:0] we_a_reg 1INIT_ZERO_VALUE;
    reg [n_byte_on_databus-1:0] we_b_reg 1INIT_ZERO_VALUE;
    reg bram_write_reg 1INIT_ZERO_VALUE;
    reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated_reg 1INIT_ZERO_VALUE;
    reg [BITSIZE_memory_addr_a-1:0] memory_addr_a_reg 1INIT_ZERO_VALUE;
    reg [BITSIZE_memory_addr_b-1:0] memory_addr_b_reg 1INIT_ZERO_VALUE;
    always @ (posedge clock)
    begin
       memory_addr_a_reg &lt;= memory_addr_a;
       memory_addr_b_reg &lt;= memory_addr_b;
       we_a_reg &lt;= we_a;
       we_b_reg &lt;= we_b;
       bram_write_reg &lt;= bram_write;
       din_value_aggregated_reg &lt;= din_value_aggregated;
    end
    assign we_a_temp = we_a_reg;
    assign we_b_temp = we_b_reg;
    assign memory_addr_a_temp = memory_addr_a_reg;
    assign memory_addr_b_temp = memory_addr_b_reg;
    assign bram_write_temp = bram_write_reg;
    assign din_value_aggregated_temp = din_value_aggregated_reg;
  end
  else
  begin
    assign we_a_temp = we_a;
    assign we_b_temp = we_b;
    assign memory_addr_a_temp = memory_addr_a;
    assign memory_addr_b_temp = memory_addr_b;
    assign bram_write_temp = bram_write;
    assign din_value_aggregated_temp = din_value_aggregated;
  end
endgenerate


generate
genvar i0_a;
  for (i0_a=0; i0_a&lt;n_byte_on_databus; i0_a=i0_a+1)
  begin  : din_a_computation1
    always @(we_a_temp[i0_a] or din_value_aggregated_temp[(i0_a+1)*8-1:i0_a*8] or memory_addr_a_temp
//synthesis translate_off
    or memory
//synthesis translate_on
    )
      if (we_a_temp[i0_a])
        din_a_temp[(i0_a+1)*8-1:i0_a*8] = din_value_aggregated_temp[(i0_a+1)*8-1:i0_a*8];
      else
        din_a_temp[(i0_a+1)*8-1:i0_a*8] = memory[memory_addr_a_temp][(i0_a+1)*8-1:i0_a*8];
  end
endgenerate

generate
genvar i0_b;
  for (i0_b=0; i0_b&lt;n_byte_on_databus &amp;&amp; n_bytes &gt; BRAM_BITSIZE/8; i0_b=i0_b+1)
  begin  : din_b_computation1
    always @(we_b_temp[i0_b] or din_value_aggregated_temp[(i0_b+n_byte_on_databus+1)*8-1:(i0_b+n_byte_on_databus)*8] or memory_addr_b_temp
//synthesis translate_off
    or memory
//synthesis translate_on
    )
      if (we_b_temp[i0_b])
        din_b_temp[(i0_b+1)*8-1:i0_b*8] = din_value_aggregated_temp[(i0_b+n_byte_on_databus+1)*8-1:(i0_b+n_byte_on_databus)*8];
      else
        din_b_temp[(i0_b+1)*8-1:i0_b*8] = memory[memory_addr_b_temp][(i0_b+1)*8-1:i0_b*8];
  end
endgenerate

always @(posedge clock)
begin
  if (bram_write_temp)
  begin
    memory[memory_addr_a_temp] &lt;= din_a_temp;
  end
  if(HIGH_LATENCY==0)
  begin
    dout_a &lt;= memory[memory_addr_a_temp];
  end
  else
  begin
    dout_a_registered &lt;= memory[memory_addr_a_temp];
    dout_a &lt;= dout_a_registered;
  end
end

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin
    always @(posedge clock)
    begin
      if (bram_write_temp)
      begin
        memory[memory_addr_b_temp] &lt;= din_b_temp;
      end
      if(HIGH_LATENCY==0)
      begin
        dout_b &lt;= memory[memory_addr_b_temp];
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b_temp];
        dout_b &lt;= dout_b_registered;
      end
    end
  end
endgenerate

generate
genvar i2_a;
  for (i2_a=0; i2_a&lt;n_byte_on_databus; i2_a=i2_a+1)
  begin  : write_enable_a
    assign we_a[i2_a] = (bram_write) &amp;&amp; be[i2_a];
  end
endgenerate

generate
genvar i2_b;
  for (i2_b=0; i2_b&lt;n_byte_on_databus; i2_b=i2_b+1)
  begin  : write_enable_b
    assign we_b[i2_b] = (bram_write) &amp;&amp; be[i2_b+n_byte_on_databus];
  end
  endgenerate
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_TP</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_TP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_TP bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY" VERILOG_PROVIDED="
wire [nbit_read_addr-1:0] memory_addr_a_0;
wire [nbit_read_addr-1:0] memory_addr_a_1;
wire [(n_byte_on_databus/2)*max_n_writes-1:0] we_a;
wire [(n_byte_on_databus/2)*max_n_writes-1:0] we_a_temp;
wire [(PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1):0] memory_addr_a_temp;
wire [PORTSIZE_bram_write-1:0] bram_write_temp;
wire [(PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1):0] din_value_aggregated_swapped_temp;

reg [BRAM_BITSIZE-1:0] din_a_0_temp;
reg [BRAM_BITSIZE-1:0] din_a_1_temp;
reg [BRAM_BITSIZE-1:0] dout_a_0 1INIT_ZERO_VALUE;
reg [BRAM_BITSIZE-1:0] dout_a_1 1INIT_ZERO_VALUE;
reg [BRAM_BITSIZE-1:0] dout_a_0_registered 1INIT_ZERO_VALUE;
reg [BRAM_BITSIZE-1:0] dout_a_1_registered 1INIT_ZERO_VALUE;

integer index1, index2;
reg [BRAM_BITSIZE-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    reg [(n_byte_on_databus/2)*max_n_writes-1:0] we_a_reg 1INIT_ZERO_VALUE;
    reg [PORTSIZE_bram_write-1:0] bram_write_reg 1INIT_ZERO_VALUE;
    reg [(PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1):0] din_value_aggregated_swapped_reg 1INIT_ZERO_VALUE;
    reg [(PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1):0] memory_addr_a_reg 1INIT_ZERO_VALUE;
    always @ (posedge clock)
    begin
       we_a_reg &lt;= we_a;
       memory_addr_a_reg &lt;= memory_addr_a;
       bram_write_reg &lt;= bram_write;
       din_value_aggregated_swapped_reg &lt;= din_value_aggregated_swapped;
    end
    assign we_a_temp = we_a_reg;
    assign memory_addr_a_temp = memory_addr_a_reg;
    assign bram_write_temp = bram_write_reg;
    assign din_value_aggregated_swapped_temp = din_value_aggregated_swapped_reg;
  end
  else
  begin
    assign we_a_temp = we_a;
    assign memory_addr_a_temp = memory_addr_a;
    assign bram_write_temp = bram_write;
    assign din_value_aggregated_swapped_temp = din_value_aggregated_swapped;
  end
endgenerate


assign memory_addr_a_0 = memory_addr_a_temp[nbit_read_addr-1:0];
assign memory_addr_a_1 = memory_addr_a_temp[nbit_read_addr*2-1:nbit_read_addr];
assign dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] = dout_a_0;
assign dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] = dout_a_1;
generate
genvar i0_0;
  for (i0_0=0; i0_0&lt;n_byte_on_databus/2; i0_0=i0_0+1)
  begin  : din_0_computation1
    always @(we_a_temp or din_value_aggregated_swapped_temp or memory[memory_addr_a_0])
      if (we_a_temp[i0_0])
        din_a_0_temp[(i0_0+1)*8-1:i0_0*8] = din_value_aggregated_swapped_temp[(i0_0+1)*8+memory_offset-1:i0_0*8+memory_offset];
      else
        din_a_0_temp[(i0_0+1)*8-1:i0_0*8] = memory[memory_addr_a_0][(i0_0+1)*8-1:i0_0*8];
  end
endgenerate

generate
genvar i0_1;
  for (i0_1=0; i0_1&lt;n_byte_on_databus/2; i0_1=i0_1+1)
  begin  : din_1_computation1
    always @(we_a_temp or din_value_aggregated_swapped_temp or memory[memory_addr_a_1])
      if (we_a_temp[i0_1+n_byte_on_databus/2])
        din_a_1_temp[(i0_1+1)*8-1:i0_1*8] = din_value_aggregated_swapped_temp[2*BRAM_BITSIZE+(i0_1+1)*8+memory_offset-1:2*BRAM_BITSIZE+i0_1*8+memory_offset];
      else
        din_a_1_temp[(i0_1+1)*8-1:i0_1*8] = memory[memory_addr_a_1][(i0_1+1)*8-1:i0_1*8];
  end
endgenerate
  
generate
  if (n_mem_elements==1)
  begin : single_element
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0)
        dout_a_0  &lt;= memory[memory_addr_a_temp[nbit_read_addr*0+:nbit_read_addr]];
      else
      begin
        dout_a_0_registered  &lt;= memory[memory_addr_a_temp[nbit_read_addr*0+:nbit_read_addr]];
        dout_a_0  &lt;= dout_a_0_registered;
      end
      if(HIGH_LATENCY == 0)
        dout_a_1  &lt;= memory[memory_addr_a_temp[nbit_read_addr*1+:nbit_read_addr]];
      else
      begin
        dout_a_1_registered  &lt;= memory[memory_addr_a_temp[nbit_read_addr*1+:nbit_read_addr]];
        dout_a_1  &lt;= dout_a_1_registered;
      end
      for (index2=0; index2&lt;max_n_writes; index2=index2+1)
      begin : L12_single_write
        for (index1=0; index1&lt;n_byte_on_databus/2; index1=index1+1)
        begin : L11_single_write
          if(we_a_temp[index1+n_byte_on_databus/2*index2])
            memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]][index1*8+:8] &lt;= din_value_aggregated_swapped_temp[2*BRAM_BITSIZE*index2+index1*8+memory_offset+:8];
        end
      end
    end
  end
  else
  begin
    always @(posedge clock)
    begin
      if (bram_write_temp[0])
      begin
        memory[memory_addr_a_0] &lt;= din_a_0_temp;
      end
      if(HIGH_LATENCY == 0)
        dout_a_0 &lt;= memory[memory_addr_a_0];
      else
      begin
        dout_a_0_registered &lt;= memory[memory_addr_a_0];
        dout_a_0 &lt;= dout_a_0_registered;
      end
    end
  
    always @(posedge clock)
    begin
      if (bram_write_temp[1])
      begin
        memory[memory_addr_a_1] &lt;= din_a_1_temp;
      end
      if(HIGH_LATENCY == 0)
        dout_a_1 &lt;= memory[memory_addr_a_1];
      else
      begin
        dout_a_1_registered &lt;= memory[memory_addr_a_1];
        dout_a_1 &lt;= dout_a_1_registered;
      end
    end
  end
endgenerate

generate
genvar i11, i12;
  for (i12=0; i12&lt;max_n_writes; i12=i12+1)
  begin : L12
    for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
    begin  : write_enable_a
      assign we_a[i11+(n_byte_on_databus/2)*i12] = bram_write[i12] &amp;&amp; be_swapped[i11+n_byte_on_databus*i12+n_byte_on_databus_offset];
    end
  end
endgenerate
// Add assertion here
// psl default clock = (posedge clock);
// psl ERROR_conflicting_writes: assert never {bram_write[0] &amp;&amp; bram_write[1] &amp;&amp; memory_addr_a[nbit_read_addr*0+:nbit_read_addr] == memory_addr_a[nbit_read_addr*1+:nbit_read_addr] &amp;&amp; (we_a[n_byte_on_databus/2-1:0]&amp;we_a[n_byte_on_databus/2+n_byte_on_databus/2-1:n_byte_on_databus/2]) != 0};"
VHDL_PROVIDED=
"signal memory_addr_a_0 : std_logic_vector(nbit_read_addr-1 downto 0);
signal memory_addr_a_1  :  std_logic_vector(nbit_read_addr-1 downto 0);
signal we_a  :  std_logic_vector((n_byte_on_databus/2)*max_n_writes-1 downto 0);
signal din_a_0  :  std_logic_vector(BRAM_BITSIZE-1 downto 0);
signal din_a_1  :  std_logic_vector(BRAM_BITSIZE-1 downto 0);
signal dout_a_0  :  std_logic_vector(BRAM_BITSIZE-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_a_1  :  std_logic_vector(BRAM_BITSIZE-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_a_0_registered  :  std_logic_vector(BRAM_BITSIZE-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_a_1_registered  :  std_logic_vector(BRAM_BITSIZE-1 downto 0) 1INIT_ZERO_VALUE;
signal we_a_temp : std_logic_vector((n_byte_on_databus/2)*max_n_writes-1 downto 0) 1INIT_ZERO_VALUE;
signal memory_addr_a_temp : std_logic_vector((PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1) downto 0) 1INIT_ZERO_VALUE;
signal bram_write_temp : std_logic_vector(PORTSIZE_bram_write-1 downto 0) 1INIT_ZERO_VALUE;
signal din_value_aggregated_swapped_temp : std_logic_vector((PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1) downto 0) 1INIT_ZERO_VALUE;

type mem_type is array (n_mem_elements-1 downto 0) of std_logic_vector(BRAM_BITSIZE-1 downto 0);

impure function InitMemFromFile (MemFileName : in string) return mem_type is
  FILE memfile  :  text open READ_MODE is MemFileName;
  variable MemFileLine  :  line;
  variable mem  :  mem_type;
  begin
     for i in 0 to n_mem_elements-1 loop
      readline(memfile, MemFileLine);
      read(MemFileLine, mem(i));
    end loop;
    return mem;
end function;

signal memory : mem_type := InitMemFromFile(MEMORY_INIT_file);
begin
memory_addr_a_0 &lt;= memory_addr_a_temp(nbit_read_addr-1 downto 0);
memory_addr_a_1 &lt;= memory_addr_a_temp(nbit_read_addr*2-1 downto nbit_read_addr);
dout_a(BRAM_BITSIZE*(0+1)-1 downto BRAM_BITSIZE*0) &lt;= dout_a_0;
dout_a(BRAM_BITSIZE*(1+1)-1 downto BRAM_BITSIZE*1) &lt;= dout_a_1;
input_registration_2 : if HIGH_LATENCY=2 generate
  signal we_a_reg : std_logic_vector((n_byte_on_databus/2)*max_n_writes-1 downto 0) 1INIT_ZERO_VALUE;
  signal memory_addr_a_reg : std_logic_vector((PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1) downto 0) 1INIT_ZERO_VALUE;
  signal bram_write_reg : std_logic_vector(PORTSIZE_bram_write-1 downto 0) 1INIT_ZERO_VALUE;
  signal din_value_aggregated_swapped_reg : std_logic_vector((PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1) downto 0) 1INIT_ZERO_VALUE;
begin
  in_reg : process(clock)
  begin
    if(clock&apos;event and clock = &apos;1&apos;) then
      we_a_reg &lt;= we_a;
      memory_addr_a_reg &lt;= memory_addr_a;
      bram_write_reg &lt;= bram_write;
      din_value_aggregated_swapped_reg &lt;= din_value_aggregated_swapped;
    end if;
  end process;
  we_a_temp &lt;= we_a_reg;
  memory_addr_a_temp &lt;= memory_addr_a_reg;
  bram_write_temp &lt;= bram_write_reg;
  din_value_aggregated_swapped_temp &lt;= din_value_aggregated_swapped_reg;
end generate input_registration_2 ;
input_registration_01 : if HIGH_LATENCY &lt; 2 generate
begin
  we_a_temp &lt;= we_a;
  memory_addr_a_temp &lt;= memory_addr_a;
  bram_write_temp &lt;= bram_write;
  din_value_aggregated_swapped_temp &lt;= din_value_aggregated_swapped;
end generate input_registration_01 ;

din_0_computation : process(we_a_temp, din_value_aggregated_swapped_temp, memory, memory_addr_a_0)
begin
   for i0_0 in 0 to n_byte_on_databus/2-1 loop
      if(we_a_temp(i0_0) = &apos;1&apos;) then
         din_a_0((i0_0+1)*8-1 downto i0_0*8) &lt;= din_value_aggregated_swapped_temp((i0_0+1)*8+memory_offset-1 downto i0_0*8+memory_offset);
      else
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a_0)) &gt;= n_mem_elements) then
            din_a_0((i0_0+1)*8-1 downto i0_0*8) &lt;= (others =&gt; &apos;X&apos;);
         else
-- synthesis translate_on
            din_a_0((i0_0+1)*8-1 downto i0_0*8) &lt;= memory(to_integer(unsigned(memory_addr_a_0)))((i0_0+1)*8-1 downto i0_0*8);
-- synthesis translate_off
         end if;
-- synthesis translate_on
     end if;
   end loop;
end process;
  
din_1_computation : process(we_a_temp, din_value_aggregated_swapped_temp, memory, memory_addr_a_1)
begin
   for i0_1 in 0 to n_byte_on_databus/2-1 loop
      if(we_a_temp(i0_1+n_byte_on_databus/2) = &apos;1&apos;) then
         din_a_1((i0_1+1)*8-1 downto i0_1*8) &lt;= din_value_aggregated_swapped_temp(2*BRAM_BITSIZE+(i0_1+1)*8+memory_offset-1 downto 2*BRAM_BITSIZE+i0_1*8+memory_offset);
      else
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a_1)) &gt;= n_mem_elements) then
            din_a_1((i0_1+1)*8-1 downto i0_1*8) &lt;= (others =&gt; &apos;X&apos;);
         else
-- synthesis translate_on
            din_a_1((i0_1+1)*8-1 downto i0_1*8) &lt;= memory(to_integer(unsigned(memory_addr_a_1)))((i0_1+1)*8-1 downto i0_1*8);
-- synthesis translate_off
         end if;
-- synthesis translate_on
      end if;
   end loop;
end process;

single_element : process(clock)
begin
   if(n_mem_elements = 1) then
      if(clock&apos;event and clock = &apos;1&apos;) then
         if(HIGH_LATENCY = 0) then
            dout_a_0  &lt;= memory(to_integer(unsigned(memory_addr_a_temp(nbit_read_addr-1 downto 0))));
         else
            dout_a_0_registered  &lt;= memory(to_integer(unsigned(memory_addr_a_temp(nbit_read_addr-1 downto 0))));
            dout_a_0  &lt;= dout_a_0_registered;
         end if;
         if(HIGH_LATENCY = 0) then
            dout_a_1  &lt;= memory(to_integer(unsigned(memory_addr_a_temp(2*nbit_read_addr-1 downto nbit_read_addr))));
         else
            dout_a_1_registered  &lt;= memory(to_integer(unsigned(memory_addr_a_temp(2*nbit_read_addr-1 downto nbit_read_addr))));
            dout_a_1  &lt;= dout_a_1_registered;
         end if;
         for index2 in 0 to max_n_writes-1 loop
            for index1 in 0 to n_byte_on_databus/2-1 loop
               if(we_a_temp(index1+n_byte_on_databus/2*index2)= &apos;1&apos;) then
                  memory(to_integer(unsigned(memory_addr_a_temp(nbit_read_addr*(index2+1)-1 downto nbit_read_addr*index2))))((index1+1)*8-1 downto index1*8) &lt;= din_value_aggregated_swapped_temp(2*BRAM_BITSIZE*index2+index1*8+memory_offset+7 downto 2*BRAM_BITSIZE*index2+index1*8+memory_offset);
               end if;
            end loop;
         end loop;
      end if;
   else
      if(clock&apos;event and clock = &apos;1&apos;) then
         if (bram_write_temp(0) = &apos;1&apos;) then
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_0)) &lt; n_mem_elements) then
-- synthesis translate_on
               memory(to_integer(unsigned(memory_addr_a_0))) &lt;= din_a_0;
-- synthesis translate_off
            end if;
-- synthesis translate_on
         end if;
         if(HIGH_LATENCY = 0) then
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_0)) &gt;= n_mem_elements) then
               dout_a_0 &lt;= (others =&gt; &apos;X&apos;);
            else
-- synthesis translate_on
               dout_a_0 &lt;= memory(to_integer(unsigned(memory_addr_a_0)));
-- synthesis translate_off
            end if;
-- synthesis translate_on
         else
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_0)) &gt;= n_mem_elements) then
               dout_a_0_registered &lt;= (others =&gt; &apos;X&apos;);
            else
-- synthesis translate_on
               dout_a_0_registered &lt;= memory(to_integer(unsigned(memory_addr_a_0)));
-- synthesis translate_off
            end if;
-- synthesis translate_on
            dout_a_0 &lt;= dout_a_0_registered;
         end if;
         if (bram_write_temp(1) = &apos;1&apos;) then
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_1)) &lt; n_mem_elements) then
-- synthesis translate_on
               memory(to_integer(unsigned(memory_addr_a_1))) &lt;= din_a_1;
-- synthesis translate_off
            end if;
-- synthesis translate_on
         end if;
         if(HIGH_LATENCY = 0) then
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_1)) &gt;= n_mem_elements) then
               dout_a_1 &lt;= (others =&gt; &apos;X&apos;);
            else
-- synthesis translate_on
               dout_a_1 &lt;= memory(to_integer(unsigned(memory_addr_a_1)));
-- synthesis translate_off
            end if;
-- synthesis translate_on
         else
-- synthesis translate_off
            if (to_integer(unsigned(memory_addr_a_1)) &gt;= n_mem_elements) then
               dout_a_1_registered &lt;= (others =&gt; &apos;X&apos;);
            else
-- synthesis translate_on
               dout_a_1_registered &lt;= memory(to_integer(unsigned(memory_addr_a_1)));
-- synthesis translate_off
            end if;
-- synthesis translate_on
            dout_a_1 &lt;= dout_a_1_registered;
         end if;
      end if;
   end if;
end process;

L12 : process(bram_write, be_swapped)
begin
   for i12 in 0 to max_n_writes-1 loop
      for i11 in 0 to (n_byte_on_databus/2)-1 loop
         we_a(i11+(n_byte_on_databus/2)*i12) &lt;= bram_write(i12) and be_swapped(i11+n_byte_on_databus*i12+n_byte_on_databus_offset);
      end loop;
   end loop;
end process;
-- Add assertion here
-- psl default clock is (rising_edge(clock));
-- psl ERROR_conflicting_writes : assert never {bram_write(0) /= &apos;0&apos; and bram_write(1) /= &apos;0&apos; and (memory_addr_a(nbit_read_addr-1 downto 0) = memory_addr_a(2*nbit_read_addr-1 downto nbit_read_addr)) and to_integer(unsigned(we_a(n_byte_on_databus/2-1 downto 0))) /= 0 and to_integer(unsigned(we_a(n_byte_on_databus/2+n_byte_on_databus/2-1 downto n_byte_on_databus/2))) /= 0};
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_SV</name>
      <circuit>
        <component_o id="BRAM_MEMORY_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_SV"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_SV dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY"  IP_COMPONENT="BRAM_MEMORY_SV_CORE" VERILOG_PROVIDED="
reg bram_write1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_a-1:0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_b-1:0] memory_addr_b1 1INIT_ZERO_VALUE;
reg [BITSIZE_be-1:0] be1 1INIT_ZERO_VALUE;
reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated1 1INIT_ZERO_VALUE;

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       memory_addr_b1 &lt;= memory_addr_b;
       bram_write1 &lt;= bram_write;
       be1 &lt;= be;
       din_value_aggregated1 &lt;= din_value_aggregated;
    end
  end
endgenerate

generate
if(BRAM_BITSIZE == 8)
begin
  reg [(n_byte_on_databus)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
  assign dout_a = dout_a_tmp;
  assign dout_b = dout_b_tmp;
  initial
  begin
    $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
  end


  if(n_mem_elements == 1)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[0])
          memory[memory_addr_a] &lt;= din_value_aggregated[BRAM_BITSIZE-1:0];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[0])
          memory[memory_addr_a1] &lt;= din_value_aggregated1[BRAM_BITSIZE-1:0];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[1])
          memory[memory_addr_b] &lt;= din_value_aggregated[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[1])
          memory[memory_addr_b1] &lt;= din_value_aggregated1[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[0])
          memory[memory_addr_a] &lt;= din_value_aggregated[BRAM_BITSIZE-1:0];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[0])
          memory[memory_addr_a1] &lt;= din_value_aggregated1[BRAM_BITSIZE-1:0];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[1])
          memory[memory_addr_b] &lt;= din_value_aggregated[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[1])
          memory[memory_addr_b1] &lt;= din_value_aggregated1[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
end
else
begin
  if(n_mem_elements == 1)
  begin
    reg [(n_byte_on_databus)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
    assign dout_a = dout_a_tmp;
    assign dout_b = dout_b_tmp;
    initial
    begin
      $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write)
        begin : L11_write
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
          begin
            if(be[i11])
              memory[memory_addr_a][i11*8+:8] &lt;= din_value_aggregated[i11*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1)
        begin : L11_write1
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
          begin
            if(be1[i11])
              memory[memory_addr_a1][i11*8+:8] &lt;= din_value_aggregated1[i11*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; n_bytes &gt; BRAM_BITSIZE/8)
        begin : L22_write
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
          begin
            if(be[i22+n_byte_on_databus])
              memory[memory_addr_b][i22*8+:8] &lt;= din_value_aggregated[(i22+n_byte_on_databus)*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1 &amp;&amp; n_bytes &gt; BRAM_BITSIZE/8)
        begin : L22_write1
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
          begin
            if(be1[i22+n_byte_on_databus])
              memory[memory_addr_b1][i22*8+:8] &lt;= din_value_aggregated1[(i22+n_byte_on_databus)*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    BRAM_MEMORY_SV_CORE #(.BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .BITSIZE_memory_addr_b(BITSIZE_memory_addr_b), .BITSIZE_din_value_aggregated(BITSIZE_din_value_aggregated), .BITSIZE_be(BITSIZE_be), .BITSIZE_dout_a(BITSIZE_dout_a), .BITSIZE_dout_b(BITSIZE_dout_b), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_CORE_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));
  end
end
endgenerate
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_SV_CORE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_SV_CORE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_SV_CORE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_SV_CORE dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY" VERILOG_PROVIDED="" SYSTEM_VERILOG_PROVIDED="
reg [BITSIZE_dout_a-1:0] dout_a 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_a-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b_registered 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_a-1:0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_b-1:0] memory_addr_b1 1INIT_ZERO_VALUE;
reg bram_write1 1INIT_ZERO_VALUE;
reg [BITSIZE_be-1:0] be1 1INIT_ZERO_VALUE;
reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated1 1INIT_ZERO_VALUE;
(* syn_ramstyle = &quot;no_rw_check&quot; *) reg [(BRAM_BITSIZE/8)-1:0][7:0] memory [0:n_mem_elements-1];

initial
begin
  //dout_a=0;  dout_b=0;
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       memory_addr_b1 &lt;= memory_addr_b;
       bram_write1 &lt;= bram_write;
       be1 &lt;= be;
       din_value_aggregated1 &lt;= din_value_aggregated;
    end
  end
endgenerate

generate
  if(n_byte_on_databus==1)
  begin
    always @ (posedge clock)
      begin // Port A
        if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
        begin
          if (bram_write)
          begin
            if(be[0])
              memory[memory_addr_a][0] &lt;= din_value_aggregated[(0+1)*8-1:0*8];
          end
        end
        else
        begin
          if (bram_write1)
          begin
            if(be1[0])
              memory[memory_addr_a1][0] &lt;= din_value_aggregated1[(0+1)*8-1:0*8];
          end
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a &lt;= memory[memory_addr_a];
        end
        else if(HIGH_LATENCY==1)
        begin
          dout_a_registered &lt;= memory[memory_addr_a];
          dout_a &lt;= dout_a_registered;
        end
        else
        begin
          dout_a_registered &lt;= memory[memory_addr_a1];
          dout_a &lt;= dout_a_registered;
        end
    end
  end
  else if(n_byte_on_databus==2)
  begin
    always @ (posedge clock)
      begin // Port A
        if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
        begin
          if (bram_write)
          begin
            if(be[0])
              memory[memory_addr_a][0] &lt;= din_value_aggregated[(0+1)*8-1:0*8];
            if(be[1])
              memory[memory_addr_a][1] &lt;= din_value_aggregated[(1+1)*8-1:1*8];
          end
        end
        else
        begin
          if (bram_write1)
          begin
            if(be1[0])
              memory[memory_addr_a1][0] &lt;= din_value_aggregated1[(0+1)*8-1:0*8];
            if(be1[1])
              memory[memory_addr_a1][1] &lt;= din_value_aggregated1[(1+1)*8-1:1*8];
          end
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a &lt;= memory[memory_addr_a];
        end
        else if(HIGH_LATENCY==1)
        begin
          dout_a_registered &lt;= memory[memory_addr_a];
          dout_a &lt;= dout_a_registered;
        end
        else
        begin
          dout_a_registered &lt;= memory[memory_addr_a1];
          dout_a &lt;= dout_a_registered;
        end
    end
  end
  else if(n_byte_on_databus==4)
  begin
    always @ (posedge clock)
      begin // Port A
        if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
        begin
          if (bram_write)
          begin
            if(be[0])
              memory[memory_addr_a][0] &lt;= din_value_aggregated[(0+1)*8-1:0*8];
            if(be[1])
              memory[memory_addr_a][1] &lt;= din_value_aggregated[(1+1)*8-1:1*8];
            if(be[2])
              memory[memory_addr_a][2] &lt;= din_value_aggregated[(2+1)*8-1:2*8];
            if(be[3])
              memory[memory_addr_a][3] &lt;= din_value_aggregated[(3+1)*8-1:3*8];
          end
        end
        else
        begin
          if (bram_write1)
          begin
            if(be1[0])
              memory[memory_addr_a1][0] &lt;= din_value_aggregated1[(0+1)*8-1:0*8];
            if(be1[1])
              memory[memory_addr_a1][1] &lt;= din_value_aggregated1[(1+1)*8-1:1*8];
            if(be1[2])
              memory[memory_addr_a1][2] &lt;= din_value_aggregated1[(2+1)*8-1:2*8];
            if(be1[3])
              memory[memory_addr_a1][3] &lt;= din_value_aggregated1[(3+1)*8-1:3*8];
          end
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a &lt;= memory[memory_addr_a];
        end
        else if(HIGH_LATENCY==1)
        begin
          dout_a_registered &lt;= memory[memory_addr_a];
          dout_a &lt;= dout_a_registered;
        end
        else
        begin
          dout_a_registered &lt;= memory[memory_addr_a1];
          dout_a &lt;= dout_a_registered;
        end
    end
  end
  else if(n_byte_on_databus==8)
  begin
    always @ (posedge clock)
      begin // Port A
        if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
        begin
          if (bram_write)
          begin
            if(be[0])
              memory[memory_addr_a][0] &lt;= din_value_aggregated[(0+1)*8-1:0*8];
            if(be[1])
              memory[memory_addr_a][1] &lt;= din_value_aggregated[(1+1)*8-1:1*8];
            if(be[2])
              memory[memory_addr_a][2] &lt;= din_value_aggregated[(2+1)*8-1:2*8];
            if(be[3])
              memory[memory_addr_a][3] &lt;= din_value_aggregated[(3+1)*8-1:3*8];
            if(be[4])
              memory[memory_addr_a][4] &lt;= din_value_aggregated[(4+1)*8-1:4*8];
            if(be[5])
              memory[memory_addr_a][5] &lt;= din_value_aggregated[(5+1)*8-1:5*8];
            if(be[6])
              memory[memory_addr_a][6] &lt;= din_value_aggregated[(6+1)*8-1:6*8];
            if(be[7])
              memory[memory_addr_a][7] &lt;= din_value_aggregated[(7+1)*8-1:7*8];
          end
        end
        else
        begin
          if (bram_write1)
          begin
            if(be1[0])
              memory[memory_addr_a1][0] &lt;= din_value_aggregated1[(0+1)*8-1:0*8];
            if(be1[1])
              memory[memory_addr_a1][1] &lt;= din_value_aggregated1[(1+1)*8-1:1*8];
            if(be1[2])
              memory[memory_addr_a1][2] &lt;= din_value_aggregated1[(2+1)*8-1:2*8];
            if(be1[3])
              memory[memory_addr_a1][3] &lt;= din_value_aggregated1[(3+1)*8-1:3*8];
            if(be1[4])
              memory[memory_addr_a1][4] &lt;= din_value_aggregated1[(4+1)*8-1:4*8];
            if(be1[5])
              memory[memory_addr_a1][5] &lt;= din_value_aggregated1[(5+1)*8-1:5*8];
            if(be1[6])
              memory[memory_addr_a1][6] &lt;= din_value_aggregated1[(6+1)*8-1:6*8];
            if(be1[7])
              memory[memory_addr_a1][7] &lt;= din_value_aggregated1[(7+1)*8-1:7*8];
          end
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a &lt;= memory[memory_addr_a];
        end
        else if(HIGH_LATENCY==1)
        begin
          dout_a_registered &lt;= memory[memory_addr_a];
          dout_a &lt;= dout_a_registered;
        end
        else
        begin
          dout_a_registered &lt;= memory[memory_addr_a1];
          dout_a &lt;= dout_a_registered;
        end
    end
  end
  else if(n_byte_on_databus==16)
  begin
    always @ (posedge clock)
      begin // Port A
        if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
        begin
          if (bram_write)
          begin
            if(be[0])
              memory[memory_addr_a][0] &lt;= din_value_aggregated[(0+1)*8-1:0*8];
            if(be[1])
              memory[memory_addr_a][1] &lt;= din_value_aggregated[(1+1)*8-1:1*8];
            if(be[2])
              memory[memory_addr_a][2] &lt;= din_value_aggregated[(2+1)*8-1:2*8];
            if(be[3])
              memory[memory_addr_a][3] &lt;= din_value_aggregated[(3+1)*8-1:3*8];
            if(be[4])
              memory[memory_addr_a][4] &lt;= din_value_aggregated[(4+1)*8-1:4*8];
            if(be[5])
              memory[memory_addr_a][5] &lt;= din_value_aggregated[(5+1)*8-1:5*8];
            if(be[6])
              memory[memory_addr_a][6] &lt;= din_value_aggregated[(6+1)*8-1:6*8];
            if(be[7])
              memory[memory_addr_a][7] &lt;= din_value_aggregated[(7+1)*8-1:7*8];
            if(be[8])
              memory[memory_addr_a][8] &lt;= din_value_aggregated[(8+1)*8-1:8*8];
            if(be[9])
              memory[memory_addr_a][9] &lt;= din_value_aggregated[(9+1)*8-1:9*8];
            if(be[10])
              memory[memory_addr_a][10] &lt;= din_value_aggregated[(10+1)*8-1:10*8];
            if(be[11])
              memory[memory_addr_a][11] &lt;= din_value_aggregated[(11+1)*8-1:11*8];
            if(be[12])
              memory[memory_addr_a][12] &lt;= din_value_aggregated[(12+1)*8-1:12*8];
            if(be[13])
              memory[memory_addr_a][13] &lt;= din_value_aggregated[(13+1)*8-1:13*8];
            if(be[14])
              memory[memory_addr_a][14] &lt;= din_value_aggregated[(14+1)*8-1:14*8];
            if(be[15])
              memory[memory_addr_a][15] &lt;= din_value_aggregated[(15+1)*8-1:15*8];
          end
        end
        else
        begin
          if (bram_write1)
          begin
            if(be1[0])
              memory[memory_addr_a1][0] &lt;= din_value_aggregated1[(0+1)*8-1:0*8];
            if(be1[1])
              memory[memory_addr_a1][1] &lt;= din_value_aggregated1[(1+1)*8-1:1*8];
            if(be1[2])
              memory[memory_addr_a1][2] &lt;= din_value_aggregated1[(2+1)*8-1:2*8];
            if(be1[3])
              memory[memory_addr_a1][3] &lt;= din_value_aggregated1[(3+1)*8-1:3*8];
            if(be1[4])
              memory[memory_addr_a1][4] &lt;= din_value_aggregated1[(4+1)*8-1:4*8];
            if(be1[5])
              memory[memory_addr_a1][5] &lt;= din_value_aggregated1[(5+1)*8-1:5*8];
            if(be1[6])
              memory[memory_addr_a1][6] &lt;= din_value_aggregated1[(6+1)*8-1:6*8];
            if(be1[7])
              memory[memory_addr_a1][7] &lt;= din_value_aggregated1[(7+1)*8-1:7*8];
            if(be1[8])
              memory[memory_addr_a1][8] &lt;= din_value_aggregated1[(8+1)*8-1:8*8];
            if(be1[9])
              memory[memory_addr_a1][9] &lt;= din_value_aggregated1[(9+1)*8-1:9*8];
            if(be1[10])
              memory[memory_addr_a1][10] &lt;= din_value_aggregated1[(10+1)*8-1:10*8];
            if(be1[11])
              memory[memory_addr_a1][11] &lt;= din_value_aggregated1[(11+1)*8-1:11*8];
            if(be1[12])
              memory[memory_addr_a1][12] &lt;= din_value_aggregated1[(12+1)*8-1:12*8];
            if(be1[13])
              memory[memory_addr_a1][13] &lt;= din_value_aggregated1[(13+1)*8-1:13*8];
            if(be1[14])
              memory[memory_addr_a1][14] &lt;= din_value_aggregated1[(14+1)*8-1:14*8];
            if(be1[15])
              memory[memory_addr_a1][15] &lt;= din_value_aggregated1[(15+1)*8-1:15*8];
          end
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a &lt;= memory[memory_addr_a];
        end
        else if(HIGH_LATENCY==1)
        begin
          dout_a_registered &lt;= memory[memory_addr_a];
          dout_a &lt;= dout_a_registered;
        end
        else
        begin
          dout_a_registered &lt;= memory[memory_addr_a1];
          dout_a &lt;= dout_a_registered;
        end
    end
  end
endgenerate

generate
  if (n_bytes &gt; BRAM_BITSIZE/8 &amp;&amp; n_byte_on_databus==1)
    begin
      always @ (posedge clock)
        begin // Port B
          if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
          begin
            if (bram_write)
            begin
              if(be[0+n_byte_on_databus])
                memory[memory_addr_b][0] &lt;= din_value_aggregated[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
            end
          end
          else
          begin
            if (bram_write1)
            begin
              if(be1[0+n_byte_on_databus])
                memory[memory_addr_b1][0] &lt;= din_value_aggregated1[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
            end
          end
          if(HIGH_LATENCY==0)
          begin
            dout_b &lt;= memory[memory_addr_b];
          end
          else if(HIGH_LATENCY==1)
          begin
            dout_b_registered &lt;= memory[memory_addr_b];
            dout_b &lt;= dout_b_registered;
          end
          else
          begin
            dout_b_registered &lt;= memory[memory_addr_b1];
            dout_b &lt;= dout_b_registered;
          end
        end
    end
  else if (n_bytes &gt; BRAM_BITSIZE/8 &amp;&amp; n_byte_on_databus==2)
    begin
      always @ (posedge clock)
        begin // Port B
          if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
          begin
            if (bram_write)
            begin
              if(be[0+n_byte_on_databus])
                memory[memory_addr_b][0] &lt;= din_value_aggregated[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be[1+n_byte_on_databus])
                memory[memory_addr_b][1] &lt;= din_value_aggregated[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
            end
          end
          else
          begin
            if (bram_write1)
            begin
              if(be1[0+n_byte_on_databus])
                memory[memory_addr_b1][0] &lt;= din_value_aggregated1[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be1[1+n_byte_on_databus])
                memory[memory_addr_b1][1] &lt;= din_value_aggregated1[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
            end
          end
          if(HIGH_LATENCY==0)
          begin
            dout_b &lt;= memory[memory_addr_b];
          end
          else if(HIGH_LATENCY==1)
          begin
            dout_b_registered &lt;= memory[memory_addr_b];
            dout_b &lt;= dout_b_registered;
          end
          else
          begin
            dout_b_registered &lt;= memory[memory_addr_b1];
            dout_b &lt;= dout_b_registered;
          end
        end
    end
  else if (n_bytes &gt; BRAM_BITSIZE/8 &amp;&amp; n_byte_on_databus==4)
    begin
      always @ (posedge clock)
        begin // Port B
          if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
          begin
            if (bram_write)
            begin
              if(be[0+n_byte_on_databus])
                memory[memory_addr_b][0] &lt;= din_value_aggregated[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be[1+n_byte_on_databus])
                memory[memory_addr_b][1] &lt;= din_value_aggregated[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be[2+n_byte_on_databus])
                memory[memory_addr_b][2] &lt;= din_value_aggregated[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be[3+n_byte_on_databus])
                memory[memory_addr_b][3] &lt;= din_value_aggregated[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
            end
          end
          else
          begin
            if (bram_write1)
            begin
              if(be1[0+n_byte_on_databus])
                memory[memory_addr_b1][0] &lt;= din_value_aggregated1[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be1[1+n_byte_on_databus])
                memory[memory_addr_b1][1] &lt;= din_value_aggregated1[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be1[2+n_byte_on_databus])
                memory[memory_addr_b1][2] &lt;= din_value_aggregated1[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be1[3+n_byte_on_databus])
                memory[memory_addr_b1][3] &lt;= din_value_aggregated1[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
            end
          end
          if(HIGH_LATENCY==0)
          begin
            dout_b &lt;= memory[memory_addr_b];
          end
          else if(HIGH_LATENCY==1)
          begin
            dout_b_registered &lt;= memory[memory_addr_b];
            dout_b &lt;= dout_b_registered;
          end
          else
          begin
            dout_b_registered &lt;= memory[memory_addr_b1];
            dout_b &lt;= dout_b_registered;
          end
        end
    end
  else if (n_bytes &gt; BRAM_BITSIZE/8 &amp;&amp; n_byte_on_databus==8)
    begin
      always @ (posedge clock)
        begin // Port B
          if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
          begin
            if (bram_write)
            begin
              if(be[0+n_byte_on_databus])
                memory[memory_addr_b][0] &lt;= din_value_aggregated[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be[1+n_byte_on_databus])
                memory[memory_addr_b][1] &lt;= din_value_aggregated[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be[2+n_byte_on_databus])
                memory[memory_addr_b][2] &lt;= din_value_aggregated[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be[3+n_byte_on_databus])
                memory[memory_addr_b][3] &lt;= din_value_aggregated[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
              if(be[4+n_byte_on_databus])
                memory[memory_addr_b][4] &lt;= din_value_aggregated[(4+1+n_byte_on_databus)*8-1:(4+n_byte_on_databus)*8];
              if(be[5+n_byte_on_databus])
                memory[memory_addr_b][5] &lt;= din_value_aggregated[(5+1+n_byte_on_databus)*8-1:(5+n_byte_on_databus)*8];
              if(be[6+n_byte_on_databus])
                memory[memory_addr_b][6] &lt;= din_value_aggregated[(6+1+n_byte_on_databus)*8-1:(6+n_byte_on_databus)*8];
              if(be[7+n_byte_on_databus])
                memory[memory_addr_b][7] &lt;= din_value_aggregated[(7+1+n_byte_on_databus)*8-1:(7+n_byte_on_databus)*8];
            end
          end
          else
          begin
            if (bram_write1)
            begin
              if(be1[0+n_byte_on_databus])
                memory[memory_addr_b1][0] &lt;= din_value_aggregated1[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be1[1+n_byte_on_databus])
                memory[memory_addr_b1][1] &lt;= din_value_aggregated1[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be1[2+n_byte_on_databus])
                memory[memory_addr_b1][2] &lt;= din_value_aggregated1[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be1[3+n_byte_on_databus])
                memory[memory_addr_b1][3] &lt;= din_value_aggregated1[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
              if(be1[4+n_byte_on_databus])
                memory[memory_addr_b1][4] &lt;= din_value_aggregated1[(4+1+n_byte_on_databus)*8-1:(4+n_byte_on_databus)*8];
              if(be1[5+n_byte_on_databus])
                memory[memory_addr_b1][5] &lt;= din_value_aggregated1[(5+1+n_byte_on_databus)*8-1:(5+n_byte_on_databus)*8];
              if(be1[6+n_byte_on_databus])
                memory[memory_addr_b1][6] &lt;= din_value_aggregated1[(6+1+n_byte_on_databus)*8-1:(6+n_byte_on_databus)*8];
              if(be1[7+n_byte_on_databus])
                memory[memory_addr_b1][7] &lt;= din_value_aggregated1[(7+1+n_byte_on_databus)*8-1:(7+n_byte_on_databus)*8];
            end
          end
          if(HIGH_LATENCY==0)
          begin
            dout_b &lt;= memory[memory_addr_b];
          end
          else if(HIGH_LATENCY==1)
          begin
            dout_b_registered &lt;= memory[memory_addr_b];
            dout_b &lt;= dout_b_registered;
          end
          else
          begin
            dout_b_registered &lt;= memory[memory_addr_b1];
            dout_b &lt;= dout_b_registered;
          end
        end
    end
  else if (n_bytes &gt; BRAM_BITSIZE/8 &amp;&amp; n_byte_on_databus==16)
    begin
      always @ (posedge clock)
        begin // Port B
          if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
          begin
            if (bram_write)
            begin
              if(be[0+n_byte_on_databus])
                memory[memory_addr_b][0] &lt;= din_value_aggregated[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be[1+n_byte_on_databus])
                memory[memory_addr_b][1] &lt;= din_value_aggregated[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be[2+n_byte_on_databus])
                memory[memory_addr_b][2] &lt;= din_value_aggregated[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be[3+n_byte_on_databus])
                memory[memory_addr_b][3] &lt;= din_value_aggregated[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
              if(be[4+n_byte_on_databus])
                memory[memory_addr_b][4] &lt;= din_value_aggregated[(4+1+n_byte_on_databus)*8-1:(4+n_byte_on_databus)*8];
              if(be[5+n_byte_on_databus])
                memory[memory_addr_b][5] &lt;= din_value_aggregated[(5+1+n_byte_on_databus)*8-1:(5+n_byte_on_databus)*8];
              if(be[6+n_byte_on_databus])
                memory[memory_addr_b][6] &lt;= din_value_aggregated[(6+1+n_byte_on_databus)*8-1:(6+n_byte_on_databus)*8];
              if(be[7+n_byte_on_databus])
                memory[memory_addr_b][7] &lt;= din_value_aggregated[(7+1+n_byte_on_databus)*8-1:(7+n_byte_on_databus)*8];
              if(be[8+n_byte_on_databus])
                memory[memory_addr_b][8] &lt;= din_value_aggregated[(8+1+n_byte_on_databus)*8-1:(8+n_byte_on_databus)*8];
              if(be[9+n_byte_on_databus])
                memory[memory_addr_b][9] &lt;= din_value_aggregated[(9+1+n_byte_on_databus)*8-1:(9+n_byte_on_databus)*8];
              if(be[10+n_byte_on_databus])
                memory[memory_addr_b][10] &lt;= din_value_aggregated[(10+1+n_byte_on_databus)*8-1:(10+n_byte_on_databus)*8];
              if(be[11+n_byte_on_databus])
                memory[memory_addr_b][11] &lt;= din_value_aggregated[(11+1+n_byte_on_databus)*8-1:(11+n_byte_on_databus)*8];
              if(be[12+n_byte_on_databus])
                memory[memory_addr_b][12] &lt;= din_value_aggregated[(12+1+n_byte_on_databus)*8-1:(12+n_byte_on_databus)*8];
              if(be[13+n_byte_on_databus])
                memory[memory_addr_b][13] &lt;= din_value_aggregated[(13+1+n_byte_on_databus)*8-1:(13+n_byte_on_databus)*8];
              if(be[14+n_byte_on_databus])
                memory[memory_addr_b][14] &lt;= din_value_aggregated[(14+1+n_byte_on_databus)*8-1:(14+n_byte_on_databus)*8];
              if(be[15+n_byte_on_databus])
                memory[memory_addr_b][15] &lt;= din_value_aggregated[(15+1+n_byte_on_databus)*8-1:(15+n_byte_on_databus)*8];
            end
          end
          else
          begin
            if (bram_write1)
            begin
              if(be1[0+n_byte_on_databus])
                memory[memory_addr_b1][0] &lt;= din_value_aggregated1[(0+1+n_byte_on_databus)*8-1:(0+n_byte_on_databus)*8];
              if(be1[1+n_byte_on_databus])
                memory[memory_addr_b1][1] &lt;= din_value_aggregated1[(1+1+n_byte_on_databus)*8-1:(1+n_byte_on_databus)*8];
              if(be1[2+n_byte_on_databus])
                memory[memory_addr_b1][2] &lt;= din_value_aggregated1[(2+1+n_byte_on_databus)*8-1:(2+n_byte_on_databus)*8];
              if(be1[3+n_byte_on_databus])
                memory[memory_addr_b1][3] &lt;= din_value_aggregated1[(3+1+n_byte_on_databus)*8-1:(3+n_byte_on_databus)*8];
              if(be1[4+n_byte_on_databus])
                memory[memory_addr_b1][4] &lt;= din_value_aggregated1[(4+1+n_byte_on_databus)*8-1:(4+n_byte_on_databus)*8];
              if(be1[5+n_byte_on_databus])
                memory[memory_addr_b1][5] &lt;= din_value_aggregated1[(5+1+n_byte_on_databus)*8-1:(5+n_byte_on_databus)*8];
              if(be1[6+n_byte_on_databus])
                memory[memory_addr_b1][6] &lt;= din_value_aggregated1[(6+1+n_byte_on_databus)*8-1:(6+n_byte_on_databus)*8];
              if(be1[7+n_byte_on_databus])
                memory[memory_addr_b1][7] &lt;= din_value_aggregated1[(7+1+n_byte_on_databus)*8-1:(7+n_byte_on_databus)*8];
              if(be1[8+n_byte_on_databus])
                memory[memory_addr_b1][8] &lt;= din_value_aggregated1[(8+1+n_byte_on_databus)*8-1:(8+n_byte_on_databus)*8];
              if(be1[9+n_byte_on_databus])
                memory[memory_addr_b1][9] &lt;= din_value_aggregated1[(9+1+n_byte_on_databus)*8-1:(9+n_byte_on_databus)*8];
              if(be1[10+n_byte_on_databus])
                memory[memory_addr_b1][10] &lt;= din_value_aggregated1[(10+1+n_byte_on_databus)*8-1:(10+n_byte_on_databus)*8];
              if(be1[11+n_byte_on_databus])
                memory[memory_addr_b1][11] &lt;= din_value_aggregated1[(11+1+n_byte_on_databus)*8-1:(11+n_byte_on_databus)*8];
              if(be1[12+n_byte_on_databus])
                memory[memory_addr_b1][12] &lt;= din_value_aggregated1[(12+1+n_byte_on_databus)*8-1:(12+n_byte_on_databus)*8];
              if(be1[13+n_byte_on_databus])
                memory[memory_addr_b1][13] &lt;= din_value_aggregated1[(13+1+n_byte_on_databus)*8-1:(13+n_byte_on_databus)*8];
              if(be1[14+n_byte_on_databus])
                memory[memory_addr_b1][14] &lt;= din_value_aggregated1[(14+1+n_byte_on_databus)*8-1:(14+n_byte_on_databus)*8];
              if(be1[15+n_byte_on_databus])
                memory[memory_addr_b1][15] &lt;= din_value_aggregated1[(15+1+n_byte_on_databus)*8-1:(15+n_byte_on_databus)*8];
            end
          end
          if(HIGH_LATENCY==0)
          begin
            dout_b &lt;= memory[memory_addr_b];
          end
          else if(HIGH_LATENCY==1)
          begin
            dout_b_registered &lt;= memory[memory_addr_b];
            dout_b &lt;= dout_b_registered;
          end
          else
          begin
            dout_b_registered &lt;= memory[memory_addr_b1];
            dout_b &lt;= dout_b_registered;
          end
        end
    end
  else
    always @(clock) dout_b = {BRAM_BITSIZE{1&apos;b0}};
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_SV</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_SV"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_SV bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY"  IP_COMPONENT="BRAM_MEMORY_NN_SV_CORE" VERILOG_PROVIDED="
reg [PORTSIZE_bram_write-1:0] bram_write1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1):0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1):0] din_value_aggregated_swapped1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_be_swapped*BITSIZE_be_swapped)+(-1):0] be_swapped1 1INIT_ZERO_VALUE;

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       bram_write1 &lt;= bram_write;
       be_swapped1 &lt;= be_swapped;
       din_value_aggregated_swapped1 &lt;= din_value_aggregated_swapped;
    end
  end
endgenerate


generate
if(BRAM_BITSIZE == 8)
begin
  reg [(n_byte_on_databus/2)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
  assign dout_a[BRAM_BITSIZE-1:0] = dout_a_tmp;
  assign dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE] = dout_b_tmp;
  initial
  begin
    $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
  end
  if(n_mem_elements == 1)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0] &amp;&amp; be_swapped[n_byte_on_databus_offset])
          memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      else
      begin
        if (bram_write1[0] &amp;&amp; be_swapped1[n_byte_on_databus_offset])
          memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped1[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1] &amp;&amp; be_swapped[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      else
      begin
        if (bram_write1[1] &amp;&amp; be_swapped1[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0] &amp;&amp; be_swapped[n_byte_on_databus_offset])
          memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      else
      begin
        if (bram_write1[0] &amp;&amp; be_swapped1[n_byte_on_databus_offset])
          memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped1[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1] &amp;&amp; be_swapped[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      else
      begin
        if (bram_write1[1] &amp;&amp; be_swapped1[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
end
else
begin
  if(n_mem_elements == 1)
  begin
    reg [(n_byte_on_databus/2)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
    assign dout_a[BRAM_BITSIZE-1:0] = dout_a_tmp;
    assign dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE] = dout_b_tmp;
    initial
    begin
      $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0])
        begin : L11_write
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
          begin
            if(be_swapped[i11+n_byte_on_databus_offset])
              memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]][i11*8+:8] &lt;= din_value_aggregated_swapped[i11*8+memory_offset+:8];
          end
        end
      end
      else
      begin
        if (bram_write1[0])
        begin : L11_write1
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
          begin
            if(be_swapped1[i11+n_byte_on_databus_offset])
              memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]][i11*8+:8] &lt;= din_value_aggregated_swapped1[i11*8+memory_offset+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1])
        begin : L22_write
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus/2; i22=i22+1)
          begin
            if(be_swapped[i22+n_byte_on_databus+n_byte_on_databus_offset])
              memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]][i22*8+:8] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+memory_offset+i22*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1[1])
        begin : L22_write1
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus/2; i22=i22+1)
          begin
            if(be_swapped1[i22+n_byte_on_databus+n_byte_on_databus_offset])
              memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]][i22*8+:8] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+memory_offset+i22*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
    BRAM_MEMORY_NN_SV_CORE #(.PORTSIZE_bram_write(PORTSIZE_bram_write), .BITSIZE_bram_write(BITSIZE_bram_write), .BITSIZE_dout_a(BITSIZE_dout_a), .PORTSIZE_dout_a(PORTSIZE_dout_a), .BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .PORTSIZE_memory_addr_a(PORTSIZE_memory_addr_a), .BITSIZE_din_value_aggregated_swapped(BITSIZE_din_value_aggregated_swapped), .PORTSIZE_din_value_aggregated_swapped(PORTSIZE_din_value_aggregated_swapped), .BITSIZE_be_swapped(BITSIZE_be_swapped), .PORTSIZE_be_swapped(PORTSIZE_be_swapped), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_offset), .n_byte_on_databus_offset(n_byte_on_databus_offset), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_CORE_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

end
endgenerate
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_SV_CORE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_SV_CORE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_SV_CORE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_SV_CORE bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY" VERILOG_PROVIDED="" SYSTEM_VERILOG_PROVIDED="
wire [(n_byte_on_databus/2)*max_n_writes-1:0] we_a;
reg [PORTSIZE_dout_a*BITSIZE_dout_a-1:0] dout_a 1INIT_ZERO_VALUE;
reg [PORTSIZE_dout_a*BITSIZE_dout_a-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [(PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1):0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1):0] din_value_aggregated_swapped1 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus/2)*max_n_writes-1:0] we_a1 1INIT_ZERO_VALUE;

(* syn_ramstyle = &quot;no_rw_check&quot; *) reg [(BRAM_BITSIZE/8)-1:0][7:0] memory_a [0:n_mem_elements-1];
initial
begin
  $readmemb(MEMORY_INIT_file, memory_a, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       we_a1 &lt;= we_a;
       din_value_aggregated_swapped1 &lt;= din_value_aggregated_swapped;
    end
  end
endgenerate

generate
  if(n_byte_on_databus==2)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
    end
  end
  else if(n_byte_on_databus==4)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
    end
  end
  else if(n_byte_on_databus==8)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
    end
  end
  else if(n_byte_on_databus==16)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
        if(we_a[4+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][4] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+4*8+memory_offset];
        if(we_a[5+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][5] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+5*8+memory_offset];
        if(we_a[6+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][6] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+6*8+memory_offset];
        if(we_a[7+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][7] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+7*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
        if(we_a1[4+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][4] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+4*8+memory_offset];
        if(we_a1[5+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][5] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+5*8+memory_offset];
        if(we_a1[6+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][6] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+6*8+memory_offset];
        if(we_a1[7+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][7] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+7*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
    end
  end
  else if(n_byte_on_databus==32)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
        if(we_a[4+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][4] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+4*8+memory_offset];
        if(we_a[5+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][5] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+5*8+memory_offset];
        if(we_a[6+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][6] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+6*8+memory_offset];
        if(we_a[7+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][7] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+7*8+memory_offset];
        if(we_a[8+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][8] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(8+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+8*8+memory_offset];
        if(we_a[9+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][9] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(9+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+9*8+memory_offset];
        if(we_a[10+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][10] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(10+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+10*8+memory_offset];
        if(we_a[11+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][11] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(11+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+11*8+memory_offset];
        if(we_a[12+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][12] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(12+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+12*8+memory_offset];
        if(we_a[13+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][13] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(13+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+13*8+memory_offset];
        if(we_a[14+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][14] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(14+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+14*8+memory_offset];
        if(we_a[15+n_byte_on_databus/2*0])
          memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][15] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*0+(15+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+15*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+3*8+memory_offset];
        if(we_a1[4+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][4] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+4*8+memory_offset];
        if(we_a1[5+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][5] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+5*8+memory_offset];
        if(we_a1[6+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][6] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+6*8+memory_offset];
        if(we_a1[7+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][7] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+7*8+memory_offset];
        if(we_a1[8+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][8] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(8+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+8*8+memory_offset];
        if(we_a1[9+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][9] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(9+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+9*8+memory_offset];
        if(we_a1[10+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][10] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(10+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+10*8+memory_offset];
        if(we_a1[11+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][11] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(11+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+11*8+memory_offset];
        if(we_a1[12+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][12] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(12+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+12*8+memory_offset];
        if(we_a1[13+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][13] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(13+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+13*8+memory_offset];
        if(we_a1[14+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][14] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(14+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+14*8+memory_offset];
        if(we_a1[15+n_byte_on_databus/2*0])
          memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]][15] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*0+(15+1)*8+memory_offset-1:2*BRAM_BITSIZE*0+15*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        dout_a[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0] &lt;= dout_a_registered[BRAM_BITSIZE*(0+1)-1:BRAM_BITSIZE*0];
      end
    end
  end
endgenerate

generate
  if(n_byte_on_databus==2)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
    end
  end
  else if(n_byte_on_databus==4)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
    end
  end
  else if(n_byte_on_databus==8)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
    end
  end
  else if(n_byte_on_databus==16)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
        if(we_a[4+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][4] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+4*8+memory_offset];
        if(we_a[5+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][5] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+5*8+memory_offset];
        if(we_a[6+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][6] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+6*8+memory_offset];
        if(we_a[7+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][7] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+7*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
        if(we_a1[4+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][4] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+4*8+memory_offset];
        if(we_a1[5+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][5] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+5*8+memory_offset];
        if(we_a1[6+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][6] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+6*8+memory_offset];
        if(we_a1[7+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][7] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+7*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
    end
  end
  else if(n_byte_on_databus==32)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0 || HIGH_LATENCY==1)
      begin
        if(we_a[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
        if(we_a[4+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][4] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+4*8+memory_offset];
        if(we_a[5+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][5] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+5*8+memory_offset];
        if(we_a[6+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][6] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+6*8+memory_offset];
        if(we_a[7+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][7] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+7*8+memory_offset];
        if(we_a[8+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][8] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(8+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+8*8+memory_offset];
        if(we_a[9+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][9] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(9+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+9*8+memory_offset];
        if(we_a[10+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][10] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(10+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+10*8+memory_offset];
        if(we_a[11+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][11] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(11+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+11*8+memory_offset];
        if(we_a[12+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][12] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(12+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+12*8+memory_offset];
        if(we_a[13+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][13] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(13+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+13*8+memory_offset];
        if(we_a[14+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][14] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(14+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+14*8+memory_offset];
        if(we_a[15+n_byte_on_databus/2*1])
          memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][15] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE*1+(15+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+15*8+memory_offset];
      end
      else
      begin
        if(we_a1[0+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][0] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(0+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+0*8+memory_offset];
        if(we_a1[1+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][1] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(1+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+1*8+memory_offset];
        if(we_a1[2+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][2] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(2+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+2*8+memory_offset];
        if(we_a1[3+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][3] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(3+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+3*8+memory_offset];
        if(we_a1[4+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][4] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(4+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+4*8+memory_offset];
        if(we_a1[5+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][5] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(5+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+5*8+memory_offset];
        if(we_a1[6+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][6] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(6+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+6*8+memory_offset];
        if(we_a1[7+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][7] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(7+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+7*8+memory_offset];
        if(we_a1[8+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][8] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(8+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+8*8+memory_offset];
        if(we_a1[9+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][9] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(9+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+9*8+memory_offset];
        if(we_a1[10+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][10] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(10+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+10*8+memory_offset];
        if(we_a1[11+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][11] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(11+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+11*8+memory_offset];
        if(we_a1[12+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][12] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(12+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+12*8+memory_offset];
        if(we_a1[13+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][13] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(13+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+13*8+memory_offset];
        if(we_a1[14+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][14] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(14+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+14*8+memory_offset];
        if(we_a1[15+n_byte_on_databus/2*1])
          memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]][15] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE*1+(15+1)*8+memory_offset-1:2*BRAM_BITSIZE*1+15*8+memory_offset];
      end
      if(HIGH_LATENCY==0)
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
      else if(HIGH_LATENCY==1)
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
      else
      begin
        dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= memory_a[memory_addr_a1[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        dout_a[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1] &lt;= dout_a_registered[BRAM_BITSIZE*(1+1)-1:BRAM_BITSIZE*1];
      end
    end
  end
endgenerate
  
generate
genvar i11, i12;
  for (i12=0; i12&lt;max_n_writes; i12=i12+1)
  begin : L12
    for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
    begin  : write_enable_a
      assign we_a[i11+(n_byte_on_databus/2)*i12] = bram_write[i12] &amp;&amp; be_swapped[i11+n_byte_on_databus*i12+n_byte_on_databus_offset];
    end
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_TP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_TP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_TP in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC,BRAM_MEMORY_TP" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(data_size/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_b;
wire [n_byte_on_databus*2-1:0] be;

wire [2*BRAM_BITSIZE-1:0] din_value_aggregated;
wire bram_write;
wire [BRAM_BITSIZE-1:0] dout_a;
wire [BRAM_BITSIZE-1:0] dout_b;

BRAM_MEMORY_TP #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));

ADDRESS_DECODING_LOGIC #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_N1_TP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_N1_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_N1_TP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_N1_TP in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_TP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_TP #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(1), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(1), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(1), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(1), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(1), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(1), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(1), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(1), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(1), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1)) ARRAY_1D_STD_BRAM_NN_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size ), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_TP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_TP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_TP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_TP in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC_NN,BRAM_MEMORY_NN_TP" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = data_size/8;
parameter n_bytes = n_elements*n_byte_data;
parameter memory_bitsize = 2*BRAM_BITSIZE;
parameter n_byte_on_databus = memory_bitsize/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_S_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram ? PORTSIZE_sel_LOAD : PORTSIZE_S_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_b;
wire [n_byte_on_databus*max_n_writes-1:0] be_swapped;

wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated_swapped;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_a;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_b;


BRAM_MEMORY_NN_TP #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_a), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(0), .n_byte_on_databus_offset(0)) BRAM_MEMORY_NN_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin : SECOND_MEMORY
    BRAM_MEMORY_NN_TP #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a((memory_bitsize/2)), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_b), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_bitsize/2), .n_byte_on_databus_offset(n_byte_on_databus/2)) BRAM_MEMORY_NN_instance_b(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_b));
  end
else
  assign dout_b = {(memory_bitsize/2)*max_n_reads{1&apos;b0}};
endgenerate

ADDRESS_DECODING_LOGIC_NN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_dout_b(memory_bitsize/2), .PORTSIZE_dout_b(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_memory_addr_b(nbit_read_addr), .PORTSIZE_memory_addr_b(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .BITSIZE_bram_write(1), .PORTSIZE_bram_write(max_n_writes), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .max_n_rw(max_n_rw)) ADDRESS_DECODING_LOGIC_NN_instance (.clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .out1(out1), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .Sout_Rdata_ram(Sout_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .Sout_DataRdy(Sout_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .proxy_out1(proxy_out1), .dout_a(dout_a), .dout_b(dout_b), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .bram_write(bram_write));"
VHDL_PROVIDED=
"function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
   begin
      if cond then
         return op1;
      else
         return op2;
      end if;
   end integer_ternary_operator;
constant n_byte_data       : integer := data_size/8;
constant n_bytes           : integer := n_elements*n_byte_data;
constant memory_bitsize    : integer := 2*BRAM_BITSIZE;
constant n_byte_on_databus : integer := memory_bitsize/8;
constant n_mem_elements    : integer := n_bytes/n_byte_on_databus + integer_ternary_operator((n_bytes mod n_byte_on_databus) = 0, 0, 1);
constant nbit_read_addr    : integer := integer_ternary_operator(n_mem_elements = 1, 1, integer(ceil(log2(real(n_mem_elements)))));
constant max_n_writes      : integer := integer_ternary_operator(PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram, PORTSIZE_sel_STORE, PORTSIZE_S_we_ram);
constant max_n_reads       : integer := integer_ternary_operator(PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram, PORTSIZE_sel_LOAD, PORTSIZE_S_oe_ram);
constant max_n_rw          : integer := integer_ternary_operator(max_n_writes &gt; max_n_reads, max_n_writes, max_n_reads);

signal bram_write : std_logic_vector(max_n_writes-1 downto 0);

signal memory_addr_a : std_logic_vector(nbit_read_addr*max_n_rw-1 downto 0);
signal memory_addr_b : std_logic_vector(nbit_read_addr*max_n_rw-1 downto 0);
signal be_swapped    : std_logic_vector(n_byte_on_databus*max_n_writes-1 downto 0);

signal din_value_aggregated_swapped : std_logic_vector(memory_bitsize*max_n_writes-1 downto 0);
signal dout_a : std_logic_vector((memory_bitsize/2)*max_n_reads-1 downto 0);
signal dout_b : std_logic_vector((memory_bitsize/2)*max_n_reads-1 downto 0);

begin
BRAM_MEMORY_NN_instance_a : BRAM_MEMORY_NN_TP generic map (PORTSIZE_bram_write=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, BITSIZE_dout_a=&gt;memory_bitsize/2, PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, MEMORY_INIT_file=&gt;MEMORY_INIT_file_a, BRAM_BITSIZE=&gt;BRAM_BITSIZE, HIGH_LATENCY=&gt;HIGH_LATENCY, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, memory_offset=&gt;0, n_byte_on_databus_offset=&gt;0) port map (clock=&gt;clock, bram_write=&gt;bram_write, memory_addr_a=&gt;memory_addr_a, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, dout_a=&gt;dout_a);

SECOND_MEMORY : if (n_bytes &gt; BRAM_BITSIZE/8) generate
  BRAM_MEMORY_NN_instance_b : BRAM_MEMORY_NN_TP generic map (PORTSIZE_bram_write=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, BITSIZE_dout_a=&gt;(memory_bitsize/2), PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, MEMORY_INIT_file=&gt;MEMORY_INIT_file_b, BRAM_BITSIZE=&gt;BRAM_BITSIZE, HIGH_LATENCY=&gt;HIGH_LATENCY, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, memory_offset=&gt;memory_bitsize/2, n_byte_on_databus_offset=&gt;n_byte_on_databus/2) port map (clock=&gt;clock, bram_write=&gt;bram_write, memory_addr_a=&gt;memory_addr_b, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, dout_a=&gt;dout_b);
end generate;
SECOND_MEMORY_else : if(n_bytes &lt;= BRAM_BITSIZE/8) generate
  dout_b &lt;= (others =&gt; &apos;X&apos;);
end generate;

ADDRESS_DECODING_LOGIC_NN_instance : ADDRESS_DECODING_LOGIC_NN generic map (BITSIZE_in1=&gt;BITSIZE_in1, PORTSIZE_in1=&gt;PORTSIZE_in1, BITSIZE_in2=&gt;BITSIZE_in2, PORTSIZE_in2=&gt;PORTSIZE_in2, BITSIZE_in3=&gt;BITSIZE_in3, PORTSIZE_in3=&gt;PORTSIZE_in3, BITSIZE_sel_LOAD=&gt;BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=&gt;PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=&gt;BITSIZE_sel_STORE, PORTSIZE_sel_STORE=&gt;PORTSIZE_sel_STORE, BITSIZE_out1=&gt;BITSIZE_out1, PORTSIZE_out1=&gt;PORTSIZE_out1, BITSIZE_S_oe_ram=&gt;BITSIZE_S_oe_ram, PORTSIZE_S_oe_ram=&gt;PORTSIZE_S_oe_ram, BITSIZE_S_we_ram=&gt;BITSIZE_S_we_ram, PORTSIZE_S_we_ram=&gt;PORTSIZE_S_we_ram, BITSIZE_Sin_DataRdy=&gt;BITSIZE_Sin_DataRdy, PORTSIZE_Sin_DataRdy=&gt;PORTSIZE_Sin_DataRdy, BITSIZE_Sout_DataRdy=&gt;BITSIZE_Sout_DataRdy, PORTSIZE_Sout_DataRdy=&gt;PORTSIZE_Sout_DataRdy, BITSIZE_S_addr_ram=&gt;BITSIZE_S_addr_ram, PORTSIZE_S_addr_ram=&gt;PORTSIZE_S_addr_ram, BITSIZE_S_Wdata_ram=&gt;BITSIZE_S_Wdata_ram, PORTSIZE_S_Wdata_ram=&gt;PORTSIZE_S_Wdata_ram, BITSIZE_Sin_Rdata_ram=&gt;BITSIZE_Sin_Rdata_ram, PORTSIZE_Sin_Rdata_ram=&gt;PORTSIZE_Sin_Rdata_ram, BITSIZE_Sout_Rdata_ram=&gt;BITSIZE_Sout_Rdata_ram, PORTSIZE_Sout_Rdata_ram=&gt;PORTSIZE_Sout_Rdata_ram, BITSIZE_S_data_ram_size=&gt;BITSIZE_S_data_ram_size, PORTSIZE_S_data_ram_size=&gt;PORTSIZE_S_data_ram_size, address_space_begin=&gt;address_space_begin, address_space_rangesize=&gt;address_space_rangesize, BUS_PIPELINED=&gt;BUS_PIPELINED, BRAM_BITSIZE=&gt;BRAM_BITSIZE, PRIVATE_MEMORY=&gt;PRIVATE_MEMORY, USE_SPARSE_MEMORY=&gt;USE_SPARSE_MEMORY, HIGH_LATENCY=&gt;HIGH_LATENCY, BITSIZE_proxy_in1=&gt;BITSIZE_proxy_in1, PORTSIZE_proxy_in1=&gt;PORTSIZE_proxy_in1, BITSIZE_proxy_in2=&gt;BITSIZE_proxy_in2, PORTSIZE_proxy_in2=&gt;PORTSIZE_proxy_in2, BITSIZE_proxy_in3=&gt;BITSIZE_proxy_in3, PORTSIZE_proxy_in3=&gt;PORTSIZE_proxy_in3, BITSIZE_proxy_sel_LOAD=&gt;BITSIZE_proxy_sel_LOAD, PORTSIZE_proxy_sel_LOAD=&gt;PORTSIZE_proxy_sel_LOAD, BITSIZE_proxy_sel_STORE=&gt;BITSIZE_proxy_sel_STORE, PORTSIZE_proxy_sel_STORE=&gt;PORTSIZE_proxy_sel_STORE, BITSIZE_proxy_out1=&gt;BITSIZE_proxy_out1, PORTSIZE_proxy_out1=&gt;PORTSIZE_proxy_out1, BITSIZE_dout_a=&gt;memory_bitsize/2, PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_dout_b=&gt;memory_bitsize/2, PORTSIZE_dout_b=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_memory_addr_b=&gt;nbit_read_addr, PORTSIZE_memory_addr_b=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, PORTSIZE_bram_write=&gt;max_n_writes, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, max_n_rw=&gt;max_n_rw) port map (clock=&gt;clock, reset=&gt;reset, in1=&gt;in1, in2=&gt;in2, in3=&gt;in3, out1=&gt;out1, sel_LOAD=&gt;sel_LOAD, sel_STORE=&gt;sel_STORE, S_oe_ram=&gt;S_oe_ram, S_we_ram=&gt;S_we_ram, S_addr_ram=&gt;S_addr_ram, S_Wdata_ram=&gt;S_Wdata_ram, Sin_Rdata_ram=&gt;Sin_Rdata_ram, Sout_Rdata_ram=&gt;Sout_Rdata_ram, S_data_ram_size=&gt;S_data_ram_size, Sin_DataRdy=&gt;Sin_DataRdy, Sout_DataRdy=&gt;Sout_DataRdy, proxy_in1=&gt;proxy_in1, proxy_in2=&gt;proxy_in2, proxy_in3=&gt;proxy_in3, proxy_sel_LOAD=&gt;proxy_sel_LOAD, proxy_sel_STORE=&gt;proxy_sel_STORE, proxy_out1=&gt;proxy_out1, dout_a=&gt;dout_a, dout_b=&gt;dout_b, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, bram_write=&gt;bram_write);"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_SP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_SP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_SP"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_SP in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC,BRAM_MEMORY_CORE" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(data_size/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_b;
wire [n_byte_on_databus*2-1:0] be;

wire [2*BRAM_BITSIZE-1:0] din_value_aggregated;
wire bram_write;
wire [BRAM_BITSIZE-1:0] dout_a;
wire [BRAM_BITSIZE-1:0] dout_b;

BRAM_MEMORY_CORE #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));

ADDRESS_DECODING_LOGIC #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));"
VHDL_PROVIDED=
"function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
   begin
      if cond then
         return op1;
      else
         return op2;
      end if;
   end integer_ternary_operator;
constant n_bytes           : integer := n_elements*(data_size/8);
constant n_byte_on_databus : integer := BRAM_BITSIZE/8;
constant n_mem_elements    : integer := n_bytes/n_byte_on_databus + integer_ternary_operator((n_bytes mod n_byte_on_databus) = 0, 0, 1);
constant nbit_read_addr    : integer := integer_ternary_operator(n_mem_elements = 1, 1, integer(ceil(log2(real(n_mem_elements)))));

signal memory_addr_a : std_logic_vector(nbit_read_addr-1 downto 0);
signal memory_addr_b : std_logic_vector(nbit_read_addr-1 downto 0);
signal be    : std_logic_vector(2*n_byte_on_databus-1 downto 0);

signal din_value_aggregated : std_logic_vector(2*BRAM_BITSIZE-1 downto 0);
signal bram_write : std_logic;
signal dout_a : std_logic_vector(BRAM_BITSIZE-1 downto 0);
signal dout_b : std_logic_vector(BRAM_BITSIZE-1 downto 0);

begin
BRAM_MEMORY_instance : BRAM_MEMORY_CORE generic map (BITSIZE_memory_addr_a=&gt;nbit_read_addr, BITSIZE_memory_addr_b=&gt;nbit_read_addr, BITSIZE_din_value_aggregated=&gt;2*BRAM_BITSIZE, BITSIZE_be=&gt;n_byte_on_databus*2, BITSIZE_dout_a=&gt;BRAM_BITSIZE, BITSIZE_dout_b=&gt;BRAM_BITSIZE, MEMORY_INIT_file=&gt;MEMORY_INIT_file, BRAM_BITSIZE=&gt;BRAM_BITSIZE, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, n_bytes=&gt;n_bytes, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, bram_write=&gt;bram_write, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated=&gt;din_value_aggregated, be=&gt;be, dout_a=&gt;dout_a, dout_b=&gt;dout_b);


ADDRESS_DECODING_LOGIC_instance : ADDRESS_DECODING_LOGIC generic map (BITSIZE_memory_addr_a=&gt;nbit_read_addr, BITSIZE_memory_addr_b=&gt;nbit_read_addr, BITSIZE_din_value_aggregated=&gt;2*BRAM_BITSIZE, BITSIZE_be=&gt;n_byte_on_databus*2, BITSIZE_dout_a=&gt;BRAM_BITSIZE, BITSIZE_dout_b=&gt;BRAM_BITSIZE, BITSIZE_in1=&gt;BITSIZE_in1, BITSIZE_in2=&gt;BITSIZE_in2, BITSIZE_in3=&gt;BITSIZE_in3, BITSIZE_out1=&gt;BITSIZE_out1, BITSIZE_S_addr_ram=&gt;BITSIZE_S_addr_ram, BITSIZE_S_Wdata_ram=&gt;BITSIZE_S_Wdata_ram, BITSIZE_Sin_Rdata_ram=&gt;BITSIZE_Sin_Rdata_ram, BITSIZE_Sout_Rdata_ram=&gt;BITSIZE_Sout_Rdata_ram, BITSIZE_S_data_ram_size=&gt;BITSIZE_S_data_ram_size, address_space_begin=&gt;address_space_begin, address_space_rangesize=&gt;address_space_rangesize, BUS_PIPELINED=&gt;BUS_PIPELINED, BRAM_BITSIZE=&gt;BRAM_BITSIZE, PRIVATE_MEMORY=&gt;PRIVATE_MEMORY, USE_SPARSE_MEMORY=&gt;USE_SPARSE_MEMORY, BITSIZE_proxy_in1=&gt;BITSIZE_proxy_in1, BITSIZE_proxy_in2=&gt;BITSIZE_proxy_in2, BITSIZE_proxy_in3=&gt;BITSIZE_proxy_in3, BITSIZE_proxy_out1=&gt;BITSIZE_proxy_out1, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, n_bytes=&gt;n_bytes, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, reset=&gt;reset, in1=&gt;in1, in2=&gt;in2, in3=&gt;in3, out1=&gt;out1, sel_LOAD=&gt;sel_LOAD, sel_STORE=&gt;sel_STORE, S_oe_ram=&gt;S_oe_ram, S_we_ram=&gt;S_we_ram, S_addr_ram=&gt;S_addr_ram, S_Wdata_ram=&gt;S_Wdata_ram, Sin_Rdata_ram=&gt;Sin_Rdata_ram, Sout_Rdata_ram=&gt;Sout_Rdata_ram, S_data_ram_size=&gt;S_data_ram_size, Sin_DataRdy=&gt;Sin_DataRdy, Sout_DataRdy=&gt;Sout_DataRdy, proxy_in1=&gt;proxy_in1, proxy_in2=&gt;proxy_in2, proxy_in3=&gt;proxy_in3, proxy_sel_LOAD=&gt;proxy_sel_LOAD, proxy_sel_STORE=&gt;proxy_sel_STORE, proxy_out1=&gt;proxy_out1, dout_a=&gt;dout_a, dout_b=&gt;dout_b, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated=&gt;din_value_aggregated, be=&gt;be, bram_write=&gt;bram_write);"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_N1_SP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_N1_SP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_N1_SP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_N1_SP in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_SP" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_SP #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(1), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(1), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(1), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(1), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(1), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(1), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(1), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(1), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(1), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1)) ARRAY_1D_STD_BRAM_NN_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size ), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE));"
VHDL_PROVIDED=
"begin
ARRAY_1D_STD_BRAM_NN_instance : ARRAY_1D_STD_BRAM_NN_SP generic map (BITSIZE_in1=&gt;BITSIZE_in1, PORTSIZE_in1=&gt;PORTSIZE_in1, BITSIZE_in2=&gt;BITSIZE_in2, PORTSIZE_in2=&gt;PORTSIZE_in2, BITSIZE_in3=&gt;BITSIZE_in3, PORTSIZE_in3=&gt;PORTSIZE_in3, BITSIZE_sel_LOAD=&gt;BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=&gt;PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=&gt;BITSIZE_sel_STORE, PORTSIZE_sel_STORE=&gt;PORTSIZE_sel_STORE, BITSIZE_S_oe_ram=&gt;BITSIZE_S_oe_ram, PORTSIZE_S_oe_ram=&gt;1, BITSIZE_S_we_ram=&gt;BITSIZE_S_we_ram, PORTSIZE_S_we_ram=&gt;1, BITSIZE_out1=&gt;BITSIZE_out1, PORTSIZE_out1=&gt;PORTSIZE_out1, BITSIZE_S_addr_ram=&gt;BITSIZE_S_addr_ram, PORTSIZE_S_addr_ram=&gt;1, BITSIZE_S_Wdata_ram=&gt;BITSIZE_S_Wdata_ram, PORTSIZE_S_Wdata_ram=&gt;1, BITSIZE_Sin_Rdata_ram=&gt;BITSIZE_Sin_Rdata_ram, PORTSIZE_Sin_Rdata_ram=&gt;1, BITSIZE_Sout_Rdata_ram=&gt;BITSIZE_Sout_Rdata_ram, PORTSIZE_Sout_Rdata_ram=&gt;1, BITSIZE_S_data_ram_size=&gt;BITSIZE_S_data_ram_size, PORTSIZE_S_data_ram_size=&gt;1, BITSIZE_Sin_DataRdy=&gt;BITSIZE_Sin_DataRdy, PORTSIZE_Sin_DataRdy=&gt;1, BITSIZE_Sout_DataRdy=&gt;BITSIZE_Sout_DataRdy, PORTSIZE_Sout_DataRdy=&gt;1, MEMORY_INIT_file_a=&gt;MEMORY_INIT_file_a, MEMORY_INIT_file_b=&gt;MEMORY_INIT_file_b, n_elements=&gt;n_elements, data_size=&gt;data_size, address_space_begin=&gt;address_space_begin, address_space_rangesize=&gt;address_space_rangesize, BUS_PIPELINED=&gt;BUS_PIPELINED, BRAM_BITSIZE=&gt;BRAM_BITSIZE, PRIVATE_MEMORY=&gt;PRIVATE_MEMORY, USE_SPARSE_MEMORY=&gt;USE_SPARSE_MEMORY, BITSIZE_proxy_in1=&gt;BITSIZE_proxy_in1, PORTSIZE_proxy_in1=&gt;PORTSIZE_proxy_in1, BITSIZE_proxy_in2=&gt;BITSIZE_proxy_in2, PORTSIZE_proxy_in2=&gt;PORTSIZE_proxy_in2, BITSIZE_proxy_in3=&gt;BITSIZE_proxy_in3, PORTSIZE_proxy_in3=&gt;PORTSIZE_proxy_in3, BITSIZE_proxy_sel_LOAD=&gt;BITSIZE_proxy_sel_LOAD, PORTSIZE_proxy_sel_LOAD=&gt;PORTSIZE_proxy_sel_LOAD, BITSIZE_proxy_sel_STORE=&gt;BITSIZE_proxy_sel_STORE, PORTSIZE_proxy_sel_STORE=&gt;PORTSIZE_proxy_sel_STORE, BITSIZE_proxy_out1=&gt;BITSIZE_proxy_out1, PORTSIZE_proxy_out1=&gt;PORTSIZE_proxy_out1, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (out1=&gt;out1, Sout_Rdata_ram=&gt;Sout_Rdata_ram, Sout_DataRdy(0)=&gt;Sout_DataRdy, proxy_out1=&gt;proxy_out1, clock=&gt;clock, reset=&gt;reset, in1=&gt;in1, in2=&gt;in2, in3=&gt;in3, sel_LOAD=&gt;sel_LOAD, sel_STORE=&gt;sel_STORE, S_oe_ram(0)=&gt;S_oe_ram, S_we_ram(0)=&gt;S_we_ram, S_addr_ram=&gt;S_addr_ram, S_Wdata_ram=&gt;S_Wdata_ram, Sin_Rdata_ram=&gt;Sin_Rdata_ram, S_data_ram_size=&gt;S_data_ram_size, Sin_DataRdy(0)=&gt;Sin_DataRdy, proxy_in1=&gt;proxy_in1, proxy_in2=&gt;proxy_in2, proxy_in3=&gt;proxy_in3, proxy_sel_LOAD=&gt;proxy_sel_LOAD, proxy_sel_STORE=&gt;proxy_sel_STORE);"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_SP</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_SP">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_SP"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_SP in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC_NN,BRAM_MEMORY_NN_CORE" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = data_size/8;
parameter n_bytes = n_elements*n_byte_data;
parameter memory_bitsize = 2*BRAM_BITSIZE;
parameter n_byte_on_databus = memory_bitsize/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_S_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram ? PORTSIZE_sel_LOAD : PORTSIZE_S_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_b;
wire [n_byte_on_databus*max_n_writes-1:0] be_swapped;

wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated_swapped;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_a;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_b;


BRAM_MEMORY_NN_CORE #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_a), .BRAM_BITSIZE(BRAM_BITSIZE), .n_bytes(n_bytes), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(0), .n_byte_on_databus_offset(0), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin : SECOND_MEMORY
    BRAM_MEMORY_NN_CORE #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a((memory_bitsize/2)), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_b), .BRAM_BITSIZE(BRAM_BITSIZE), .n_bytes(n_bytes), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_bitsize/2), .n_byte_on_databus_offset(n_byte_on_databus/2), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_b(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_b));
  end
else
  assign dout_b = {(memory_bitsize/2)*max_n_reads{1&apos;b0}};
endgenerate

ADDRESS_DECODING_LOGIC_NN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_dout_b(memory_bitsize/2), .PORTSIZE_dout_b(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_memory_addr_b(nbit_read_addr), .PORTSIZE_memory_addr_b(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .BITSIZE_bram_write(1), .PORTSIZE_bram_write(max_n_writes), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .max_n_rw(max_n_rw)) ADDRESS_DECODING_LOGIC_NN_instance (.clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .out1(out1), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .Sout_Rdata_ram(Sout_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .Sout_DataRdy(Sout_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .proxy_out1(proxy_out1), .dout_a(dout_a), .dout_b(dout_b), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .bram_write(bram_write));"
VHDL_PROVIDED=
"function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
   begin
      if cond then
         return op1;
      else
         return op2;
      end if;
   end integer_ternary_operator;
constant n_byte_data       : integer := data_size/8;
constant n_bytes           : integer := n_elements*n_byte_data;
constant memory_bitsize    : integer := 2*BRAM_BITSIZE;
constant n_byte_on_databus : integer := memory_bitsize/8;
constant n_mem_elements    : integer := n_bytes/n_byte_on_databus + integer_ternary_operator((n_bytes mod n_byte_on_databus) = 0, 0, 1);
constant nbit_read_addr    : integer := integer_ternary_operator(n_mem_elements = 1, 1, integer(ceil(log2(real(n_mem_elements)))));
constant max_n_writes      : integer := integer_ternary_operator(PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram, PORTSIZE_sel_STORE, PORTSIZE_S_we_ram);
constant max_n_reads       : integer := integer_ternary_operator(PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram, PORTSIZE_sel_LOAD, PORTSIZE_S_oe_ram);
constant max_n_rw          : integer := integer_ternary_operator(max_n_writes &gt; max_n_reads, max_n_writes, max_n_reads);

signal bram_write : std_logic_vector(max_n_writes-1 downto 0);

signal memory_addr_a : std_logic_vector(nbit_read_addr*max_n_rw-1 downto 0);
signal memory_addr_b : std_logic_vector(nbit_read_addr*max_n_rw-1 downto 0);
signal be_swapped    : std_logic_vector(n_byte_on_databus*max_n_writes-1 downto 0);

signal din_value_aggregated_swapped : std_logic_vector(memory_bitsize*max_n_writes-1 downto 0);
signal dout_a : std_logic_vector((memory_bitsize/2)*max_n_reads-1 downto 0);
signal dout_b : std_logic_vector((memory_bitsize/2)*max_n_reads-1 downto 0);

begin
BRAM_MEMORY_NN_instance_a : BRAM_MEMORY_NN_CORE generic map (PORTSIZE_bram_write=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, BITSIZE_dout_a=&gt;memory_bitsize/2, PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, MEMORY_INIT_file=&gt;MEMORY_INIT_file_a, BRAM_BITSIZE=&gt;BRAM_BITSIZE, HIGH_LATENCY=&gt;HIGH_LATENCY, n_bytes=&gt;n_bytes, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, memory_offset=&gt;0, n_byte_on_databus_offset=&gt;0) port map (clock=&gt;clock, bram_write=&gt;bram_write, memory_addr_a=&gt;memory_addr_a, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, dout_a=&gt;dout_a);

SECOND_MEMORY : if (n_bytes &gt; BRAM_BITSIZE/8) generate
  BRAM_MEMORY_NN_instance_b : BRAM_MEMORY_NN_CORE generic map (PORTSIZE_bram_write=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, BITSIZE_dout_a=&gt;(memory_bitsize/2), PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, MEMORY_INIT_file=&gt;MEMORY_INIT_file_b, BRAM_BITSIZE=&gt;BRAM_BITSIZE, HIGH_LATENCY=&gt;HIGH_LATENCY, n_bytes=&gt;n_bytes, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, memory_offset=&gt;memory_bitsize/2, n_byte_on_databus_offset=&gt;n_byte_on_databus/2) port map (clock=&gt;clock, bram_write=&gt;bram_write, memory_addr_a=&gt;memory_addr_b, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, dout_a=&gt;dout_b);
end generate;
SECOND_MEMORY_else : if(n_bytes &lt;= BRAM_BITSIZE/8) generate
  dout_b &lt;= (others =&gt; &apos;X&apos;);
end generate;

ADDRESS_DECODING_LOGIC_NN_instance : ADDRESS_DECODING_LOGIC_NN generic map (BITSIZE_in1=&gt;BITSIZE_in1, PORTSIZE_in1=&gt;PORTSIZE_in1, BITSIZE_in2=&gt;BITSIZE_in2, PORTSIZE_in2=&gt;PORTSIZE_in2, BITSIZE_in3=&gt;BITSIZE_in3, PORTSIZE_in3=&gt;PORTSIZE_in3, BITSIZE_sel_LOAD=&gt;BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=&gt;PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=&gt;BITSIZE_sel_STORE, PORTSIZE_sel_STORE=&gt;PORTSIZE_sel_STORE, BITSIZE_out1=&gt;BITSIZE_out1, PORTSIZE_out1=&gt;PORTSIZE_out1, BITSIZE_S_oe_ram=&gt;BITSIZE_S_oe_ram, PORTSIZE_S_oe_ram=&gt;PORTSIZE_S_oe_ram, BITSIZE_S_we_ram=&gt;BITSIZE_S_we_ram, PORTSIZE_S_we_ram=&gt;PORTSIZE_S_we_ram, BITSIZE_Sin_DataRdy=&gt;BITSIZE_Sin_DataRdy, PORTSIZE_Sin_DataRdy=&gt;PORTSIZE_Sin_DataRdy, BITSIZE_Sout_DataRdy=&gt;BITSIZE_Sout_DataRdy, PORTSIZE_Sout_DataRdy=&gt;PORTSIZE_Sout_DataRdy, BITSIZE_S_addr_ram=&gt;BITSIZE_S_addr_ram, PORTSIZE_S_addr_ram=&gt;PORTSIZE_S_addr_ram, BITSIZE_S_Wdata_ram=&gt;BITSIZE_S_Wdata_ram, PORTSIZE_S_Wdata_ram=&gt;PORTSIZE_S_Wdata_ram, BITSIZE_Sin_Rdata_ram=&gt;BITSIZE_Sin_Rdata_ram, PORTSIZE_Sin_Rdata_ram=&gt;PORTSIZE_Sin_Rdata_ram, BITSIZE_Sout_Rdata_ram=&gt;BITSIZE_Sout_Rdata_ram, PORTSIZE_Sout_Rdata_ram=&gt;PORTSIZE_Sout_Rdata_ram, BITSIZE_S_data_ram_size=&gt;BITSIZE_S_data_ram_size, PORTSIZE_S_data_ram_size=&gt;PORTSIZE_S_data_ram_size, address_space_begin=&gt;address_space_begin, address_space_rangesize=&gt;address_space_rangesize, BUS_PIPELINED=&gt;BUS_PIPELINED, BRAM_BITSIZE=&gt;BRAM_BITSIZE, PRIVATE_MEMORY=&gt;PRIVATE_MEMORY, USE_SPARSE_MEMORY=&gt;USE_SPARSE_MEMORY, HIGH_LATENCY=&gt;HIGH_LATENCY, BITSIZE_proxy_in1=&gt;BITSIZE_proxy_in1, PORTSIZE_proxy_in1=&gt;PORTSIZE_proxy_in1, BITSIZE_proxy_in2=&gt;BITSIZE_proxy_in2, PORTSIZE_proxy_in2=&gt;PORTSIZE_proxy_in2, BITSIZE_proxy_in3=&gt;BITSIZE_proxy_in3, PORTSIZE_proxy_in3=&gt;PORTSIZE_proxy_in3, BITSIZE_proxy_sel_LOAD=&gt;BITSIZE_proxy_sel_LOAD, PORTSIZE_proxy_sel_LOAD=&gt;PORTSIZE_proxy_sel_LOAD, BITSIZE_proxy_sel_STORE=&gt;BITSIZE_proxy_sel_STORE, PORTSIZE_proxy_sel_STORE=&gt;PORTSIZE_proxy_sel_STORE, BITSIZE_proxy_out1=&gt;BITSIZE_proxy_out1, PORTSIZE_proxy_out1=&gt;PORTSIZE_proxy_out1, BITSIZE_dout_a=&gt;memory_bitsize/2, PORTSIZE_dout_a=&gt;max_n_reads, BITSIZE_dout_b=&gt;memory_bitsize/2, PORTSIZE_dout_b=&gt;max_n_reads, BITSIZE_memory_addr_a=&gt;nbit_read_addr, PORTSIZE_memory_addr_a=&gt;max_n_rw, BITSIZE_memory_addr_b=&gt;nbit_read_addr, PORTSIZE_memory_addr_b=&gt;max_n_rw, BITSIZE_din_value_aggregated_swapped=&gt;memory_bitsize, PORTSIZE_din_value_aggregated_swapped=&gt;max_n_writes, BITSIZE_be_swapped=&gt;n_byte_on_databus, PORTSIZE_be_swapped=&gt;max_n_writes, BITSIZE_bram_write=&gt;1, PORTSIZE_bram_write=&gt;max_n_writes, nbit_read_addr=&gt;nbit_read_addr, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, max_n_reads=&gt;max_n_reads, max_n_writes=&gt;max_n_writes, max_n_rw=&gt;max_n_rw) port map (clock=&gt;clock, reset=&gt;reset, in1=&gt;in1, in2=&gt;in2, in3=&gt;in3, out1=&gt;out1, sel_LOAD=&gt;sel_LOAD, sel_STORE=&gt;sel_STORE, S_oe_ram=&gt;S_oe_ram, S_we_ram=&gt;S_we_ram, S_addr_ram=&gt;S_addr_ram, S_Wdata_ram=&gt;S_Wdata_ram, Sin_Rdata_ram=&gt;Sin_Rdata_ram, Sout_Rdata_ram=&gt;Sout_Rdata_ram, S_data_ram_size=&gt;S_data_ram_size, Sin_DataRdy=&gt;Sin_DataRdy, Sout_DataRdy=&gt;Sout_DataRdy, proxy_in1=&gt;proxy_in1, proxy_in2=&gt;proxy_in2, proxy_in3=&gt;proxy_in3, proxy_sel_LOAD=&gt;proxy_sel_LOAD, proxy_sel_STORE=&gt;proxy_sel_STORE, proxy_out1=&gt;proxy_out1, dout_a=&gt;dout_a, dout_b=&gt;dout_b, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated_swapped=&gt;din_value_aggregated_swapped, be_swapped=&gt;be_swapped, bram_write=&gt;bram_write);"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_SV</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_SV"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_SV in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC,BRAM_MEMORY_SV" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(data_size/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_b;
wire [n_byte_on_databus*2-1:0] be;

wire [2*BRAM_BITSIZE-1:0] din_value_aggregated;
wire bram_write;
wire [BRAM_BITSIZE-1:0] dout_a;
wire [BRAM_BITSIZE-1:0] dout_b;

BRAM_MEMORY_SV #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));

ADDRESS_DECODING_LOGIC #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_SV</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_SV"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_SV in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC_NN,BRAM_MEMORY_NN_SV" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = data_size/8;
parameter n_bytes = n_elements*n_byte_data;
parameter memory_bitsize = 2*BRAM_BITSIZE;
parameter n_byte_on_databus = memory_bitsize/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_S_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram ? PORTSIZE_sel_LOAD : PORTSIZE_S_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_b;
wire [n_byte_on_databus*max_n_writes-1:0] be_swapped;

wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated_swapped;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_a;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_b;


BRAM_MEMORY_NN_SV #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_a), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(0), .n_byte_on_databus_offset(0), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin : SECOND_MEMORY
    BRAM_MEMORY_NN_SV #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a((memory_bitsize/2)), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_b), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_bitsize/2), .n_byte_on_databus_offset(n_byte_on_databus/2), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_b(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_b));
  end
else
  assign dout_b = {(memory_bitsize/2)*max_n_reads{1&apos;b0}};
endgenerate

ADDRESS_DECODING_LOGIC_NN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_dout_b(memory_bitsize/2), .PORTSIZE_dout_b(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_memory_addr_b(nbit_read_addr), .PORTSIZE_memory_addr_b(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .BITSIZE_bram_write(1), .PORTSIZE_bram_write(max_n_writes), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .max_n_rw(max_n_rw)) ADDRESS_DECODING_LOGIC_NN_instance (.clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .out1(out1), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .Sout_Rdata_ram(Sout_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .Sout_DataRdy(Sout_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .proxy_out1(proxy_out1), .dout_a(dout_a), .dout_b(dout_b), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .bram_write(bram_write));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_N1_SV</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_N1_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_N1_SV"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_N1_SV in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_SV" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_SV #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(1), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(1), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(1), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(1), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(1), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(1), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(1), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(1), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(1), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1)) ARRAY_1D_STD_BRAM_NN_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size ), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAM_SV</name>
      <circuit>
        <component_o id="STD_BRAM_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_SV"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_SV S_addr_ram S_Wdata_ram Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_SV" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_SV #(.BITSIZE_in1(1), .BITSIZE_in2(BITSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .BITSIZE_out1(1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(1), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .BITSIZE_proxy_out1(1)) ARRAY_1D_STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1(1&apos;b0), .in2({BITSIZE_S_addr_ram{1&apos;b0}}), .in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD(1&apos;b0), .sel_STORE(1&apos;b0), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(1&apos;b0), .proxy_in2({BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD(1&apos;b0), .proxy_sel_STORE(1&apos;b0));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_SV</name>
      <circuit>
        <component_o id="STD_BRAMN_SV">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_SV"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_SV S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_SV" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_SV #(.BITSIZE_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_in2(BITSIZE_S_addr_ram), .PORTSIZE_in2(PORTSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .PORTSIZE_in3(PORTSIZE_S_data_ram_size), .BITSIZE_sel_LOAD(1), .PORTSIZE_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_sel_STORE(1), .PORTSIZE_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_out1(1), .PORTSIZE_out1(PORTSIZE_S_addr_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .HIGH_LATENCY(HIGH_LATENCY), .BITSIZE_proxy_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_proxy_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .PORTSIZE_proxy_in2(PORTSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .PORTSIZE_proxy_in3(PORTSIZE_S_data_ram_size), .BITSIZE_proxy_sel_LOAD(1), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_proxy_sel_STORE(1), .PORTSIZE_proxy_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_proxy_out1(1), .PORTSIZE_proxy_out1(PORTSIZE_S_addr_ram)) ARRAY_1D_STD_BRAM_NN_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .proxy_in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .proxy_sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_SP_BRAM_BYTE</name>
      <circuit>
        <component_o id="STD_SP_BRAM_BYTE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_SP_BRAM_BYTE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="byte_offset">0</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_a" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_SP_BRAM_BYTE Raddr Waddr MEMORY_INIT_file n_mem_elements byte_offset BRAM_BITSIZE HIGH_LATENCY" VERILOG_PROVIDED="
reg [7:0] dout_a 1INIT_ZERO_VALUE;
reg [7:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [7:0] din_value1 1INIT_ZERO_VALUE;
reg [BITSIZE_Raddr-1:0] Raddr1 1INIT_ZERO_VALUE;
reg [BITSIZE_Waddr-1:0] Waddr11INIT_ZERO_VALUE ;
reg we_a1 1INIT_ZERO_VALUE;
(* syn_ramstyle = &quot;no_rw_check&quot; *) reg [BRAM_BITSIZE-1:0] memory_a [0:n_mem_elements-1];
initial
begin
  $readmemb(MEMORY_INIT_file, memory_a, 0, n_mem_elements-1);
end
always @(posedge clock)
begin
  if(HIGH_LATENCY==0||HIGH_LATENCY==1)
  begin
    if(we_a)
      memory_a[Waddr][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value;
  end
  else
  begin
    if(we_a1)
      memory_a[Waddr1][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value1;
  end
  if(HIGH_LATENCY==0)
  begin
    dout_a &lt;= memory_a[Raddr][(byte_offset+1)*8-1:byte_offset*8];
  end
  else if(HIGH_LATENCY==1)
  begin
    dout_a_registered &lt;= memory_a[Raddr][(byte_offset+1)*8-1:byte_offset*8];
    dout_a &lt;= dout_a_registered;
  end
  else
  begin
    din_value1  &lt;= din_value;
    Raddr1  &lt;= Raddr;
    Waddr1  &lt;= Waddr;
    we_a1  &lt;= we_a;
    dout_a_registered &lt;= memory_a[Raddr1][(byte_offset+1)*8-1:byte_offset*8];
    dout_a &lt;= dout_a_registered;
  end
end"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_NR_BRAM_BYTE</name>
      <circuit>
        <component_o id="STD_NR_BRAM_BYTE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_NR_BRAM_BYTE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="byte_offset">0</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_a" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_NR_BRAM_BYTE Raddr Waddr dout_a MEMORY_INIT_file n_mem_elements byte_offset BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_SP_BRAM_BYTE" VERILOG_PROVIDED="generate
genvar i1;
  for (i1=0; i1&lt;PORTSIZE_Raddr; i1=i1+1)
  begin : L1
    STD_SP_BRAM_BYTE #(.BITSIZE_Raddr(BITSIZE_Raddr), .BITSIZE_Waddr(BITSIZE_Waddr), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .byte_offset(byte_offset), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_SP_BRAM_BYTE_instance (.clock(clock), .we_a(we_a), .Raddr(Raddr[(i1+1)*BITSIZE_Raddr-1:i1*BITSIZE_Raddr]), .Waddr(Waddr), .din_value(din_value), .dout_a(dout_a[(i1+1)*BITSIZE_dout_a-1:i1*BITSIZE_dout_a]));
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_N21_BYTEMUX</name>
      <circuit>
        <component_o id="STD_N21_BYTEMUX">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_N21_BYTEMUX"/>
          <port_o id="ctrl" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="din" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="dout" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_N21_BYTEMUX ctrl din dout" VERILOG_PROVIDED="
wire [BITSIZE_dout-1:0] din_array [0:PORTSIZE_din-1];
genvar i1;
generate
  for(i1=0; i1&lt;PORTSIZE_din; i1=i1+1)
  begin: L1
    assign din_array[i1] = din[(i1+1)*BITSIZE_dout-1:i1*BITSIZE_dout];
  end
endgenerate

assign dout = din_array[ctrl];"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_LIVE_VALUE_TABLE</name>
      <circuit>
        <component_o id="STD_LIVE_VALUE_TABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_LIVE_VALUE_TABLE"/>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="we_a" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="read_selector" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_LIVE_VALUE_TABLE we_a Waddr Raddr read_selector n_mem_elements HIGH_LATENCY" VERILOG_PROVIDED="
parameter max_portsize = PORTSIZE_Waddr &gt; PORTSIZE_Raddr ? PORTSIZE_Waddr : PORTSIZE_Raddr;
reg [(PORTSIZE_read_selector*BITSIZE_read_selector)+(-1):0] read_selector 1INIT_ZERO_VALUE;
reg [(PORTSIZE_read_selector*BITSIZE_read_selector)+(-1):0] read_selector_registered 1INIT_ZERO_VALUE;
reg [PORTSIZE_we_a-1:0] we_a1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_Waddr*BITSIZE_Waddr)+(-1):0] Waddr1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_Raddr*BITSIZE_Raddr)+(-1):0] Raddr1 1INIT_ZERO_VALUE;
reg [BITSIZE_read_selector-1:0] live_value_table [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

integer index;
initial
begin
  for(index=0; index&lt;n_mem_elements; index=index+1)
  begin
    live_value_table[index] = 0;
  end
end

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       Raddr1 &lt;= Raddr;
       Waddr1 &lt;= Waddr;
       we_a1 &lt;= we_a;
    end
  end
endgenerate

genvar i1;
generate
  for (i1=0; i1&lt;max_portsize; i1=i1+1)
  begin : L1
    always @(posedge clock)
    begin
      if(i1 &lt; PORTSIZE_Waddr)
      begin
        if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
        begin
          if(we_a[i1])
            live_value_table[Waddr[(i1+1)*BITSIZE_Waddr-1:i1*BITSIZE_Waddr]] &lt;= i1[BITSIZE_read_selector-1:0];
        end
        else
        begin
          if(we_a1[i1])
            live_value_table[Waddr1[(i1+1)*BITSIZE_Waddr-1:i1*BITSIZE_Waddr]] &lt;= i1[BITSIZE_read_selector-1:0];
        end
      end
      if(i1 &lt; PORTSIZE_Raddr)
      begin
        if(HIGH_LATENCY == 0)
          read_selector[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector] &lt;= live_value_table[Raddr[(i1+1)*BITSIZE_Raddr-1:i1*BITSIZE_Raddr]];
        else if(HIGH_LATENCY == 1)
        begin
          read_selector_registered[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector] &lt;= live_value_table[Raddr[(i1+1)*BITSIZE_Raddr-1:i1*BITSIZE_Raddr]];
          read_selector[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector] &lt;= read_selector_registered[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector];
        end
        else
        begin
          read_selector_registered[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector] &lt;= live_value_table[Raddr1[(i1+1)*BITSIZE_Raddr-1:i1*BITSIZE_Raddr]];
          read_selector[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector] &lt;= read_selector_registered[(i1+1)*BITSIZE_read_selector-1:i1*BITSIZE_read_selector];
        end
      end
    end
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_NRNW_BRAM_BYTE</name>
      <circuit>
        <component_o id="STD_NRNW_BRAM_BYTE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_NRNW_BRAM_BYTE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="byte_offset">0</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="we_a" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_value" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_NRNW_BRAM_BYTE we_a Raddr Waddr din_value dout_value MEMORY_INIT_file n_mem_elements byte_offset BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_NR_BRAM_BYTE,STD_N21_BYTEMUX,STD_LIVE_VALUE_TABLE" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_write = PORTSIZE_Waddr == 1 ? 1 : $clog2(PORTSIZE_Waddr);
`else
  parameter nbit_write = PORTSIZE_Waddr == 1 ? 1 : log2(PORTSIZE_Waddr);
`endif
wire [PORTSIZE_Raddr*PORTSIZE_Waddr*BITSIZE_dout_value-1:0] dout_a;
wire [PORTSIZE_Raddr*PORTSIZE_Waddr*BITSIZE_dout_value-1:0]dout_a_swapped;
wire [PORTSIZE_Raddr*nbit_write-1:0] read_selector;
generate
genvar i1,i2;
  for (i1=0; i1&lt;PORTSIZE_Waddr; i1=i1+1)
  begin : L1
    STD_NR_BRAM_BYTE #(.PORTSIZE_Raddr(PORTSIZE_Raddr), .BITSIZE_Raddr(BITSIZE_Raddr), .BITSIZE_Waddr(BITSIZE_Waddr), .BITSIZE_dout_a(BITSIZE_dout_value), .PORTSIZE_dout_a(PORTSIZE_Raddr), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .byte_offset(byte_offset), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_NR_BRAM_BYTE_instance (.clock(clock), .we_a(we_a[i1]), .Raddr(Raddr), .Waddr(Waddr[(i1+1)*BITSIZE_Waddr-1:i1*BITSIZE_Waddr]), .din_value(din_value[(i1+1)*BITSIZE_din_value-1:i1*BITSIZE_din_value]), .dout_a(dout_a[(i1+1)*PORTSIZE_Raddr*BITSIZE_dout_value-1:i1*PORTSIZE_Raddr*BITSIZE_dout_value]));
  end
  for (i1=0; i1&lt;PORTSIZE_Raddr; i1=i1+1)
  begin : L2
    STD_N21_BYTEMUX#(.BITSIZE_ctrl(nbit_write), .BITSIZE_din(BITSIZE_dout_value), .BITSIZE_dout(BITSIZE_dout_value), .PORTSIZE_din(PORTSIZE_Waddr)) STD_N21_BYTEMUX_instance (.ctrl(read_selector[(i1+1)*nbit_write-1:i1*nbit_write]), .din(dout_a_swapped[(i1+1)*PORTSIZE_Waddr*BITSIZE_dout_value-1:i1*PORTSIZE_Waddr*BITSIZE_dout_value]), .dout(dout_value[(i1+1)*BITSIZE_dout_value-1:i1*BITSIZE_dout_value]));
  end
  for (i1=0; i1&lt;PORTSIZE_Raddr; i1=i1+1)
  begin : swapping_i1
  for (i2=0; i2&lt;PORTSIZE_Waddr; i2=i2+1)
    begin : swapping_i2
      assign dout_a_swapped[(i2+1)*BITSIZE_dout_value+i1*PORTSIZE_Waddr*BITSIZE_dout_value-1:i2*BITSIZE_dout_value+i1*PORTSIZE_Waddr*BITSIZE_dout_value] = dout_a[(i1+1)*BITSIZE_dout_value+i2*PORTSIZE_Raddr*BITSIZE_dout_value-1:i1*BITSIZE_dout_value+i2*PORTSIZE_Raddr*BITSIZE_dout_value];
    end
  end
endgenerate

STD_LIVE_VALUE_TABLE #(.BITSIZE_we_a(BITSIZE_we_a), .PORTSIZE_we_a(PORTSIZE_we_a), .BITSIZE_Waddr(BITSIZE_Waddr), .PORTSIZE_Waddr(PORTSIZE_Waddr), .BITSIZE_Raddr(BITSIZE_Raddr), .PORTSIZE_Raddr(PORTSIZE_Raddr), .BITSIZE_read_selector(nbit_write), .PORTSIZE_read_selector(PORTSIZE_Raddr), .n_mem_elements(n_mem_elements), .HIGH_LATENCY(HIGH_LATENCY)) STD_LIVE_VALUE_TABLE_instance (.clock(clock), .we_a(we_a), .Waddr(Waddr), .Raddr(Raddr), .read_selector(read_selector));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_SP_BRAM</name>
      <circuit>
        <component_o id="STD_SP_BRAM">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_SP_BRAM"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_value" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_SP_BRAM we_a Raddr Waddr din_value dout_value MEMORY_INIT_file n_mem_elements BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_SP_BRAM_BYTE" VERILOG_PROVIDED="parameter nbytes_per_word = BRAM_BITSIZE / 8;
generate
genvar i1;
  for (i1=0; i1&lt;nbytes_per_word; i1=i1+1)
  begin
    STD_SP_BRAM_BYTE #(.BITSIZE_Raddr(BITSIZE_Raddr), .BITSIZE_Waddr(BITSIZE_Waddr), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .byte_offset(i1), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_SP_BRAM_BYTE_instance (.clock(clock), .we_a(we_a[i1]), .Raddr(Raddr), .Waddr(Waddr), .din_value(din_value[(i1+1)*8-1:i1*8]), .dout_a(dout_value[(i1+1)*8-1:i1*8]));
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_NR_BRAM</name>
      <circuit>
        <component_o id="STD_NR_BRAM">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_NR_BRAM"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="Raddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="Waddr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="dout_value" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_NR_BRAM Raddr Waddr we_a din_value dout_value MEMORY_INIT_file n_mem_elements BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_SP_BRAM" VERILOG_PROVIDED="generate
genvar i1;
  for (i1=0; i1&lt;PORTSIZE_Raddr; i1=i1+1)
  begin : L1
    STD_SP_BRAM #(.BITSIZE_we_a(BITSIZE_we_a), .BITSIZE_din_value(BITSIZE_din_value), .BITSIZE_dout_value(BITSIZE_dout_value), .BITSIZE_Raddr(BITSIZE_Raddr), .BITSIZE_Waddr(BITSIZE_Waddr), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_SP_BRAM_instance (.clock(clock), .we_a(we_a), .Raddr(Raddr[(i1+1)*BITSIZE_Raddr-1:i1*BITSIZE_Raddr]), .Waddr(Waddr), .din_value(din_value), .dout_value(dout_value[(i1+1)*BITSIZE_dout_value-1:i1*BITSIZE_dout_value]));
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_NRNW_BRAM</name>
      <circuit>
        <component_o id="STD_NRNW_BRAM">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_NRNW_BRAM"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="we_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Addr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_value" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_NRNW_BRAM we_a Addr din_value dout_value MEMORY_INIT_file n_mem_elements BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_NR_BRAM,STD_N21_BYTEMUX,STD_LIVE_VALUE_TABLE" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_write = PORTSIZE_Addr == 1 ? 1 : $clog2(PORTSIZE_Addr);
`else
  parameter nbit_write = PORTSIZE_Addr == 1 ? 1 : log2(PORTSIZE_Addr);
`endif
wire [PORTSIZE_Addr*PORTSIZE_Addr*BITSIZE_dout_value-1:0] dout_a;
wire [PORTSIZE_Addr-1:0] we_a_merged;
wire [PORTSIZE_Addr*PORTSIZE_Addr*BITSIZE_dout_value-1:0]dout_a_swapped;
wire [PORTSIZE_Addr*nbit_write-1:0] read_selector;
generate
genvar i1,i2;
  for (i1=0; i1&lt;PORTSIZE_Addr; i1=i1+1)
  begin : L1
    STD_NR_BRAM #(.BITSIZE_we_a(BITSIZE_we_a), .PORTSIZE_Raddr(PORTSIZE_Addr), .BITSIZE_Raddr(BITSIZE_Addr), .BITSIZE_Waddr(BITSIZE_Addr), .BITSIZE_din_value(BITSIZE_din_value), .BITSIZE_dout_value(BITSIZE_dout_value), .PORTSIZE_dout_value(PORTSIZE_Addr), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_NR_BRAM_instance (.clock(clock), .we_a(we_a[(i1+1)*BITSIZE_we_a-1:i1*BITSIZE_we_a]), .Raddr(Addr), .Waddr(Addr[(i1+1)*BITSIZE_Addr-1:i1*BITSIZE_Addr]), .din_value(din_value[(i1+1)*BITSIZE_din_value-1:i1*BITSIZE_din_value]), .dout_value(dout_a[(i1+1)*PORTSIZE_Addr*BITSIZE_dout_value-1:i1*PORTSIZE_Addr*BITSIZE_dout_value]));
  end
  for (i1=0; i1&lt;PORTSIZE_Addr; i1=i1+1)
  begin : L2
    STD_N21_BYTEMUX#(.BITSIZE_ctrl(nbit_write), .BITSIZE_din(BITSIZE_dout_value), .BITSIZE_dout(BITSIZE_dout_value), .PORTSIZE_din(PORTSIZE_Addr)) STD_N21_BYTEMUX_instance (.ctrl(read_selector[(i1+1)*nbit_write-1:i1*nbit_write]), .din(dout_a_swapped[(i1+1)*PORTSIZE_Addr*BITSIZE_dout_value-1:i1*PORTSIZE_Addr*BITSIZE_dout_value]), .dout(dout_value[(i1+1)*BITSIZE_dout_value-1:i1*BITSIZE_dout_value]));
  end
  for (i1=0; i1&lt;PORTSIZE_Addr; i1=i1+1)
  begin : swapping_i1
  for (i2=0; i2&lt;PORTSIZE_Addr; i2=i2+1)
    begin : swapping_i2
      assign dout_a_swapped[(i2+1)*BITSIZE_dout_value+i1*PORTSIZE_Addr*BITSIZE_dout_value-1:i2*BITSIZE_dout_value+i1*PORTSIZE_Addr*BITSIZE_dout_value] = dout_a[(i1+1)*BITSIZE_dout_value+i2*PORTSIZE_Addr*BITSIZE_dout_value-1:i1*BITSIZE_dout_value+i2*PORTSIZE_Addr*BITSIZE_dout_value];
    end
  end
  for (i1=0; i1&lt;PORTSIZE_Addr; i1=i1+1)
  begin : L_merge
    assign we_a_merged[i1] = | we_a[(i1+1)*BITSIZE_we_a-1:i1*BITSIZE_we_a];
  end
endgenerate

STD_LIVE_VALUE_TABLE #(.BITSIZE_we_a(1), .PORTSIZE_we_a(PORTSIZE_we_a), .BITSIZE_Waddr(BITSIZE_Addr), .PORTSIZE_Waddr(PORTSIZE_Addr), .BITSIZE_Raddr(BITSIZE_Addr), .PORTSIZE_Raddr(PORTSIZE_Addr), .BITSIZE_read_selector(nbit_write), .PORTSIZE_read_selector(PORTSIZE_Addr), .n_mem_elements(n_mem_elements), .HIGH_LATENCY(HIGH_LATENCY)) STD_LIVE_VALUE_TABLE_instance (.clock(clock), .we_a(we_a_merged), .Waddr(Addr), .Raddr(Addr), .read_selector(read_selector));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_NRNW_BRAM_SB</name>
      <circuit>
        <component_o id="STD_NRNW_BRAM_SB">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_NRNW_BRAM_SB"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="byte_offset">0</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="we_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Addr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="din_value" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_value" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_NRNW_BRAM_SB we_a Addr din_value dout_value MEMORY_INIT_file n_mem_elements BRAM_BITSIZE HIGH_LATENCY" IP_COMPONENT="STD_NRNW_BRAM_BYTE" VERILOG_PROVIDED="parameter nbytes_per_word = BRAM_BITSIZE / 8;
wire [(PORTSIZE_din_value*BITSIZE_din_value)+(-1):0] din_value_swapped;
wire [(PORTSIZE_dout_value*BITSIZE_dout_value)+(-1):0] dout_value_swapped;
wire [(PORTSIZE_we_a*BITSIZE_we_a)+(-1):0] we_swapped;

generate
genvar i1,i2;
  for (i1=0; i1&lt;nbytes_per_word; i1=i1+1)
  begin
    STD_NRNW_BRAM_BYTE #(.BITSIZE_we_a(1), .PORTSIZE_we_a(PORTSIZE_we_a), .BITSIZE_Raddr(BITSIZE_Addr), .PORTSIZE_Raddr(PORTSIZE_Addr), .BITSIZE_Waddr(BITSIZE_Addr), .PORTSIZE_Waddr(PORTSIZE_Addr), .BITSIZE_din_value(8), .PORTSIZE_din_value(PORTSIZE_din_value), .BITSIZE_dout_value(8), .PORTSIZE_dout_value(PORTSIZE_dout_value), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .byte_offset(i1), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_NRNW_BRAM_BYTE_instance (.clock(clock), .we_a(we_swapped[(i1+1)*PORTSIZE_we_a-1:i1*PORTSIZE_we_a]), .Raddr(Addr), .Waddr(Addr), .din_value(din_value_swapped[(i1+1)*PORTSIZE_din_value*8-1:i1*PORTSIZE_din_value*8]), .dout_value(dout_value_swapped[(i1+1)*PORTSIZE_dout_value*8-1:i1*PORTSIZE_dout_value*8]));
  end
  for (i1=0; i1&lt;PORTSIZE_we_a; i1=i1+1)
  begin : swapping_i1_we
  for (i2=0; i2&lt;nbytes_per_word; i2=i2+1)
    begin : swapping_i2_we
      assign we_swapped[i2*PORTSIZE_we_a+i1] = we_a[i1*nbytes_per_word+i2];
    end
  end
  for (i1=0; i1&lt;PORTSIZE_din_value; i1=i1+1)
  begin : swapping_i1_in
  for (i2=0; i2&lt;nbytes_per_word; i2=i2+1)
    begin : swapping_i2_in
      assign din_value_swapped[i2*PORTSIZE_din_value*8+i1*8+7:i2*PORTSIZE_din_value*8+i1*8] = din_value[i1*nbytes_per_word*8+i2*8+7:i1*nbytes_per_word*8+i2*8];
    end
  end
  for (i1=0; i1&lt;PORTSIZE_dout_value; i1=i1+1)
  begin : swapping_i1_out
  for (i2=0; i2&lt;nbytes_per_word; i2=i2+1)
    begin : swapping_i2_out
      assign dout_value[i1*nbytes_per_word*8+i2*8+7:i1*nbytes_per_word*8+i2*8] = dout_value_swapped[i2*PORTSIZE_dout_value*8+i1*8+7:i2*PORTSIZE_dout_value*8+i1*8];
    end
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>TRUE_DUAL_PORT</name>
      <circuit>
        <component_o id="TRUE_DUAL_PORT">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2013-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="TRUE_DUAL_PORT"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="n_mem_elements">32</parameter>
          <parameter name="byte_offset">0</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_a" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="we_b" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Addr_a" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Addr_b" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="din_value_b" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_value_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_value_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="TRUE_DUAL_PORT Addr_a Addr_b MEMORY_INIT_file n_mem_elements byte_offset BRAM_BITSIZE HIGH_LATENCY" 
VERILOG_PROVIDED="
reg [7:0] dout_value_a1 1INIT_ZERO_VALUE;
reg [7:0] dout_value_b1 1INIT_ZERO_VALUE;
reg [7:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [7:0] dout_b_registered 1INIT_ZERO_VALUE;
reg [7:0] din_value_a1 1INIT_ZERO_VALUE;
reg [7:0] din_value_b1 1INIT_ZERO_VALUE;
reg we_a1 1INIT_ZERO_VALUE;
reg we_b1 1INIT_ZERO_VALUE;
reg [BITSIZE_Addr_a-1:0] Addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_Addr_b-1:0] Addr_b1 1INIT_ZERO_VALUE;

reg [BRAM_BITSIZE-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;



initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end
assign dout_value_a = dout_value_a1;
assign dout_value_b = dout_value_b1;
always @(posedge clock)
begin
  if(HIGH_LATENCY==0)
  begin
    if(we_a)
    begin
      memory[Addr_a][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_a;
    end
    dout_value_a1 &lt;= memory[Addr_a][(byte_offset+1)*8-1:byte_offset*8];
    if(we_b)
    begin
      memory[Addr_b][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_b;
    end
    dout_value_b1 &lt;= memory[Addr_b][(byte_offset+1)*8-1:byte_offset*8];
  end
  else if(HIGH_LATENCY==1)
  begin
    if(we_a)
    begin
      memory[Addr_a][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_a;
    end
    dout_a_registered &lt;= memory[Addr_a][(byte_offset+1)*8-1:byte_offset*8];
    dout_value_a1 &lt;= dout_a_registered;
    if(we_b)
    begin
      memory[Addr_b][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_b;
    end
    dout_b_registered &lt;= memory[Addr_b][(byte_offset+1)*8-1:byte_offset*8];
    dout_value_b1 &lt;= dout_b_registered;
  end
  else
  begin
    if(we_a1)
    begin
      memory[Addr_a1][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_a1;
    end
    dout_a_registered &lt;= memory[Addr_a1][(byte_offset+1)*8-1:byte_offset*8];
    dout_value_a1 &lt;= dout_a_registered;
    if(we_b1)
    begin
      memory[Addr_b1][(byte_offset+1)*8-1:byte_offset*8] &lt;= din_value_b1;
    end
    dout_b_registered &lt;= memory[Addr_b1][(byte_offset+1)*8-1:byte_offset*8];
    dout_value_b1 &lt;= dout_b_registered;
    Addr_a1 &lt;= Addr_a;
    Addr_b1 &lt;= Addr_b;
    we_a1 &lt;= we_a;
    we_b1 &lt;= we_b;
    din_value_a1 &lt;= din_value_a;
    din_value_b1 &lt;= din_value_b;
  end
end
"
VHDL_PROVIDED="
  signal dout_value_a1 : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal dout_value_b1 : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal dout_a_registered : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal dout_b_registered : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal din_value_a1 : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal din_value_b1 : std_logic_vector(7 downto 0) 1INIT_ZERO_VALUE;
  signal we_a1 : std_logic 1INIT_ZERO_VALUEb;
  signal we_b1 : std_logic 1INIT_ZERO_VALUEb;
  signal Addr_a1 : std_logic_vector(BITSIZE_Addr_a-1 downto 0) 1INIT_ZERO_VALUE;
  signal Addr_b1 : std_logic_vector(BITSIZE_Addr_b-1 downto 0) 1INIT_ZERO_VALUE;

  type mem_type is array(0 to n_mem_elements-1) of std_logic_vector(7 downto 0);
  impure function InitMemFromFile (MemFileName : in string) return mem_type is
    FILE memfile : text open READ_MODE is MemFileName;
    variable MemFileLine : line;
    variable mem : mem_type;
    variable mem_row: std_logic_vector((BRAM_BITSIZE - 1) downto 0);
    begin
       for i in 0 to n_mem_elements-1 loop
        readline(memfile, MemFileLine);
        read(MemFileLine, mem_row);
        mem(i) := mem_row((byte_offset+1)*8-1 downto byte_offset*8);
      end loop;
      return mem;
  end function;

  signal mem : mem_type := InitMemFromFile(MEMORY_INIT_file);
begin
  dout_value_a &lt;= dout_value_a1;
  dout_value_b &lt;= dout_value_b1;
process (clock)
begin
  if (clock&apos;event and clock=&apos;1&apos;) then
    if(HIGH_LATENCY = 0) then
      if we_a = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_a))) &lt;= din_value_a;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_a)) &gt;= n_mem_elements) then
        dout_value_a1 &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_value_a1 &lt;= mem(to_integer(unsigned(Addr_a)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
      if we_b = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_b))) &lt;= din_value_b;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_b)) &gt;= n_mem_elements) then
        dout_value_b1 &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_value_b1 &lt;= mem(to_integer(unsigned(Addr_b)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
    elsif(HIGH_LATENCY = 1) then
      if we_a = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_a))) &lt;= din_value_a;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_a)) &gt;= n_mem_elements) then
        dout_a_registered &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_a_registered &lt;= mem(to_integer(unsigned(Addr_a)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
      dout_value_a1 &lt;= dout_a_registered;
      if we_b = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_b))) &lt;= din_value_b;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_b)) &gt;= n_mem_elements) then
        dout_b_registered &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_b_registered &lt;= mem(to_integer(unsigned(Addr_b)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
      dout_value_b1 &lt;= dout_b_registered;
    else
      if we_a1 = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_a1)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_a1))) &lt;= din_value_a1;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_a1)) &gt;= n_mem_elements) then
        dout_a_registered &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_a_registered &lt;= mem(to_integer(unsigned(Addr_a1)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
      dout_value_a1 &lt;= dout_a_registered;
      if we_b1 = &apos;1&apos; then
-- synthesis translate_off
        if (to_integer(unsigned(Addr_b1)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(Addr_b1))) &lt;= din_value_b1;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
-- synthesis translate_off
      if (to_integer(unsigned(Addr_b1)) &gt;= n_mem_elements) then
        dout_b_registered &lt;= (others =&gt; &apos;X&apos;);
      else
-- synthesis translate_on
        dout_b_registered &lt;= mem(to_integer(unsigned(Addr_b1)));
-- synthesis translate_off
      end if;
-- synthesis translate_on
      dout_value_b1 &lt;= dout_b_registered;
      Addr_a1 &lt;= Addr_a;
      Addr_b1 &lt;= Addr_b;
      we_a1 &lt;= we_a;
      we_b1 &lt;= we_b;
      din_value_a1 &lt;= din_value_a;
      din_value_b1 &lt;= din_value_b;
    end if;
  end if;
end process;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>TRUE_DUAL_PORT_BYTE_ENABLING_RAM_NBE</name>
      <circuit>
        <component_o id="TRUE_DUAL_PORT_BYTE_ENABLING_RAM_NBE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <specialized>NanoXplore</specialized>
          <structural_type_descriptor id_type="TRUE_DUAL_PORT_BYTE_ENABLING_RAM_NBE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write0" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="bram_write1" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="TRUE_DUAL_PORT_BYTE_ENABLING_RAM_NBE dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE n_byte_on_databus n_mem_elements HIGH_LATENCY" IP_COMPONENT="TRUE_DUAL_PORT" VERILOG_PROVIDED="
wire [n_byte_on_databus-1:0] we_a;
wire [n_byte_on_databus-1:0] we_b;

generate
genvar i1;
  for (i1=0; i1&lt;n_byte_on_databus; i1=i1+1)
  begin
    TRUE_DUAL_PORT #(.BITSIZE_Addr_a(BITSIZE_memory_addr_a), .BITSIZE_Addr_b(BITSIZE_memory_addr_b), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .byte_offset(i1), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) TRUE_DUAL_PORT_instance (.clock(clock), .we_a(we_a[i1]), .we_b(we_b[i1]), .Addr_a(memory_addr_a), .Addr_b(memory_addr_b), .din_value_a(din_value_aggregated[(i1+1)*8-1:i1*8]), .din_value_b(din_value_aggregated[(n_byte_on_databus+i1+1)*8-1:(n_byte_on_databus+i1)*8]), .dout_value_a(dout_a[(i1+1)*8-1:i1*8]), .dout_value_b(dout_b[(i1+1)*8-1:i1*8]));
  end
endgenerate

generate
genvar i2_a;
  for (i2_a=0; i2_a&lt;n_byte_on_databus; i2_a=i2_a+1)
  begin  : write_enable_a
    assign we_a[i2_a] = (bram_write0) &amp;&amp; be[i2_a];
  end
endgenerate

generate
genvar i2_b;
  for (i2_b=0; i2_b&lt;n_byte_on_databus; i2_b=i2_b+1)
  begin  : write_enable_b
    assign we_b[i2_b] = (bram_write1) &amp;&amp; be[i2_b+n_byte_on_databus];
  end
endgenerate"
VHDL_PROVIDED=
"signal we_a : std_logic_vector(n_byte_on_databus-1 downto 0);
signal we_b : std_logic_vector(n_byte_on_databus-1 downto 0);
signal dout_a_signal : std_logic_vector(BITSIZE_dout_a-1 downto 0) ;
signal dout_b_signal : std_logic_vector(BITSIZE_dout_b-1 downto 0) ;
begin
  N_TRUE_DUAL_PORT_GEN: 
    for i1 in 0 to n_byte_on_databus-1 generate
      TRUE_DUAL_PORT_instance : TRUE_DUAL_PORT generic map (BITSIZE_Addr_a=&gt;BITSIZE_memory_addr_a, BITSIZE_Addr_b=&gt;BITSIZE_memory_addr_b, MEMORY_INIT_file=&gt;MEMORY_INIT_file, n_mem_elements=&gt;n_mem_elements, byte_offset=&gt;i1, BRAM_BITSIZE=&gt;BRAM_BITSIZE, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, we_a=&gt;(we_a(i1)), we_b=&gt;(we_b(i1)), Addr_a=&gt;(memory_addr_a), Addr_b=&gt;(memory_addr_b), din_value_a=&gt;(din_value_aggregated((i1+1)*8-1 downto i1*8)), din_value_b=&gt;(din_value_aggregated((n_byte_on_databus+i1+1)*8-1 downto (n_byte_on_databus+i1)*8)), dout_value_a=&gt;(dout_a_signal((i1+1)*8-1 downto i1*8)), dout_value_b=&gt;(dout_b_signal((i1+1)*8-1 downto i1*8)));
    end generate N_TRUE_DUAL_PORT_GEN;
  dout_a &lt;= dout_a_signal;
  dout_b &lt;= dout_b_signal;

  L_write_enable_a : process(bram_write0, be)
  begin
    for i2_a in 0 to n_byte_on_databus-1 loop
      we_a(i2_a) &lt;= bram_write0 and be(i2_a);
    end loop;
  end process;

  L_write_enable_b : process(bram_write1, be)
  begin
    for i2_b in 0 to n_byte_on_databus-1 loop
      we_b(i2_b) &lt;= bram_write1 and be(i2_b+n_byte_on_databus);
    end loop;
  end process;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NOBYTE_ENABLE dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY" IP_COMPONENT="STD_NRNW_BRAM_SB" VERILOG_PROVIDED="wire [n_byte_on_databus-1:0] we_a;
wire [n_byte_on_databus-1:0] we_b;


STD_NRNW_BRAM_SB #(.BITSIZE_we_a(n_byte_on_databus), .PORTSIZE_we_a(2), .BITSIZE_Addr(BITSIZE_memory_addr_a), .PORTSIZE_Addr(2), .BITSIZE_din_value(BRAM_BITSIZE), .PORTSIZE_din_value(2), .BITSIZE_dout_value(BITSIZE_dout_a), .PORTSIZE_dout_value(2), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_NRNW_BRAM_instance (.clock(clock), .we_a({we_b,we_a}), .Addr({memory_addr_b,memory_addr_a}), .din_value(din_value_aggregated), .dout_value({dout_b,dout_a}));

generate
genvar i2_a;
  for (i2_a=0; i2_a&lt;n_byte_on_databus; i2_a=i2_a+1)
  begin  : write_enable_a
    assign we_a[i2_a] = (bram_write) &amp;&amp; be[i2_a];
  end
endgenerate

generate
genvar i2_b;
  for (i2_b=0; i2_b&lt;n_byte_on_databus; i2_b=i2_b+1)
  begin  : write_enable_b
    assign we_b[i2_b] = (bram_write) &amp;&amp; be[i2_b+n_byte_on_databus];
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_PMI</name>
      <circuit>
        <component_o id="BRAM_MEMORY_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_PMI"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_PMI dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY" VERILOG_PROVIDED="
reg bram_write1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_a-1:0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_b-1:0] memory_addr_b1 1INIT_ZERO_VALUE;
reg [BITSIZE_be-1:0] be1 1INIT_ZERO_VALUE;
reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated1 1INIT_ZERO_VALUE;

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       memory_addr_b1 &lt;= memory_addr_b;
       bram_write1 &lt;= bram_write;
       be1 &lt;= be;
       din_value_aggregated1 &lt;= din_value_aggregated;
    end
  end
endgenerate

generate
if(BRAM_BITSIZE == 8)
begin
  reg [(n_byte_on_databus)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
  assign dout_a = dout_a_tmp;
  assign dout_b = dout_b_tmp;
  initial
  begin
    $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
  end


  if(n_mem_elements == 1)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[0])
          memory[memory_addr_a] &lt;= din_value_aggregated[BRAM_BITSIZE-1:0];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[0])
          memory[memory_addr_a1] &lt;= din_value_aggregated1[BRAM_BITSIZE-1:0];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[1])
          memory[memory_addr_b] &lt;= din_value_aggregated[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[1])
          memory[memory_addr_b1] &lt;= din_value_aggregated1[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[0])
          memory[memory_addr_a] &lt;= din_value_aggregated[BRAM_BITSIZE-1:0];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[0])
          memory[memory_addr_a1] &lt;= din_value_aggregated1[BRAM_BITSIZE-1:0];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; be[1])
          memory[memory_addr_b] &lt;= din_value_aggregated[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      else
      begin
        if (bram_write1 &amp;&amp; be1[1])
          memory[memory_addr_b1] &lt;= din_value_aggregated1[2*BRAM_BITSIZE-1:BRAM_BITSIZE];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
end
else
begin
  if(n_mem_elements == 1)
  begin
    reg [(n_byte_on_databus)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
    assign dout_a = dout_a_tmp;
    assign dout_b = dout_b_tmp;
    initial
    begin
      $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write)
        begin : L11_write
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
          begin
            if(be[i11])
              memory[memory_addr_a][i11*8+:8] &lt;= din_value_aggregated[i11*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1)
        begin : L11_write1
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
          begin
            if(be1[i11])
              memory[memory_addr_a1][i11*8+:8] &lt;= din_value_aggregated1[i11*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write &amp;&amp; n_bytes &gt; BRAM_BITSIZE/8)
        begin : L22_write
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
          begin
            if(be[i22+n_byte_on_databus])
              memory[memory_addr_b][i22*8+:8] &lt;= din_value_aggregated[(i22+n_byte_on_databus)*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1 &amp;&amp; n_bytes &gt; BRAM_BITSIZE/8)
        begin : L22_write1
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
          begin
            if(be1[i22+n_byte_on_databus])
              memory[memory_addr_b1][i22*8+:8] &lt;= din_value_aggregated1[(i22+n_byte_on_databus)*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_b];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_b];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_b1];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
    begin
      pmi_ram_dp_true_be #(.pmi_addr_depth_a(n_mem_elements),
        .pmi_addr_width_a(BITSIZE_memory_addr_a),
        .pmi_data_width_a((n_byte_on_databus)*8),
        .pmi_addr_depth_b(n_mem_elements),
        .pmi_addr_width_b(BITSIZE_memory_addr_a),
        .pmi_data_width_b((n_byte_on_databus)*8),
        .pmi_regmode_a(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_regmode_b(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_gsr(&quot;disable&quot;),
        .pmi_resetmode(&quot;sync&quot;),
        .pmi_optimization(&quot;speed&quot;),
        .pmi_init_file(MEMORY_INIT_file),
        .pmi_init_file_format(&quot;binary&quot;),
        .pmi_write_mode_a(&quot;normal&quot;),
        .pmi_write_mode_b(&quot;normal&quot;),
        .pmi_byte_size(8),
        .pmi_family(&quot;ECP3&quot;),
        .module_type(&quot;pmi_ram_dp_true_be&quot;)) pmi_ram_dp_true_be_instance
       (.DataInA(din_value_aggregated[BRAM_BITSIZE-1:0]),
        .DataInB(din_value_aggregated[2*BRAM_BITSIZE-1:BRAM_BITSIZE]),
        .AddressA(memory_addr_a),
        .AddressB(memory_addr_b),
        .ClockA(clock),
        .ClockB(clock),
        .ClockEnA(1&apos;b1),
        .ClockEnB(1&apos;b1),
        .WrA(bram_write),
        .WrB(bram_write),
        .ResetA(1&apos;b0),
        .ResetB(1&apos;b0),
        .ByteEnA(be[n_byte_on_databus-1:0]),
        .ByteEnB(be[2*n_byte_on_databus-1:n_byte_on_databus]),
        .QA(dout_a),
        .QB(dout_b)) /*synthesis syn_black_box*/;
    end
    else
    begin
      pmi_ram_dp_true_be #(.pmi_addr_depth_a(n_mem_elements),
        .pmi_addr_width_a(BITSIZE_memory_addr_a),
        .pmi_data_width_a((n_byte_on_databus)*8),
        .pmi_addr_depth_b(n_mem_elements),
        .pmi_addr_width_b(BITSIZE_memory_addr_a),
        .pmi_data_width_b((n_byte_on_databus)*8),
        .pmi_regmode_a(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_regmode_b(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_gsr(&quot;disable&quot;),
        .pmi_resetmode(&quot;sync&quot;),
        .pmi_optimization(&quot;speed&quot;),
        .pmi_init_file(MEMORY_INIT_file),
        .pmi_init_file_format(&quot;binary&quot;),
        .pmi_write_mode_a(&quot;normal&quot;),
        .pmi_write_mode_b(&quot;normal&quot;),
        .pmi_byte_size(8),
        .pmi_family(&quot;ECP3&quot;),
        .module_type(&quot;pmi_ram_dp_true_be&quot;)) pmi_ram_dp_true_be_instance
       (.DataInA(din_value_aggregated1[BRAM_BITSIZE-1:0]),
        .DataInB(din_value_aggregated1[2*BRAM_BITSIZE-1:BRAM_BITSIZE]),
        .AddressA(memory_addr_a1),
        .AddressB(memory_addr_b1),
        .ClockA(clock),
        .ClockB(clock),
        .ClockEnA(1&apos;b1),
        .ClockEnB(1&apos;b1),
        .WrA(bram_write1),
        .WrB(bram_write1),
        .ResetA(1&apos;b0),
        .ResetB(1&apos;b0),
        .ByteEnA(be1[n_byte_on_databus-1:0]),
        .ByteEnB(be1[2*n_byte_on_databus-1:n_byte_on_databus]),
        .QA(dout_a),
        .QB(dout_b)) /*synthesis syn_black_box*/;
    end
  end
end
endgenerate
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_CORE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_CORE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_CORE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_CORE dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY" IP_COMPONENT="BRAM_MEMORY_CORE_SMALL,TRUE_DUAL_PORT_BYTE_ENABLING_RAM"  
VERILOG_PROVIDED="
generate
if(n_mem_elements == 1)
begin
  BRAM_MEMORY_CORE_SMALL #(.BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .BITSIZE_memory_addr_b(BITSIZE_memory_addr_b), .BITSIZE_din_value_aggregated(BITSIZE_din_value_aggregated), .BITSIZE_be(BITSIZE_be), .BITSIZE_dout_a(BITSIZE_dout_a), .BITSIZE_dout_b(BITSIZE_dout_b), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance_small (.clock(clock), .bram_write0(bram_write), .bram_write1(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));
end
else
begin
  TRUE_DUAL_PORT_BYTE_ENABLING_RAM #(.BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .BITSIZE_memory_addr_b(BITSIZE_memory_addr_b), .BITSIZE_din_value_aggregated(BITSIZE_din_value_aggregated), .BITSIZE_be(BITSIZE_be), .BITSIZE_dout_a(BITSIZE_dout_a), .BITSIZE_dout_b(BITSIZE_dout_b), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .HIGH_LATENCY(HIGH_LATENCY)) TRUE_DUAL_PORT_BYTE_ENABLING_RAM_instance (.clock(clock), .bram_write0(bram_write), .bram_write1(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));
end
endgenerate
"
VHDL_PROVIDED=
"begin
BRAM_MEMORY_CORE_SMALL_case : if (n_mem_elements = 1) generate
  BRAM_MEMORY_CORE_SMALL_instance : BRAM_MEMORY_CORE_SMALL generic map (BITSIZE_memory_addr_a=&gt;BITSIZE_memory_addr_a, BITSIZE_memory_addr_b=&gt;BITSIZE_memory_addr_b, BITSIZE_din_value_aggregated=&gt;BITSIZE_din_value_aggregated, BITSIZE_be=&gt;BITSIZE_be, BITSIZE_dout_a=&gt;BITSIZE_dout_a, BITSIZE_dout_b=&gt;BITSIZE_dout_b, MEMORY_INIT_file=&gt;MEMORY_INIT_file, BRAM_BITSIZE=&gt;BRAM_BITSIZE, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, n_bytes=&gt;n_bytes, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, bram_write0=&gt;bram_write, bram_write1=&gt;bram_write, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated=&gt;din_value_aggregated, be=&gt;be, dout_a=&gt;dout_a, dout_b=&gt;dout_b);
end generate;
TRUE_DUAL_PORT_BYTE_ENABLING_RAM_else : if(n_mem_elements /= 1) generate
  TRUE_DUAL_PORT_BYTE_ENABLING_RAM_instance : TRUE_DUAL_PORT_BYTE_ENABLING_RAM generic map (BITSIZE_memory_addr_a=&gt;BITSIZE_memory_addr_a, BITSIZE_memory_addr_b=&gt;BITSIZE_memory_addr_b, BITSIZE_din_value_aggregated=&gt;BITSIZE_din_value_aggregated, BITSIZE_be=&gt;BITSIZE_be, BITSIZE_dout_a=&gt;BITSIZE_dout_a, BITSIZE_dout_b=&gt;BITSIZE_dout_b, MEMORY_INIT_file=&gt;MEMORY_INIT_file, BRAM_BITSIZE=&gt;BRAM_BITSIZE, n_byte_on_databus=&gt;n_byte_on_databus, n_mem_elements=&gt;n_mem_elements, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, bram_write0=&gt;bram_write, bram_write1=&gt;bram_write, memory_addr_a=&gt;memory_addr_a, memory_addr_b=&gt;memory_addr_b, din_value_aggregated=&gt;din_value_aggregated, be=&gt;be, dout_a=&gt;dout_a, dout_b=&gt;dout_b);
end generate;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_CORE_SMALL</name>
      <circuit>
        <component_o id="BRAM_MEMORY_CORE_SMALL">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_CORE_SMALL"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="n_bytes">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write0" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="bram_write1" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_CORE_SMALL dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE n_byte_on_databus n_mem_elements n_bytes HIGH_LATENCY"  VERILOG_PROVIDED="
reg bram_write01 1INIT_ZERO_VALUE;
reg bram_write11 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_a-1:0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_b-1:0] memory_addr_b1 1INIT_ZERO_VALUE;
reg [BITSIZE_be-1:0] be1 1INIT_ZERO_VALUE;
reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated1 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
reg [(n_byte_on_databus)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       memory_addr_b1 &lt;= memory_addr_b;
       bram_write01 &lt;= bram_write0;
       bram_write11 &lt;= bram_write1;
       be1 &lt;= be;
       din_value_aggregated1 &lt;= din_value_aggregated;
    end
  end
endgenerate

assign dout_a = dout_a_tmp;
assign dout_b = dout_b_tmp;
initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

always @(posedge clock)
begin
  if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
  begin
    if (bram_write0)
    begin : L11_write
      integer i11;
      for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
      begin
        if(be[i11])
          memory[memory_addr_a][i11*8+:8] &lt;= din_value_aggregated[i11*8+:8];
      end
    end
  end
  else
  begin
    if (bram_write01)
    begin : L11_write1
      integer i11;
      for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
      begin
        if(be1[i11])
          memory[memory_addr_a1][i11*8+:8] &lt;= din_value_aggregated1[i11*8+:8];
      end
    end
  end
  if(HIGH_LATENCY == 0)
    dout_a_tmp &lt;= memory[memory_addr_a];
  else if(HIGH_LATENCY == 1)
  begin
    dout_a_registered &lt;= memory[memory_addr_a];
    dout_a_tmp &lt;= dout_a_registered;
  end
  else
  begin
    dout_a_registered &lt;= memory[memory_addr_a1];
    dout_a_tmp &lt;= dout_a_registered;
  end
  if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
  begin
    if (bram_write1)
    begin : L22_write
      integer i22;
      for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
      begin
        if(be[i22+n_byte_on_databus])
          memory[memory_addr_b][i22*8+:8] &lt;= din_value_aggregated[(i22+n_byte_on_databus)*8+:8];
      end
    end
  end
  else
  begin
    if (bram_write11)
    begin : L22_write1
      integer i22;
      for (i22=0; i22&lt;n_byte_on_databus; i22=i22+1)
      begin
        if(be1[i22+n_byte_on_databus])
          memory[memory_addr_b1][i22*8+:8] &lt;= din_value_aggregated1[(i22+n_byte_on_databus)*8+:8];
      end
    end
  end
  if(HIGH_LATENCY == 0)
    dout_b_tmp &lt;= memory[memory_addr_b];
  else if(HIGH_LATENCY == 1)
  begin
    dout_b_registered &lt;= memory[memory_addr_b];
    dout_b_tmp &lt;= dout_b_registered;
  end
  else
  begin
    dout_b_registered &lt;= memory[memory_addr_b1];
    dout_b_tmp &lt;= dout_b_registered;
  end
end
"
VHDL_PROVIDED=
"  signal bram_write01 : std_logic 1INIT_ZERO_VALUEb;
  signal bram_write11 : std_logic 1INIT_ZERO_VALUEb;
  signal memory_addr_a1 : std_logic_vector(BITSIZE_memory_addr_a-1 downto 0) 1INIT_ZERO_VALUE;
  signal memory_addr_b1 : std_logic_vector(BITSIZE_memory_addr_b-1 downto 0) 1INIT_ZERO_VALUE;
  signal be1 : std_logic_vector(BITSIZE_be-1 downto 0)  1INIT_ZERO_VALUE;
  signal din_value_aggregated1 : std_logic_vector(BITSIZE_din_value_aggregated-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_a_tmp : std_logic_vector((n_byte_on_databus)*8-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_b_tmp : std_logic_vector((n_byte_on_databus)*8-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_a_registered : std_logic_vector((n_byte_on_databus)*8-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_b_registered : std_logic_vector((n_byte_on_databus)*8-1 downto 0) 1INIT_ZERO_VALUE;

  type mem_type is array (n_mem_elements-1 downto 0) of std_logic_vector((n_byte_on_databus)*8-1 downto 0);

  impure function InitMemFromFile (MemFileName : in string) return mem_type is
    FILE memfile  :  text open READ_MODE is MemFileName;
    variable MemFileLine  :  line;
    variable mem  :  mem_type;
    begin
      for i in 0 to n_mem_elements-1 loop
        readline(memfile, MemFileLine);
        read(MemFileLine, mem(i));
      end loop;
      return mem;
  end function;
  signal mem : mem_type := InitMemFromFile(MEMORY_INIT_file);
begin

  DelayProcess : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
       if(HIGH_LATENCY=2) then
         memory_addr_a1 &lt;= memory_addr_a;
         memory_addr_b1 &lt;= memory_addr_b;
         bram_write01 &lt;= bram_write0;
         bram_write11 &lt;= bram_write1;
         be1 &lt;= be;
         din_value_aggregated1 &lt;= din_value_aggregated;
       end if;
    end if;
  end process;
  dout_a &lt;= dout_a_tmp;
  dout_b &lt;= dout_b_tmp;

  L1_single_readwrite : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
      if(HIGH_LATENCY = 0 or HIGH_LATENCY = 1) then
        if(bram_write0 =&apos;1&apos;) then
          for index2 in 0 to n_byte_on_databus-1 loop
            if(be(index2)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
                  mem(to_integer(unsigned(memory_addr_a)))((index2+1)*8-1 downto index2*8) &lt;= din_value_aggregated((index2+1)*8-1 downto (index2)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
          end loop;
        end if;
      else
        if(bram_write01 =&apos;1&apos;) then
          for index2 in 0 to n_byte_on_databus-1 loop
            if(be1(index2)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_a1)) &lt; n_mem_elements) then
-- synthesis translate_on
                  mem(to_integer(unsigned(memory_addr_a1)))((index2+1)*8-1 downto index2*8) &lt;= din_value_aggregated1((index2+1)*8-1 downto (index2)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
          end loop;
        end if;
      end if;
      if(HIGH_LATENCY = 0) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_tmp  &lt;= mem(to_integer(unsigned(memory_addr_a)));
-- synthesis translate_off
         else
            dout_a_tmp  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
      elsif(HIGH_LATENCY = 1) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_registered  &lt;= mem(to_integer(unsigned(memory_addr_a)));
-- synthesis translate_off
         else
            dout_a_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         dout_a_tmp  &lt;= dout_a_registered;
      else
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a1)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_registered &lt;= mem(to_integer(unsigned(memory_addr_a1)));
-- synthesis translate_off
         else
            dout_a_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         dout_a_tmp &lt;= dout_a_registered;
      end if;

      if(HIGH_LATENCY = 0 or HIGH_LATENCY = 1) then
        if(bram_write1 =&apos;1&apos;) then
          for index2 in 0 to n_byte_on_databus-1 loop
            if(be(index2+n_byte_on_databus)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
                  mem(to_integer(unsigned(memory_addr_b)))((index2+1)*8-1 downto index2*8) &lt;= din_value_aggregated((index2+1+n_byte_on_databus)*8-1 downto (index2+n_byte_on_databus)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
          end loop;
        end if;
      else
        if(bram_write11 =&apos;1&apos;) then
          for index2 in 0 to n_byte_on_databus-1 loop
            if(be1(index2+n_byte_on_databus)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_b1)) &lt; n_mem_elements) then
-- synthesis translate_on
                  mem(to_integer(unsigned(memory_addr_b1)))((index2+1)*8-1 downto index2*8) &lt;= din_value_aggregated1((index2+1+n_byte_on_databus)*8-1 downto (index2+n_byte_on_databus)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
          end loop;
        end if;
      end if;
      if(HIGH_LATENCY = 0) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_b_tmp  &lt;= mem(to_integer(unsigned(memory_addr_b)));
-- synthesis translate_off
         else
            dout_b_tmp  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
      elsif(HIGH_LATENCY = 1) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_b_registered  &lt;= mem(to_integer(unsigned(memory_addr_b)));
-- synthesis translate_off
         else
            dout_b_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         dout_b_tmp  &lt;= dout_b_registered;
      else
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_b1)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_b_registered &lt;= mem(to_integer(unsigned(memory_addr_b1)));
-- synthesis translate_off
         else
            dout_b_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         dout_b_tmp &lt;= dout_b_registered;
      end if;
    end if;
  end process;
"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>TRUE_DUAL_PORT_BYTE_ENABLING_RAM</name>
      <circuit>
        <component_o id="TRUE_DUAL_PORT_BYTE_ENABLING_RAM">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="TRUE_DUAL_PORT_BYTE_ENABLING_RAM"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="bram_write0" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="bram_write1" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_o>
          <port_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="memory_addr_b" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="din_value_aggregated" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="be" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="dout_b" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="TRUE_DUAL_PORT_BYTE_ENABLING_RAM dout_a dout_b memory_addr_a memory_addr_b din_value_aggregated be MEMORY_INIT_file BRAM_BITSIZE n_byte_on_databus n_mem_elements HIGH_LATENCY" VERILOG_PROVIDED="
wire [n_byte_on_databus-1:0] we_a;
wire [n_byte_on_databus-1:0] we_b;
reg [n_byte_on_databus-1:0] we_a1 1INIT_ZERO_VALUE;
reg [n_byte_on_databus-1:0] we_b1 1INIT_ZERO_VALUE;
reg [BITSIZE_din_value_aggregated-1:0] din_value_aggregated1 1INIT_ZERO_VALUE;

reg [BITSIZE_dout_a-1:0] dout_a 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_a-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b 1INIT_ZERO_VALUE;
reg [BITSIZE_dout_b-1:0] dout_b_registered 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_a-1:0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [BITSIZE_memory_addr_b-1:0] memory_addr_b1 1INIT_ZERO_VALUE;
reg [BRAM_BITSIZE-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

always @(posedge clock)
begin
  if(HIGH_LATENCY==0)
  begin
    dout_a &lt;= memory[memory_addr_a];
  end
  else if(HIGH_LATENCY==1)
  begin
    dout_a_registered &lt;= memory[memory_addr_a];
    dout_a &lt;= dout_a_registered;
  end
  else
  begin
    memory_addr_a1 &lt;= memory_addr_a;
    we_a1 &lt;= we_a;
    din_value_aggregated1 &lt;= din_value_aggregated;
    dout_a_registered &lt;= memory[memory_addr_a1];
    dout_a &lt;= dout_a_registered;
  end
end

generate
genvar i11;
  for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
  begin : L11_write_a
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0||HIGH_LATENCY==1)
      begin
        if(we_a[i11])
          memory[memory_addr_a][(i11+1)*8-1:i11*8] &lt;= din_value_aggregated[(i11+1)*8-1:i11*8];
      end
      else
      begin
        if(we_a1[i11])
          memory[memory_addr_a1][(i11+1)*8-1:i11*8] &lt;= din_value_aggregated1[(i11+1)*8-1:i11*8];
      end
    end
  end
endgenerate

  always @(posedge clock)
  begin
    if(HIGH_LATENCY==0)
    begin
      dout_b &lt;= memory[memory_addr_b];
    end
    else if(HIGH_LATENCY==1)
    begin
      dout_b_registered &lt;= memory[memory_addr_b];
      dout_b &lt;= dout_b_registered;
    end
    else
    begin
      memory_addr_b1 &lt;= memory_addr_b;
      we_b1 &lt;= we_b;
      dout_b_registered &lt;= memory[memory_addr_b1];
      dout_b &lt;= dout_b_registered;
    end
  end
  for (i11=0; i11&lt;n_byte_on_databus; i11=i11+1)
  begin : L11_write_b
    always @(posedge clock)
    begin
      if(HIGH_LATENCY==0||HIGH_LATENCY==1)
      begin
        if(we_b[i11])
          memory[memory_addr_b][(i11+1)*8-1:i11*8] &lt;= din_value_aggregated[(i11+1+n_byte_on_databus)*8-1:(i11+n_byte_on_databus)*8];
      end
      else
      begin
        if(we_b1[i11])
          memory[memory_addr_b1][(i11+1)*8-1:i11*8] &lt;= din_value_aggregated1[(i11+1+n_byte_on_databus)*8-1:(i11+n_byte_on_databus)*8];
      end
    end
  end

generate
genvar i2_a;
  for (i2_a=0; i2_a&lt;n_byte_on_databus; i2_a=i2_a+1)
  begin  : write_enable_a
    assign we_a[i2_a] = (bram_write0) &amp;&amp; be[i2_a];
  end
endgenerate

generate
genvar i2_b;
  for (i2_b=0; i2_b&lt;n_byte_on_databus; i2_b=i2_b+1)
  begin  : write_enable_b
    assign we_b[i2_b] = (bram_write1) &amp;&amp; be[i2_b+n_byte_on_databus];
  end
endgenerate"
VHDL_PROVIDED=
"signal we_a : std_logic_vector(n_byte_on_databus-1 downto 0);
signal we_b : std_logic_vector(n_byte_on_databus-1 downto 0);
signal we_a1 : std_logic_vector(n_byte_on_databus-1 downto 0) 1INIT_ZERO_VALUE;
signal we_b1 : std_logic_vector(n_byte_on_databus-1 downto 0) 1INIT_ZERO_VALUE;
signal din_value_aggregated1 : std_logic_vector(BITSIZE_din_value_aggregated-1 downto 0) 1INIT_ZERO_VALUE;

signal dout_a_0 : std_logic_vector(BITSIZE_dout_a-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_a_registered : std_logic_vector(BITSIZE_dout_a-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_b_0 : std_logic_vector(BITSIZE_dout_a-1 downto 0) 1INIT_ZERO_VALUE;
signal dout_b_registered : std_logic_vector(BITSIZE_dout_a-1 downto 0) 1INIT_ZERO_VALUE;
signal memory_addr_a1 : std_logic_vector(BITSIZE_memory_addr_a-1 downto 0) 1INIT_ZERO_VALUE;
signal memory_addr_b1 : std_logic_vector(BITSIZE_memory_addr_b-1 downto 0) 1INIT_ZERO_VALUE;

type mem_type is array (n_mem_elements-1 downto 0) of std_logic_vector(BRAM_BITSIZE-1 downto 0);

impure function InitMemFromFile (MemFileName : in string) return mem_type is
  FILE memfile  :  text open READ_MODE is MemFileName;
  variable MemFileLine  :  line;
  variable mem  :  mem_type;
  begin
     for i in 0 to n_mem_elements-1 loop
      readline(memfile, MemFileLine);
      read(MemFileLine, mem(i));
    end loop;
    return mem;
end function;

shared variable memory : mem_type := InitMemFromFile(MEMORY_INIT_file);
begin

dout_a &lt;= dout_a_0;
dout_b &lt;= dout_b_0;

single_element : process(clock)
begin
   if(clock&apos;event and clock = &apos;1&apos;) then
      if(HIGH_LATENCY = 0) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_0  &lt;= memory(to_integer(unsigned(memory_addr_a)));
-- synthesis translate_off
         else
            dout_a_0  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
      elsif(HIGH_LATENCY = 1) then
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_registered  &lt;= memory(to_integer(unsigned(memory_addr_a)));
-- synthesis translate_off
         else
            dout_a_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         dout_a_0  &lt;= dout_a_registered;
      else
-- synthesis translate_off
         if (to_integer(unsigned(memory_addr_a1)) &lt; n_mem_elements) then
-- synthesis translate_on
            dout_a_registered &lt;= memory(to_integer(unsigned(memory_addr_a1)));
-- synthesis translate_off
         else
            dout_a_registered  &lt;= (others =&gt; &apos;X&apos;);
         end if;
-- synthesis translate_on
         memory_addr_a1 &lt;= memory_addr_a;
         we_a1 &lt;= we_a;
         din_value_aggregated1 &lt;= din_value_aggregated;
         dout_a_0 &lt;= dout_a_registered;
      end if;
   end if;
end process;

L1_single_write : process(clock)
begin
   if (clock&apos;event and clock=&apos;1&apos;) then
      for index1 in 0 to n_byte_on_databus-1 loop
         if(HIGH_LATENCY= 0 or HIGH_LATENCY = 1) then
            if(we_a(index1)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_a)) &lt; n_mem_elements) then
-- synthesis translate_on
                  memory(to_integer(unsigned(memory_addr_a)))((index1+1)*8-1 downto index1*8) := din_value_aggregated((index1+1)*8-1 downto index1*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
         else
            if(we_a1(index1)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_a1)) &lt; n_mem_elements) then
-- synthesis translate_on
                  memory(to_integer(unsigned(memory_addr_a1)))((index1+1)*8-1 downto index1*8) := din_value_aggregated1((index1+1)*8-1 downto index1*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
         end if;
      end loop;
   end if;
end process;

second_element : process(clock)
begin
   if (clock&apos;event and clock=&apos;1&apos;) then
       if(HIGH_LATENCY = 0) then
-- synthesis translate_off
          if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
             dout_b_0  &lt;= memory(to_integer(unsigned(memory_addr_b)));
-- synthesis translate_off
          else
             dout_b_0  &lt;= (others =&gt; &apos;X&apos;);
          end if;
  -- synthesis translate_on
       elsif(HIGH_LATENCY = 1) then
-- synthesis translate_off
          if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
             dout_b_registered  &lt;= memory(to_integer(unsigned(memory_addr_b)));
-- synthesis translate_off
          else
            dout_b_registered  &lt;= (others =&gt; &apos;X&apos;);
          end if;
-- synthesis translate_on
          dout_b_0  &lt;= dout_b_registered;
       else
-- synthesis translate_off
          if (to_integer(unsigned(memory_addr_b1)) &lt; n_mem_elements) then
-- synthesis translate_on
             dout_b_registered &lt;= memory(to_integer(unsigned(memory_addr_b1)));
-- synthesis translate_off
          else
             dout_b_registered  &lt;= (others =&gt; &apos;X&apos;);
          end if;
-- synthesis translate_on
          memory_addr_b1 &lt;= memory_addr_b;
          we_b1 &lt;= we_b;
          dout_b_0 &lt;= dout_b_registered;
       end if;
   end if;
end process;

L1_second_write : process(clock)
begin
   if (clock&apos;event and clock=&apos;1&apos;) then
      for index2 in 0 to n_byte_on_databus-1 loop
         if(HIGH_LATENCY= 0 or HIGH_LATENCY = 1) then
             if(we_b(index2)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_b)) &lt; n_mem_elements) then
-- synthesis translate_on
                  memory(to_integer(unsigned(memory_addr_b)))((index2+1)*8-1 downto index2*8) := din_value_aggregated((index2+1+n_byte_on_databus)*8-1 downto (index2+n_byte_on_databus)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
         else
            if(we_b1(index2)=&apos;1&apos;) then
-- synthesis translate_off
               if (to_integer(unsigned(memory_addr_b1)) &lt; n_mem_elements) then
-- synthesis translate_on
                  memory(to_integer(unsigned(memory_addr_b1)))((index2+1)*8-1 downto index2*8) := din_value_aggregated1((index2+1+n_byte_on_databus)*8-1 downto (index2+n_byte_on_databus)*8);
-- synthesis translate_off
               end if;
-- synthesis translate_on
            end if;
         end if;
      end loop;
   end if;
end process;

L_write_enable_a : process(bram_write0, be)
begin
   for i2_a in 0 to n_byte_on_databus-1 loop
      we_a(i2_a) &lt;= bram_write0 and be(i2_a);
   end loop;
end process;

L_write_enable_b : process(bram_write1, be)
begin
   for i2_b in 0 to n_byte_on_databus-1 loop
      we_b(i2_b) &lt;= bram_write1 and be(i2_b+n_byte_on_databus);
   end loop;
end process;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_NOBYTE_ENABLE bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY" IP_COMPONENT="STD_NRNW_BRAM_SB" VERILOG_PROVIDED="wire [(n_byte_on_databus/2)*max_n_writes-1:0] we_a;
wire [max_n_writes*BRAM_BITSIZE-1:0] din_value_swapped;

STD_NRNW_BRAM_SB #(.BITSIZE_we_a(n_byte_on_databus/2), .PORTSIZE_we_a(max_n_writes), .BITSIZE_Addr(BITSIZE_memory_addr_a), .PORTSIZE_Addr(PORTSIZE_memory_addr_a), .BITSIZE_din_value(BITSIZE_din_value_aggregated_swapped/2), .PORTSIZE_din_value(max_n_writes), .BITSIZE_dout_value(BITSIZE_dout_a), .PORTSIZE_dout_value(PORTSIZE_dout_a), .MEMORY_INIT_file(MEMORY_INIT_file), .n_mem_elements(n_mem_elements), .BRAM_BITSIZE(BRAM_BITSIZE), .HIGH_LATENCY(HIGH_LATENCY)) STD_NRNW_BRAM_SB_instance (.clock(clock), .we_a(we_a), .Addr(memory_addr_a), .din_value(din_value_swapped), .dout_value(dout_a[BRAM_BITSIZE*max_n_reads-1:0]));

generate
genvar i1,i2;
  for (i2=0; i2&lt;max_n_writes; i2=i2+1)
  begin : we2
    for (i1=0; i1&lt;n_byte_on_databus/2; i1=i1+1)
    begin  : we1
      assign we_a[i1+(n_byte_on_databus/2)*i2] = bram_write[i2] &amp;&amp; be_swapped[i1+n_byte_on_databus*i2+n_byte_on_databus_offset];
    end
  end
  for (i2=0; i2&lt;max_n_writes; i2=i2+1)
  begin : din2
    for (i1=0; i1&lt;n_byte_on_databus/2; i1=i1+1)
    begin  : din1
      assign din_value_swapped[i2*n_byte_on_databus*4+i1*8+7:i2*(n_byte_on_databus)*4+i1*8] = din_value_aggregated_swapped[i2*2*BRAM_BITSIZE+i1*8+memory_offset+7:i2*2*BRAM_BITSIZE+i1*8+memory_offset];
    end
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_CORE</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_CORE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_CORE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="n_bytes">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_CORE bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE n_bytes n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY" IP_COMPONENT="BRAM_MEMORY_CORE_SMALL,TRUE_DUAL_PORT_BYTE_ENABLING_RAM" 
VERILOG_PROVIDED="
generate
if(n_mem_elements == 1)
begin
  BRAM_MEMORY_CORE_SMALL #(.BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .BITSIZE_memory_addr_b(BITSIZE_memory_addr_a), .BITSIZE_din_value_aggregated((n_byte_on_databus)*8), .BITSIZE_be(n_byte_on_databus), .BITSIZE_dout_a((n_byte_on_databus/2)*8), .BITSIZE_dout_b((n_byte_on_databus/2)*8), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .n_byte_on_databus(n_byte_on_databus/2), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance_small (.clock(clock), .bram_write0(bram_write[0]), .bram_write1(bram_write[1]), .memory_addr_a(memory_addr_a[BITSIZE_memory_addr_a-1:0]), .memory_addr_b(memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]), .din_value_aggregated({din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset],din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset]}), .be({be_swapped[n_byte_on_databus+n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus+n_byte_on_databus_offset],be_swapped[n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus_offset]}), .dout_a(dout_a[BRAM_BITSIZE-1:0]), .dout_b(dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE]));
end
else
begin
  TRUE_DUAL_PORT_BYTE_ENABLING_RAM #(.BITSIZE_memory_addr_a(BITSIZE_memory_addr_a), .BITSIZE_memory_addr_b(BITSIZE_memory_addr_a), .BITSIZE_din_value_aggregated((n_byte_on_databus)*8), .BITSIZE_be(n_byte_on_databus), .BITSIZE_dout_a((n_byte_on_databus/2)*8), .BITSIZE_dout_b((n_byte_on_databus/2)*8), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .n_byte_on_databus(n_byte_on_databus/2), .n_mem_elements(n_mem_elements), .HIGH_LATENCY(HIGH_LATENCY)) TRUE_DUAL_PORT_BYTE_ENABLING_RAM_instance (.clock(clock), .bram_write0(bram_write[0]), .bram_write1(bram_write[1]), .memory_addr_a(memory_addr_a[BITSIZE_memory_addr_a-1:0]), .memory_addr_b(memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]), .din_value_aggregated({din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset],din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset]}), .be({be_swapped[n_byte_on_databus+n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus+n_byte_on_databus_offset],be_swapped[n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus_offset]}), .dout_a(dout_a[BRAM_BITSIZE-1:0]), .dout_b(dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE]));
end
endgenerate
"
VHDL_PROVIDED=
"begin
BRAM_MEMORY_CORE_SMALL_case : if (n_mem_elements = 1) generate
  BRAM_MEMORY_CORE_SMALL_instance : BRAM_MEMORY_CORE_SMALL generic map (BITSIZE_memory_addr_a=&gt;BITSIZE_memory_addr_a, BITSIZE_memory_addr_b=&gt;BITSIZE_memory_addr_a, BITSIZE_din_value_aggregated=&gt;(n_byte_on_databus)*8, BITSIZE_be=&gt;n_byte_on_databus, BITSIZE_dout_a=&gt;(n_byte_on_databus/2)*8, BITSIZE_dout_b=&gt;(n_byte_on_databus/2)*8, MEMORY_INIT_file=&gt;MEMORY_INIT_file, BRAM_BITSIZE=&gt;BRAM_BITSIZE, n_byte_on_databus=&gt;n_byte_on_databus/2, n_mem_elements=&gt;n_mem_elements, n_bytes=&gt;n_bytes, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, bram_write0=&gt;bram_write(0), bram_write1=&gt;bram_write(1), memory_addr_a=&gt;memory_addr_a(BITSIZE_memory_addr_a-1 downto 0), memory_addr_b=&gt;memory_addr_a(2*BITSIZE_memory_addr_a-1 downto BITSIZE_memory_addr_a), din_value_aggregated=&gt;(din_value_aggregated_swapped(2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1 downto 2*BRAM_BITSIZE+memory_offset) &amp; din_value_aggregated_swapped((n_byte_on_databus/2)*8+memory_offset-1 downto memory_offset)), be=&gt;(be_swapped(n_byte_on_databus+n_byte_on_databus/2+n_byte_on_databus_offset-1 downto n_byte_on_databus+n_byte_on_databus_offset) &amp; be_swapped(n_byte_on_databus/2+n_byte_on_databus_offset-1 downto n_byte_on_databus_offset)), dout_a=&gt;dout_a(BRAM_BITSIZE-1 downto 0), dout_b=&gt;dout_a(2*BRAM_BITSIZE-1 downto BRAM_BITSIZE));
end generate;
TRUE_DUAL_PORT_BYTE_ENABLING_RAM_else : if(n_mem_elements /= 1) generate
  TRUE_DUAL_PORT_BYTE_ENABLING_RAM_instance : TRUE_DUAL_PORT_BYTE_ENABLING_RAM generic map (BITSIZE_memory_addr_a=&gt;BITSIZE_memory_addr_a, BITSIZE_memory_addr_b=&gt;BITSIZE_memory_addr_a, BITSIZE_din_value_aggregated=&gt;(n_byte_on_databus)*8, BITSIZE_be=&gt;n_byte_on_databus, BITSIZE_dout_a=&gt;(n_byte_on_databus/2)*8, BITSIZE_dout_b=&gt;(n_byte_on_databus/2)*8, MEMORY_INIT_file=&gt;MEMORY_INIT_file, BRAM_BITSIZE=&gt;BRAM_BITSIZE, n_byte_on_databus=&gt;n_byte_on_databus/2, n_mem_elements=&gt;n_mem_elements, HIGH_LATENCY=&gt;HIGH_LATENCY) port map (clock=&gt;clock, bram_write0=&gt;bram_write(0), bram_write1=&gt;bram_write(1), memory_addr_a=&gt;memory_addr_a(BITSIZE_memory_addr_a-1 downto 0), memory_addr_b=&gt;memory_addr_a(2*BITSIZE_memory_addr_a-1 downto BITSIZE_memory_addr_a), din_value_aggregated=&gt;(din_value_aggregated_swapped(2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1 downto 2*BRAM_BITSIZE+memory_offset) &amp; din_value_aggregated_swapped((n_byte_on_databus/2)*8+memory_offset-1 downto memory_offset)), be=&gt;(be_swapped(n_byte_on_databus+n_byte_on_databus/2+n_byte_on_databus_offset-1 downto n_byte_on_databus+n_byte_on_databus_offset) &amp; be_swapped(n_byte_on_databus/2+n_byte_on_databus_offset-1 downto n_byte_on_databus_offset)), dout_a=&gt;dout_a(BRAM_BITSIZE-1 downto 0), dout_b=&gt;dout_a(2*BRAM_BITSIZE-1 downto BRAM_BITSIZE));
end generate;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BRAM_MEMORY_NN_PMI</name>
      <circuit>
        <component_o id="BRAM_MEMORY_NN_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BRAM_MEMORY_NN_PMI"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="nbit_read_addr">32</parameter>
          <parameter name="n_byte_on_databus">4</parameter>
          <parameter name="n_mem_elements">4</parameter>
          <parameter name="max_n_reads">2</parameter>
          <parameter name="max_n_writes">2</parameter>
          <parameter name="memory_offset">16</parameter>
          <parameter name="n_byte_on_databus_offset">2</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="bram_write" dir="IN">
            <structural_type_descriptor type="BOOL"/>
          </port_vector_o>
          <port_vector_o id="memory_addr_a" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="din_value_aggregated_swapped" dir="IN" >
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="be_swapped" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="dout_a" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BRAM_MEMORY_NN_PMI bram_write dout_a memory_addr_a din_value_aggregated_swapped be_swapped MEMORY_INIT_file BRAM_BITSIZE nbit_read_addr n_byte_on_databus n_mem_elements max_n_reads max_n_writes memory_offset n_byte_on_databus_offset HIGH_LATENCY" VERILOG_PROVIDED="
reg [PORTSIZE_bram_write-1:0] bram_write1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_memory_addr_a*BITSIZE_memory_addr_a)+(-1):0] memory_addr_a1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_din_value_aggregated_swapped*BITSIZE_din_value_aggregated_swapped)+(-1):0] din_value_aggregated_swapped1 1INIT_ZERO_VALUE;
reg [(PORTSIZE_be_swapped*BITSIZE_be_swapped)+(-1):0] be_swapped1 1INIT_ZERO_VALUE;

generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       bram_write1 &lt;= bram_write;
       be_swapped1 &lt;= be_swapped;
       din_value_aggregated_swapped1 &lt;= din_value_aggregated_swapped;
    end
  end
endgenerate

generate
if(BRAM_BITSIZE == 8)
begin
  reg [(n_byte_on_databus/2)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
  reg [(n_byte_on_databus/2)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
  assign dout_a[BRAM_BITSIZE-1:0] = dout_a_tmp;
  assign dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE] = dout_b_tmp;
  initial
  begin
    $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
  end
  if(n_mem_elements == 1)
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0] &amp;&amp; be_swapped[n_byte_on_databus_offset])
          memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      else
      begin
        if (bram_write1[0] &amp;&amp; be_swapped1[n_byte_on_databus_offset])
          memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped1[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1] &amp;&amp; be_swapped[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      else
      begin
        if (bram_write1[1] &amp;&amp; be_swapped1[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
  begin
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0] &amp;&amp; be_swapped[n_byte_on_databus_offset])
          memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      else
      begin
        if (bram_write1[0] &amp;&amp; be_swapped1[n_byte_on_databus_offset])
          memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]] &lt;= din_value_aggregated_swapped1[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1] &amp;&amp; be_swapped[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      else
      begin
        if (bram_write1[1] &amp;&amp; be_swapped1[n_byte_on_databus+n_byte_on_databus_offset])
          memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset];
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
end
else
begin
  if(n_mem_elements == 1)
  begin
    reg [(n_byte_on_databus/2)*8-1:0] dout_a_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_b_tmp 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_a_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] dout_b_registered 1INIT_ZERO_VALUE;
    reg [(n_byte_on_databus/2)*8-1:0] memory [n_mem_elements-1:0]/* synthesis syn_ramstyle = &quot;no_rw_check&quot; */ ;
    assign dout_a[BRAM_BITSIZE-1:0] = dout_a_tmp;
    assign dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE] = dout_b_tmp;
    initial
    begin
      $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
    end
    always @(posedge clock)
    begin
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[0])
        begin : L11_write
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
          begin
            if(be_swapped[i11+n_byte_on_databus_offset])
              memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]][i11*8+:8] &lt;= din_value_aggregated_swapped[i11*8+memory_offset+:8];
          end
        end
      end
      else
      begin
        if (bram_write1[0])
        begin : L11_write1
          integer i11;
          for (i11=0; i11&lt;n_byte_on_databus/2; i11=i11+1)
          begin
            if(be_swapped1[i11+n_byte_on_databus_offset])
              memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]][i11*8+:8] &lt;= din_value_aggregated_swapped1[i11*8+memory_offset+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_a_tmp &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_a_registered &lt;= memory[memory_addr_a[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      else
      begin
        dout_a_registered &lt;= memory[memory_addr_a1[BITSIZE_memory_addr_a-1:0]];
        dout_a_tmp &lt;= dout_a_registered;
      end
      if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
      begin
        if (bram_write[1])
        begin : L22_write
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus/2; i22=i22+1)
          begin
            if(be_swapped[i22+n_byte_on_databus+n_byte_on_databus_offset])
              memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]][i22*8+:8] &lt;= din_value_aggregated_swapped[2*BRAM_BITSIZE+memory_offset+i22*8+:8];
          end
        end
      end
      else
      begin
        if (bram_write1[1])
        begin : L22_write1
          integer i22;
          for (i22=0; i22&lt;n_byte_on_databus/2; i22=i22+1)
          begin
            if(be_swapped1[i22+n_byte_on_databus+n_byte_on_databus_offset])
              memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]][i22*8+:8] &lt;= din_value_aggregated_swapped1[2*BRAM_BITSIZE+memory_offset+i22*8+:8];
          end
        end
      end
      if(HIGH_LATENCY == 0)
        dout_b_tmp &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
      else if(HIGH_LATENCY == 1)
      begin
        dout_b_registered &lt;= memory[memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
      else
      begin
        dout_b_registered &lt;= memory[memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]];
        dout_b_tmp &lt;= dout_b_registered;
      end
    end
  end
  else
    if(HIGH_LATENCY == 0||HIGH_LATENCY == 1)
    begin
      pmi_ram_dp_true_be #(.pmi_addr_depth_a(n_mem_elements),
        .pmi_addr_width_a(BITSIZE_memory_addr_a),
        .pmi_data_width_a((n_byte_on_databus/2)*8),
        .pmi_addr_depth_b(n_mem_elements),
        .pmi_addr_width_b(BITSIZE_memory_addr_a),
        .pmi_data_width_b((n_byte_on_databus/2)*8),
        .pmi_regmode_a(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_regmode_b(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_gsr(&quot;disable&quot;),
        .pmi_resetmode(&quot;sync&quot;),
        .pmi_optimization(&quot;speed&quot;),
        .pmi_init_file(MEMORY_INIT_file),
        .pmi_init_file_format(&quot;binary&quot;),
        .pmi_write_mode_a(&quot;normal&quot;),
        .pmi_write_mode_b(&quot;normal&quot;),
        .pmi_byte_size(8),
        .pmi_family(&quot;ECP3&quot;),
        .module_type(&quot;pmi_ram_dp_true_be&quot;)) pmi_ram_dp_true_be_instance
       (.DataInA(din_value_aggregated_swapped[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset]),
        .DataInB(din_value_aggregated_swapped[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset]),
        .AddressA(memory_addr_a[BITSIZE_memory_addr_a-1:0]),
        .AddressB(memory_addr_a[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]),
        .ClockA(clock),
        .ClockB(clock),
        .ClockEnA(1&apos;b1),
        .ClockEnB(1&apos;b1),
        .WrA(bram_write[0]),
        .WrB(bram_write[1]),
        .ResetA(1&apos;b0),
        .ResetB(1&apos;b0),
        .ByteEnA(be_swapped[n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus_offset]),
        .ByteEnB(be_swapped[n_byte_on_databus/2+n_byte_on_databus+n_byte_on_databus_offset-1:n_byte_on_databus+n_byte_on_databus_offset]),
        .QA(dout_a[BRAM_BITSIZE-1:0]),
        .QB(dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE])) /*synthesis syn_black_box*/;
    end
    else
    begin
      pmi_ram_dp_true_be #(.pmi_addr_depth_a(n_mem_elements),
        .pmi_addr_width_a(BITSIZE_memory_addr_a),
        .pmi_data_width_a((n_byte_on_databus/2)*8),
        .pmi_addr_depth_b(n_mem_elements),
        .pmi_addr_width_b(BITSIZE_memory_addr_a),
        .pmi_data_width_b((n_byte_on_databus/2)*8),
        .pmi_regmode_a(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_regmode_b(HIGH_LATENCY== 0 ? &quot;noreg&quot; : &quot;reg&quot;),
        .pmi_gsr(&quot;disable&quot;),
        .pmi_resetmode(&quot;sync&quot;),
        .pmi_optimization(&quot;speed&quot;),
        .pmi_init_file(MEMORY_INIT_file),
        .pmi_init_file_format(&quot;binary&quot;),
        .pmi_write_mode_a(&quot;normal&quot;),
        .pmi_write_mode_b(&quot;normal&quot;),
        .pmi_byte_size(8),
        .pmi_family(&quot;ECP3&quot;),
        .module_type(&quot;pmi_ram_dp_true_be&quot;)) pmi_ram_dp_true_be_instance
       (.DataInA(din_value_aggregated_swapped1[(n_byte_on_databus/2)*8+memory_offset-1:memory_offset]),
        .DataInB(din_value_aggregated_swapped1[2*BRAM_BITSIZE+(n_byte_on_databus/2)*8+memory_offset-1:2*BRAM_BITSIZE+memory_offset]),
        .AddressA(memory_addr_a1[BITSIZE_memory_addr_a-1:0]),
        .AddressB(memory_addr_a1[2*BITSIZE_memory_addr_a-1:BITSIZE_memory_addr_a]),
        .ClockA(clock),
        .ClockB(clock),
        .ClockEnA(1&apos;b1),
        .ClockEnB(1&apos;b1),
        .WrA(bram_write1[0]),
        .WrB(bram_write1[1]),
        .ResetA(1&apos;b0),
        .ResetB(1&apos;b0),
        .ByteEnA(be_swapped1[n_byte_on_databus/2+n_byte_on_databus_offset-1:n_byte_on_databus_offset]),
        .ByteEnB(be_swapped1[n_byte_on_databus/2+n_byte_on_databus+n_byte_on_databus_offset-1:n_byte_on_databus+n_byte_on_databus_offset]),
        .QA(dout_a[BRAM_BITSIZE-1:0]),
        .QB(dout_a[2*BRAM_BITSIZE-1:BRAM_BITSIZE])) /*synthesis syn_black_box*/;
    end
end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NOBYTE_ENABLE in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC,BRAM_MEMORY_NOBYTE_ENABLE" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(data_size/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_b;
wire [n_byte_on_databus*2-1:0] be;

wire [2*BRAM_BITSIZE-1:0] din_value_aggregated;
wire bram_write;
wire [BRAM_BITSIZE-1:0] dout_a;
wire [BRAM_BITSIZE-1:0] dout_b;

BRAM_MEMORY_NOBYTE_ENABLE #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));

ADDRESS_DECODING_LOGIC #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_PMI</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_PMI"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_PMI in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" IP_COMPONENT="ADDRESS_DECODING_LOGIC,BRAM_MEMORY_PMI" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(data_size/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_b;
wire [n_byte_on_databus*2-1:0] be;

wire [2*BRAM_BITSIZE-1:0] din_value_aggregated;
wire bram_write;
wire [BRAM_BITSIZE-1:0] dout_a;
wire [BRAM_BITSIZE-1:0] dout_b;

BRAM_MEMORY_PMI #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .MEMORY_INIT_file(MEMORY_INIT_file), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_instance (.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));

ADDRESS_DECODING_LOGIC #(.BITSIZE_memory_addr_a(nbit_read_addr), .BITSIZE_memory_addr_b(nbit_read_addr), .BITSIZE_din_value_aggregated(2*BRAM_BITSIZE), .BITSIZE_be(n_byte_on_databus*2), .BITSIZE_dout_a(BRAM_BITSIZE), .BITSIZE_dout_b(BRAM_BITSIZE), .BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .n_bytes(n_bytes), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated(din_value_aggregated), .be(be), .dout_a(dout_a), .dout_b(dout_b));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ADDRESS_DECODING_LOGIC_NN,BRAM_MEMORY_NN_NOBYTE_ENABLE" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = data_size/8;
parameter n_bytes = n_elements*n_byte_data;
parameter memory_bitsize = 2*BRAM_BITSIZE;
parameter n_byte_on_databus = memory_bitsize/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_S_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram ? PORTSIZE_sel_LOAD : PORTSIZE_S_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_b;
wire [n_byte_on_databus*max_n_writes-1:0] be_swapped;

wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated_swapped;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_a;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_b;


BRAM_MEMORY_NN_NOBYTE_ENABLE #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_a), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(0), .n_byte_on_databus_offset(0), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin : SECOND_MEMORY
    BRAM_MEMORY_NN_NOBYTE_ENABLE #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a((memory_bitsize/2)), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_b), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_bitsize/2), .n_byte_on_databus_offset(n_byte_on_databus/2), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_b(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_b));
  end
else
  assign dout_b = {(memory_bitsize/2)*max_n_reads{1&apos;b0}};
endgenerate

ADDRESS_DECODING_LOGIC_NN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_dout_b(memory_bitsize/2), .PORTSIZE_dout_b(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_memory_addr_b(nbit_read_addr), .PORTSIZE_memory_addr_b(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .BITSIZE_bram_write(1), .PORTSIZE_bram_write(max_n_writes), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .max_n_rw(max_n_rw), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_NN_instance (.clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .out1(out1), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .Sout_Rdata_ram(Sout_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .Sout_DataRdy(Sout_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .proxy_out1(proxy_out1), .dout_a(dout_a), .dout_b(dout_b), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .bram_write(bram_write));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_PMI</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_PMI"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_PMI in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ADDRESS_DECODING_LOGIC_NN,BRAM_MEMORY_NN_PMI" VERILOG_PROVIDED="`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = data_size/8;
parameter n_bytes = n_elements*n_byte_data;
parameter memory_bitsize = 2*BRAM_BITSIZE;
parameter n_byte_on_databus = memory_bitsize/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_S_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_S_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_S_oe_ram ? PORTSIZE_sel_LOAD : PORTSIZE_S_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_b;
wire [n_byte_on_databus*max_n_writes-1:0] be_swapped;

wire [memory_bitsize*max_n_writes-1:0] din_value_aggregated_swapped;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_a;
wire [(memory_bitsize/2)*max_n_reads-1:0] dout_b;


BRAM_MEMORY_NN_PMI #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_a), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(0), .n_byte_on_databus_offset(0), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_a(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_a), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_a));

generate
  if (n_bytes &gt; BRAM_BITSIZE/8)
  begin : SECOND_MEMORY
    BRAM_MEMORY_NN_PMI #(.PORTSIZE_bram_write(max_n_writes), .BITSIZE_bram_write(1), .BITSIZE_dout_a((memory_bitsize/2)), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .MEMORY_INIT_file(MEMORY_INIT_file_b), .BRAM_BITSIZE(BRAM_BITSIZE), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .memory_offset(memory_bitsize/2), .n_byte_on_databus_offset(n_byte_on_databus/2), .HIGH_LATENCY(HIGH_LATENCY)) BRAM_MEMORY_NN_instance_b(.clock(clock), .bram_write(bram_write), .memory_addr_a(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .dout_a(dout_b));
  end
else
  assign dout_b = {(memory_bitsize/2)*max_n_reads{1&apos;b0}};
endgenerate

ADDRESS_DECODING_LOGIC_NN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .BITSIZE_dout_a(memory_bitsize/2), .PORTSIZE_dout_a(max_n_reads), .BITSIZE_dout_b(memory_bitsize/2), .PORTSIZE_dout_b(max_n_reads), .BITSIZE_memory_addr_a(nbit_read_addr), .PORTSIZE_memory_addr_a(max_n_rw), .BITSIZE_memory_addr_b(nbit_read_addr), .PORTSIZE_memory_addr_b(max_n_rw), .BITSIZE_din_value_aggregated_swapped(memory_bitsize), .PORTSIZE_din_value_aggregated_swapped(max_n_writes), .BITSIZE_be_swapped(n_byte_on_databus), .PORTSIZE_be_swapped(max_n_writes), .BITSIZE_bram_write(1), .PORTSIZE_bram_write(max_n_writes), .nbit_read_addr(nbit_read_addr), .n_byte_on_databus(n_byte_on_databus), .n_mem_elements(n_mem_elements), .max_n_reads(max_n_reads), .max_n_writes(max_n_writes), .max_n_rw(max_n_rw), .HIGH_LATENCY(HIGH_LATENCY)) ADDRESS_DECODING_LOGIC_NN_instance (.clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .out1(out1), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .Sout_Rdata_ram(Sout_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .Sout_DataRdy(Sout_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE), .proxy_out1(proxy_out1), .dout_a(dout_a), .dout_b(dout_b), .memory_addr_a(memory_addr_a), .memory_addr_b(memory_addr_b), .din_value_aggregated_swapped(din_value_aggregated_swapped), .be_swapped(be_swapped), .bram_write(bram_write));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_N1_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_N1_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_N1_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_N1_NOBYTE_ENABLE in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(1), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(1), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(1), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(1), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(1), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(1), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(1), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(1), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(1), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_NN_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size ), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_N1_PMI</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_N1_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_N1_PMI"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_N1_PMI in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1 HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_PMI" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_PMI #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(1), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(1), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(1), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(1), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(1), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(1), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(1), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(1), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(1), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(PRIVATE_MEMORY), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_proxy_in1), .PORTSIZE_proxy_in1(PORTSIZE_proxy_in1), .BITSIZE_proxy_in2(BITSIZE_proxy_in2), .PORTSIZE_proxy_in2(PORTSIZE_proxy_in2), .BITSIZE_proxy_in3(BITSIZE_proxy_in3), .PORTSIZE_proxy_in3(PORTSIZE_proxy_in3), .BITSIZE_proxy_sel_LOAD(BITSIZE_proxy_sel_LOAD), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_proxy_sel_LOAD), .BITSIZE_proxy_sel_STORE(BITSIZE_proxy_sel_STORE), .PORTSIZE_proxy_sel_STORE(PORTSIZE_proxy_sel_STORE), .BITSIZE_proxy_out1(BITSIZE_proxy_out1), .PORTSIZE_proxy_out1(PORTSIZE_proxy_out1), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_NN_instance (.out1(out1), .Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .proxy_out1(proxy_out1), .clock(clock), .reset(reset), .in1(in1), .in2(in2), .in3(in3), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size ), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(proxy_in1), .proxy_in2(proxy_in2), .proxy_in3(proxy_in3), .proxy_sel_LOAD(proxy_sel_LOAD), .proxy_sel_STORE(proxy_sel_STORE));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAM_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="STD_BRAM_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_NOBYTE_ENABLE S_addr_ram S_Wdata_ram Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NOBYTE_ENABLE" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NOBYTE_ENABLE #(.BITSIZE_in1(1), .BITSIZE_in2(BITSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .BITSIZE_out1(1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(1), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .BITSIZE_proxy_out1(1), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1(1&apos;b0), .in2({BITSIZE_S_addr_ram{1&apos;b0}}), .in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD(1&apos;b0), .sel_STORE(1&apos;b0), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(1&apos;b0), .proxy_in2({BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD(1&apos;b0), .proxy_sel_STORE(1&apos;b0));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_NOBYTE_ENABLE</name>
      <circuit>
        <component_o id="STD_BRAMN_NOBYTE_ENABLE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_NOBYTE_ENABLE"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_NOBYTE_ENABLE S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_NOBYTE_ENABLE #(.BITSIZE_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_in2(BITSIZE_S_addr_ram), .PORTSIZE_in2(PORTSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .PORTSIZE_in3(PORTSIZE_S_data_ram_size), .BITSIZE_sel_LOAD(1), .PORTSIZE_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_sel_STORE(1), .PORTSIZE_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_out1(1), .PORTSIZE_out1(PORTSIZE_S_addr_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_proxy_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .PORTSIZE_proxy_in2(PORTSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .PORTSIZE_proxy_in3(PORTSIZE_S_data_ram_size), .BITSIZE_proxy_sel_LOAD(1), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_proxy_sel_STORE(1), .PORTSIZE_proxy_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_proxy_out1(1), .PORTSIZE_proxy_out1(PORTSIZE_S_addr_ram), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_NN_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .proxy_in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .proxy_sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAM_PMI</name>
      <circuit>
        <component_o id="STD_BRAM_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAM_PMI"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="STD_BRAM_PMI S_addr_ram S_Wdata_ram Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_PMI" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_PMI #(.BITSIZE_in1(1), .BITSIZE_in2(BITSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .BITSIZE_out1(1), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .MEMORY_INIT_file(MEMORY_INIT_file), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(1), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .BITSIZE_proxy_out1(1), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1(1&apos;b0), .in2({BITSIZE_S_addr_ram{1&apos;b0}}), .in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD(1&apos;b0), .sel_STORE(1&apos;b0), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1(1&apos;b0), .proxy_in2({BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD(1&apos;b0), .proxy_sel_STORE(1&apos;b0));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>STD_BRAMN_PMI</name>
      <circuit>
        <component_o id="STD_BRAMN_PMI">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2016-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="STD_BRAMN_PMI"/>
          <parameter name="MEMORY_INIT_file_a">&quot;&quot;array_a.mem&quot;&quot;</parameter>
          <parameter name="MEMORY_INIT_file_b">&quot;&quot;array_b.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="STD_BRAMN_PMI S_oe_ram S_we_ram S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file_a MEMORY_INIT_file_b n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE USE_SPARSE_MEMORY HIGH_LATENCY" IP_COMPONENT="ARRAY_1D_STD_BRAM_NN_PMI" VERILOG_PROVIDED="ARRAY_1D_STD_BRAM_NN_PMI #(.BITSIZE_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_in2(BITSIZE_S_addr_ram), .PORTSIZE_in2(PORTSIZE_S_addr_ram), .BITSIZE_in3(BITSIZE_S_data_ram_size), .PORTSIZE_in3(PORTSIZE_S_data_ram_size), .BITSIZE_sel_LOAD(1), .PORTSIZE_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_sel_STORE(1), .PORTSIZE_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_S_oe_ram(BITSIZE_S_oe_ram), .PORTSIZE_S_oe_ram(PORTSIZE_S_oe_ram), .BITSIZE_S_we_ram(BITSIZE_S_we_ram), .PORTSIZE_S_we_ram(PORTSIZE_S_we_ram), .BITSIZE_out1(1), .PORTSIZE_out1(PORTSIZE_S_addr_ram), .BITSIZE_S_addr_ram(BITSIZE_S_addr_ram), .PORTSIZE_S_addr_ram(PORTSIZE_S_addr_ram), .BITSIZE_S_Wdata_ram(BITSIZE_S_Wdata_ram), .PORTSIZE_S_Wdata_ram(PORTSIZE_S_Wdata_ram), .BITSIZE_Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram), .PORTSIZE_Sin_Rdata_ram(PORTSIZE_Sin_Rdata_ram), .BITSIZE_Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram), .PORTSIZE_Sout_Rdata_ram(PORTSIZE_Sout_Rdata_ram), .BITSIZE_S_data_ram_size(BITSIZE_S_data_ram_size), .PORTSIZE_S_data_ram_size(PORTSIZE_S_data_ram_size), .BITSIZE_Sin_DataRdy(BITSIZE_Sin_DataRdy), .PORTSIZE_Sin_DataRdy(PORTSIZE_Sin_DataRdy), .BITSIZE_Sout_DataRdy(BITSIZE_Sout_DataRdy), .PORTSIZE_Sout_DataRdy(PORTSIZE_Sout_DataRdy), .MEMORY_INIT_file_a(MEMORY_INIT_file_a), .MEMORY_INIT_file_b(MEMORY_INIT_file_b), .n_elements(n_elements), .data_size(data_size), .address_space_begin(address_space_begin), .address_space_rangesize(address_space_rangesize), .BUS_PIPELINED(BUS_PIPELINED), .BRAM_BITSIZE(BRAM_BITSIZE), .PRIVATE_MEMORY(0), .USE_SPARSE_MEMORY(USE_SPARSE_MEMORY), .BITSIZE_proxy_in1(BITSIZE_Sin_Rdata_ram), .PORTSIZE_proxy_in1(PORTSIZE_Sin_Rdata_ram), .BITSIZE_proxy_in2(BITSIZE_S_addr_ram), .PORTSIZE_proxy_in2(PORTSIZE_S_addr_ram), .BITSIZE_proxy_in3(BITSIZE_S_data_ram_size), .PORTSIZE_proxy_in3(PORTSIZE_S_data_ram_size), .BITSIZE_proxy_sel_LOAD(1), .PORTSIZE_proxy_sel_LOAD(PORTSIZE_S_addr_ram), .BITSIZE_proxy_sel_STORE(1), .PORTSIZE_proxy_sel_STORE(PORTSIZE_S_addr_ram), .BITSIZE_proxy_out1(1), .PORTSIZE_proxy_out1(PORTSIZE_S_addr_ram), .HIGH_LATENCY(HIGH_LATENCY)) ARRAY_1D_STD_BRAM_NN_instance (.Sout_Rdata_ram(Sout_Rdata_ram), .Sout_DataRdy(Sout_DataRdy), .clock(clock), .reset(reset), .in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}), .S_oe_ram(S_oe_ram), .S_we_ram(S_we_ram), .S_addr_ram(S_addr_ram), .S_Wdata_ram(S_Wdata_ram), .Sin_Rdata_ram(Sin_Rdata_ram), .S_data_ram_size(S_data_ram_size), .Sin_DataRdy(Sin_DataRdy), .proxy_in1({PORTSIZE_Sin_Rdata_ram*BITSIZE_Sin_Rdata_ram{1&apos;b0}}), .proxy_in2({PORTSIZE_S_addr_ram*BITSIZE_S_addr_ram{1&apos;b0}}), .proxy_in3({PORTSIZE_S_data_ram_size*BITSIZE_S_data_ram_size{1&apos;b0}}), .proxy_sel_LOAD({PORTSIZE_S_addr_ram{1&apos;b0}}), .proxy_sel_STORE({PORTSIZE_S_addr_ram{1&apos;b0}}));"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_SDS_BASE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_SDS_BASE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_SDS_BASE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_SDS_BASE in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY READ_ONLY_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(BRAM_BITSIZE/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
parameter nbit_addr = BITSIZE_in2 &gt; BITSIZE_proxy_in2 ? BITSIZE_in2 : BITSIZE_proxy_in2;

`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_elements == 1 ? 1 : $clog2(n_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : $clog2(n_byte_on_databus);
  parameter nbits_address_space_rangesize = $clog2(address_space_rangesize); 
`else
  parameter nbit_read_addr = n_elements == 1 ? 1 : log2(n_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : log2(n_byte_on_databus);
  parameter nbits_address_space_rangesize = log2(address_space_rangesize); 
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_a_mem;
reg [nbit_read_addr-1:0] memory_addr_a1 1INIT_ZERO_VALUE;

wire bram_write;
wire bram_write_mem;
reg bram_write1 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered 1INIT_ZERO_VALUE;
wire [nbit_addr-1:0] relative_addr;
wire [nbit_addr-1:0] tmp_addr;
wire [data_size-1:0] din_a;
wire [data_size-1:0] din_a_mem;
reg [data_size-1:0] din_a1 1INIT_ZERO_VALUE;
reg [data_size-1:0] memory [0:n_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_elements-1);
end

assign din_a = proxy_sel_STORE ? proxy_in1 : in1;
assign bram_write = sel_STORE || proxy_sel_STORE;
generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       bram_write1 &lt;= bram_write;
       din_a1 &lt;= din_a;
    end
    assign memory_addr_a_mem = memory_addr_a1;
    assign bram_write_mem = bram_write1;
    assign din_a_mem = din_a1;
  end
  else
  begin
    assign memory_addr_a_mem = memory_addr_a;
    assign bram_write_mem = bram_write;
    assign din_a_mem = din_a;
  end
endgenerate

always @(posedge clock)
begin
  if(READ_ONLY_MEMORY==0)
  begin
    if (bram_write_mem)
    begin
      memory[memory_addr_a_mem] &lt;= din_a_mem;
    end
  end
  if(HIGH_LATENCY==0)
  begin
    dout_a &lt;= memory[memory_addr_a_mem];
  end
  else if(HIGH_LATENCY==1)
  begin
    dout_a_registered &lt;= memory[memory_addr_a_mem];
    dout_a &lt;= dout_a_registered;
  end
  else
  begin
    dout_a_registered &lt;= memory[memory_addr_a_mem];
    dout_a &lt;= dout_a_registered;
  end
end

assign tmp_addr = (proxy_sel_LOAD||proxy_sel_STORE) ? proxy_in2 : in2;
generate
  if(USE_SPARSE_MEMORY==1)
    assign relative_addr = tmp_addr[nbits_address_space_rangesize-1:0];
  else
    assign relative_addr = tmp_addr-address_space_begin[nbit_addr-1:0];
endgenerate

generate
  if (n_elements==1)
    assign memory_addr_a = {nbit_read_addr{1&apos;b0}};
  else
    assign memory_addr_a = relative_addr[nbit_read_addr+nbits_byte_offset-1:nbits_byte_offset];
endgenerate

assign out1 = dout_a;
assign proxy_out1 = dout_a;
assign Sout_Rdata_ram =Sin_Rdata_ram;
assign Sout_DataRdy = Sin_DataRdy;
// Add assertion here
// psl default clock = (posedge clock);
// psl ERROR_SDS_data_ram_size: assert never {(BRAM_BITSIZE != in3 &amp;&amp; (sel_LOAD || sel_STORE)) || (BRAM_BITSIZE != proxy_in3 &amp;&amp; (proxy_sel_LOAD || proxy_sel_STORE))};
// psl ERROR_SDS_alignment: assert never {(((in2-address_space_begin) %(BRAM_BITSIZE/8) != 0) &amp;&amp; (sel_LOAD || sel_STORE)) || (((proxy_in2-address_space_begin) %(BRAM_BITSIZE/8) != 0) &amp;&amp; (proxy_sel_LOAD || proxy_sel_STORE))};"
VHDL_PROVIDED=
"  function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
  begin
    if cond then
      return op1;
    else
      return op2;
    end if;
  end integer_ternary_operator;
  constant n_bytes           : integer := n_elements*(BRAM_BITSIZE/8);
  constant n_byte_on_databus : integer := BRAM_BITSIZE/8;
  constant n_mem_elements    : integer := n_bytes/(n_byte_on_databus) + integer_ternary_operator((n_bytes mod n_byte_on_databus) = 0, 0, 1);
  constant nbit_addr         : integer := integer_ternary_operator(BITSIZE_in2 &gt; BITSIZE_proxy_in2, BITSIZE_in2, BITSIZE_proxy_in2);
  constant nbit_read_addr    : integer := integer_ternary_operator(n_elements = 1, 1, integer(ceil(log2(real(n_elements)))));
  constant nbits_byte_offset : integer := integer_ternary_operator(n_byte_on_databus = 1, 0, integer(ceil(log2(real(n_byte_on_databus)))));

  constant nbits_address_space_rangesize  : integer := integer(ceil(log2(real(address_space_rangesize)))); 
  
  signal memory_addr_a : std_logic_vector(nbit_read_addr-1 downto 0);
  signal memory_addr_a_mem : std_logic_vector(nbit_read_addr-1 downto 0);
  signal memory_addr_a1 : std_logic_vector(nbit_read_addr-1 downto 0) 1INIT_ZERO_VALUE;

  signal bram_write : std_logic;
  signal bram_write_mem : std_logic;
  signal bram_write1 : std_logic 1INIT_ZERO_VALUEb;

  signal dout_a : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_a_registered : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;

  signal relative_addr : std_logic_vector(nbit_addr-1 downto 0);
  signal tmp_addr : std_logic_vector(nbit_addr-1 downto 0);
  signal din_a : std_logic_vector(data_size-1 downto 0);
  signal din_a_mem : std_logic_vector(data_size-1 downto 0);
  signal din_a1 : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;

  type mem_type is array (n_elements-1 downto 0) of std_logic_vector(data_size-1 downto 0);

  impure function InitMemFromFile (MemFileName : in string) return mem_type is
    FILE memfile : text open READ_MODE is MemFileName;
    variable MemFileLine : line;
    variable mem : mem_type;
    begin
       for i in 0 to n_elements-1 loop
        readline(memfile, MemFileLine);
        read(MemFileLine, mem(i));
      end loop;
      return mem;
  end function;

  signal mem : mem_type := InitMemFromFile(MEMORY_INIT_file);

begin

  din_a &lt;= std_logic_vector(resize(unsigned(proxy_in1), data_size))  when (proxy_sel_STORE = &apos;1&apos;) else std_logic_vector(resize(unsigned(in1), data_size));
  bram_write &lt;= sel_STORE or proxy_sel_STORE;

  DelayProcess : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
       if(HIGH_LATENCY=2) then
         memory_addr_a1 &lt;= memory_addr_a;
         bram_write1 &lt;= bram_write;
         din_a1 &lt;= din_a;
       end if;
    end if;
  end process;

  memory_addr_a_mem &lt;= memory_addr_a1 when (HIGH_LATENCY=2) else memory_addr_a;
  bram_write_mem &lt;= bram_write1 when (HIGH_LATENCY=2) else bram_write;
  din_a_mem &lt;= din_a1 when (HIGH_LATENCY=2) else din_a;

  L1_single_write : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
      if(READ_ONLY_MEMORY=0) then
        if(bram_write_mem='1') then
-- synthesis translate_off
          if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
            mem(to_integer(unsigned(memory_addr_a_mem))) &lt;= din_a_mem;
-- synthesis translate_off
          end if;
-- synthesis translate_on
        end if;
      end if;
    end if;
  end process;

  L1_single_read : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
      if(HIGH_LATENCY=0) then
-- synthesis translate_off
        if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
          dout_a &lt;= mem(to_integer(unsigned(memory_addr_a_mem)));
-- synthesis translate_off
        else
          dout_a &lt;= (others =&gt; &apos;X&apos;);
        end if;
-- synthesis translate_on
      else
-- synthesis translate_off
        if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
         dout_a_registered &lt;= mem(to_integer(unsigned(memory_addr_a_mem)));
-- synthesis translate_off
        else
          dout_a_registered &lt;= (others =&gt; &apos;X&apos;);
        end if;
-- synthesis translate_on
         dout_a &lt;= dout_a_registered;
       end if;
    end if;
  end process;

  tmp_addr &lt;= proxy_in2 when ((proxy_sel_LOAD or proxy_sel_STORE)=&apos;1&apos;) else in2;


  L2 : process(relative_addr)
  begin
    if(n_elements=1) then
      memory_addr_a &lt;= (others =&gt; &apos;0&apos;);
    else
      memory_addr_a &lt;= relative_addr(nbit_read_addr+nbits_byte_offset-1 downto nbits_byte_offset);
    end if;
  end process;

  L3 : process(tmp_addr)
  begin
      if(USE_SPARSE_MEMORY=1) then
        relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
      else
        relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr), nbit_addr) - to_unsigned(address_space_begin, nbit_addr));
      end if;
  end process;

  out1 &lt;= dout_a;
  proxy_out1 &lt;= std_logic_vector(resize(unsigned(dout_a), BITSIZE_proxy_out1));
  Sout_Rdata_ram &lt;=Sin_Rdata_ram;
  Sout_DataRdy &lt;= Sin_DataRdy;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_SDS_BUS_BASE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_SDS_BUS_BASE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_SDS_BUS_BASE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_o>
          <port_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_SDS_BUS_BASE in1 in2 in3 out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_out1" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_bytes = n_elements*(BRAM_BITSIZE/8);
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
parameter nbit_addr = BITSIZE_in2 &gt; BITSIZE_proxy_in2 ? BITSIZE_in2 : BITSIZE_proxy_in2;

`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_elements == 1 ? 1 : $clog2(n_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : $clog2(n_byte_on_databus);
  parameter nbits_address_space_rangesize = $clog2(address_space_rangesize);
`else
  parameter nbit_read_addr = n_elements == 1 ? 1 : log2(n_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : log2(n_byte_on_databus);
  parameter nbits_address_space_rangesize = log2(address_space_rangesize);
`endif
  
wire [nbit_read_addr-1:0] memory_addr_a;
wire [nbit_read_addr-1:0] memory_addr_a_mem;
reg [nbit_read_addr-1:0] memory_addr_a1 1INIT_ZERO_VALUE;

wire bram_write;
wire bram_write_mem;
reg bram_write1 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered 1INIT_ZERO_VALUE;
wire cs, oe_ram_cs, we_ram_cs;
reg we_ram_cs_delayed 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed_registered 1INIT_ZERO_VALUE;
reg oe_ram_cs_delayed_registered1 1INIT_ZERO_VALUE;
wire [nbit_addr-1:0] relative_addr;
wire [nbit_addr-1:0] tmp_addr;
wire [data_size-1:0] din_a;
wire [data_size-1:0] din_a_mem;
reg [data_size-1:0] din_a1 1INIT_ZERO_VALUE;
reg [data_size-1:0] memory [0:n_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_elements-1);
end

assign din_a = proxy_sel_STORE ? proxy_in1 : sel_STORE ? in1 : S_Wdata_ram;
assign bram_write = sel_STORE || proxy_sel_STORE || we_ram_cs;
generate
  if(HIGH_LATENCY==2)
  begin
    always @ (posedge clock)
    begin
       memory_addr_a1 &lt;= memory_addr_a;
       bram_write1 &lt;= bram_write;
       din_a1 &lt;= din_a;
    end
    assign memory_addr_a_mem = memory_addr_a1;
    assign bram_write_mem = bram_write1;
    assign din_a_mem = din_a1;
  end
  else
  begin
    assign memory_addr_a_mem = memory_addr_a;
    assign bram_write_mem = bram_write;
    assign din_a_mem = din_a;
  end
endgenerate

always @(posedge clock)
begin
  if (bram_write_mem)
  begin
    memory[memory_addr_a_mem] &lt;= din_a_mem;
  end
  if(HIGH_LATENCY==0)
  begin
    dout_a &lt;= memory[memory_addr_a_mem];
  end
  else if(HIGH_LATENCY==1)
  begin
    dout_a_registered &lt;= memory[memory_addr_a_mem];
    dout_a &lt;= dout_a_registered;
  end
  else
  begin
    dout_a_registered &lt;= memory[memory_addr_a_mem];
    dout_a &lt;= dout_a_registered;
  end
end

assign tmp_addr = (proxy_sel_LOAD||proxy_sel_STORE) ? proxy_in2 : in2;

generate
  if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
    assign cs = (S_addr_ram &gt;= (address_space_begin)) &amp;&amp; (S_addr_ram &lt; (address_space_begin+address_space_rangesize));
  else if(PRIVATE_MEMORY==0)
    assign cs = S_addr_ram[nbit_addr-1:nbits_address_space_rangesize] == address_space_begin[nbit_addr-1:nbits_address_space_rangesize];
  else
    assign cs = 1&apos;b0;
endgenerate

assign oe_ram_cs = S_oe_ram &amp;&amp; cs;
assign we_ram_cs = S_we_ram &amp;&amp; cs;

generate
  if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
    assign relative_addr = (sel_STORE===1&apos;b1 || sel_LOAD===1&apos;b1 || proxy_sel_STORE===1&apos;b1 || proxy_sel_LOAD===1&apos;b1) ? tmp_addr-address_space_begin[nbit_addr-1:0] : S_addr_ram-address_space_begin[nbit_addr-1:0];
  else if(PRIVATE_MEMORY==0)
    assign relative_addr = (sel_STORE===1&apos;b1 || sel_LOAD===1&apos;b1 || proxy_sel_STORE===1&apos;b1 || proxy_sel_LOAD===1&apos;b1) ? tmp_addr[nbits_address_space_rangesize-1:0] : S_addr_ram[nbits_address_space_rangesize-1:0];
  else if(USE_SPARSE_MEMORY==1)
    assign relative_addr = tmp_addr[nbits_address_space_rangesize-1:0];
  else
    assign relative_addr = tmp_addr-address_space_begin[nbit_addr-1:0];
endgenerate

generate
  if (n_elements==1)
    assign memory_addr_a = {nbit_read_addr{1&apos;b0}};
  else
    assign memory_addr_a = relative_addr[nbit_read_addr+nbits_byte_offset-1:nbits_byte_offset];
endgenerate

assign out1 = dout_a;
assign proxy_out1 = dout_a;
always @(posedge clock 1RESET_EDGE)
begin
  if(1RESET_VALUE)
    begin
      oe_ram_cs_delayed &lt;= 1&apos;b0;
      if(HIGH_LATENCY != 0) oe_ram_cs_delayed_registered &lt;= 1&apos;b0;
      if(HIGH_LATENCY == 2) oe_ram_cs_delayed_registered1 &lt;= 1&apos;b0;
    end
  else
    begin
      if(HIGH_LATENCY==0)
        oe_ram_cs_delayed &lt;= oe_ram_cs &amp; (!oe_ram_cs_delayed | BUS_PIPELINED);
      else if(HIGH_LATENCY==1)
      begin
        oe_ram_cs_delayed_registered &lt;= oe_ram_cs &amp; ((!oe_ram_cs_delayed_registered &amp; !oe_ram_cs_delayed) | BUS_PIPELINED);
        oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
      end
      else
      begin
        oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs &amp; ((!oe_ram_cs_delayed_registered1 &amp; !oe_ram_cs_delayed_registered) | BUS_PIPELINED);
        oe_ram_cs_delayed_registered &lt;= oe_ram_cs_delayed_registered1;
        oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
      end
    end
end
  
always @(posedge clock 1RESET_EDGE)
begin
  if(1RESET_VALUE)
    we_ram_cs_delayed &lt;= 1&apos;b0;
  else
    we_ram_cs_delayed &lt;= we_ram_cs &amp; !we_ram_cs_delayed;
end

generate
  if(PRIVATE_MEMORY==1)
    assign Sout_Rdata_ram =Sin_Rdata_ram;
  else if (BITSIZE_Sout_Rdata_ram &lt;= data_size)
    assign Sout_Rdata_ram = oe_ram_cs_delayed ? dout_a[BITSIZE_Sout_Rdata_ram-1:0] : Sin_Rdata_ram;
  else
    assign Sout_Rdata_ram = oe_ram_cs_delayed ? {{BITSIZE_Sout_Rdata_ram-data_size{1&apos;b0}}, dout_a} : Sin_Rdata_ram;
endgenerate

generate
  if(PRIVATE_MEMORY==1)
    assign Sout_DataRdy = Sin_DataRdy;
  else
    assign Sout_DataRdy = oe_ram_cs_delayed | Sin_DataRdy | we_ram_cs_delayed;
endgenerate

// Add assertion here
// psl default clock = (posedge clock);
// psl ERROR_SDS_data_ram_size: assert never {(BRAM_BITSIZE != in3 &amp;&amp; (sel_LOAD || sel_STORE)) || (BRAM_BITSIZE != proxy_in3 &amp;&amp; (proxy_sel_LOAD || proxy_sel_STORE))};
// psl ERROR_SDS_alignment: assert never {(((in2-address_space_begin) %(BRAM_BITSIZE/8) != 0) &amp;&amp; (sel_LOAD || sel_STORE)) || (((proxy_in2-address_space_begin) %(BRAM_BITSIZE/8) != 0) &amp;&amp; (proxy_sel_LOAD || proxy_sel_STORE))};"
VHDL_PROVIDED=
"  function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
  begin
    if cond then
      return op1;
    else
      return op2;
    end if;
  end integer_ternary_operator;
  constant n_bytes           : integer := n_elements*(BRAM_BITSIZE/8);
  constant n_byte_on_databus : integer := BRAM_BITSIZE/8;
  constant n_mem_elements    : integer := n_bytes/(n_byte_on_databus) + integer_ternary_operator((n_bytes mod n_byte_on_databus) = 0, 0, 1);
  constant nbit_addr         : integer := integer_ternary_operator(BITSIZE_in2 &gt; BITSIZE_proxy_in2, BITSIZE_in2, BITSIZE_proxy_in2);
  constant nbit_read_addr    : integer := integer_ternary_operator(n_elements = 1, 1, integer(ceil(log2(real(n_elements)))));
  constant nbits_byte_offset : integer := integer_ternary_operator(n_byte_on_databus = 1, 0, integer(ceil(log2(real(n_byte_on_databus)))));

  constant nbits_address_space_rangesize  : integer := integer(ceil(log2(real(address_space_rangesize))));
  constant address_space_begin_u         : unsigned(nbit_addr-1 downto 0) := to_unsigned(address_space_begin, nbit_addr);
  signal memory_addr_a : std_logic_vector(nbit_read_addr-1 downto 0);
  signal memory_addr_a_mem : std_logic_vector(nbit_read_addr-1 downto 0);
  signal memory_addr_a1 : std_logic_vector(nbit_read_addr-1 downto 0) 1INIT_ZERO_VALUE;

  signal bram_write : std_logic;
  signal bram_write_mem : std_logic;
  signal bram_write1 : std_logic 1INIT_ZERO_VALUEb;

  signal dout_a : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;
  signal dout_a_registered : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;
  signal cs, oe_ram_cs, we_ram_cs: std_logic;
  signal we_ram_cs_delayed : std_logic 1INIT_ZERO_VALUEb;
  signal oe_ram_cs_delayed : std_logic 1INIT_ZERO_VALUEb;
  signal oe_ram_cs_delayed_registered : std_logic 1INIT_ZERO_VALUEb;
  signal oe_ram_cs_delayed_registered1 : std_logic 1INIT_ZERO_VALUEb;

  signal relative_addr : std_logic_vector(nbit_addr-1 downto 0);
  signal tmp_addr : std_logic_vector(nbit_addr-1 downto 0);
  signal din_a : std_logic_vector(data_size-1 downto 0);
  signal din_a_mem : std_logic_vector(data_size-1 downto 0);
  signal din_a1 : std_logic_vector(data_size-1 downto 0) 1INIT_ZERO_VALUE;

  type mem_type is array (n_elements-1 downto 0) of std_logic_vector(data_size-1 downto 0);

  impure function InitMemFromFile (MemFileName : in string) return mem_type is
    FILE memfile : text open READ_MODE is MemFileName;
    variable MemFileLine : line;
    variable mem : mem_type;
    begin
       for i in 0 to n_elements-1 loop
        readline(memfile, MemFileLine);
        read(MemFileLine, mem(i));
      end loop;
      return mem;
  end function;

  signal mem : mem_type := InitMemFromFile(MEMORY_INIT_file);

begin

  din_a &lt;= std_logic_vector(resize(unsigned(proxy_in1), data_size))  when (proxy_sel_STORE = &apos;1&apos;) else std_logic_vector(resize(unsigned(in1), data_size)) when  (sel_STORE = &apos;1&apos;) else std_logic_vector(resize(unsigned(S_Wdata_ram), data_size));
  bram_write &lt;= sel_STORE or proxy_sel_STORE or we_ram_cs;

  DelayProcess : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
       if(HIGH_LATENCY=2) then
         memory_addr_a1 &lt;= memory_addr_a;
         bram_write1 &lt;= bram_write;
         din_a1 &lt;= din_a;
       end if;
    end if;
  end process;

  memory_addr_a_mem &lt;= memory_addr_a1 when (HIGH_LATENCY=2) else memory_addr_a;
  bram_write_mem &lt;= bram_write1 when (HIGH_LATENCY=2) else bram_write;
  din_a_mem &lt;= din_a1 when (HIGH_LATENCY=2) else din_a;

  L1_single_write : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
      if(bram_write_mem='1') then
-- synthesis translate_off
        if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
          mem(to_integer(unsigned(memory_addr_a_mem))) &lt;= din_a_mem;
-- synthesis translate_off
        end if;
-- synthesis translate_on
      end if;
    end if;
  end process;

  L1_single_read : process(clock)
  begin
    if (clock&apos;event and clock=&apos;1&apos;) then
      if(HIGH_LATENCY=0) then
-- synthesis translate_off
        if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
          dout_a &lt;= mem(to_integer(unsigned(memory_addr_a_mem)));
-- synthesis translate_off
        else
          dout_a &lt;= (others =&gt; &apos;X&apos;);
        end if;
-- synthesis translate_on
      else
-- synthesis translate_off
        if (to_integer(unsigned(memory_addr_a_mem)) &lt; n_mem_elements) then
-- synthesis translate_on
         dout_a_registered &lt;= mem(to_integer(unsigned(memory_addr_a_mem)));
-- synthesis translate_off
        else
          dout_a_registered &lt;= (others =&gt; &apos;X&apos;);
        end if;
-- synthesis translate_on
         dout_a &lt;= dout_a_registered;
       end if;
    end if;
  end process;

  tmp_addr &lt;= proxy_in2 when ((proxy_sel_LOAD or proxy_sel_STORE)=&apos;1&apos;) else in2;

  L3 : process(S_addr_ram)
  begin
    if(PRIVATE_MEMORY = 0 and USE_SPARSE_MEMORY = 0) then
       if(to_integer(unsigned(S_addr_ram)) &gt;= (address_space_begin)) and (to_integer(unsigned(S_addr_ram)) &lt; (address_space_begin+address_space_rangesize)) then
          cs &lt;= &apos;1&apos;;
       else
          cs &lt;= &apos;0&apos;;
       end if;
    else
       if(PRIVATE_MEMORY=0) then
          if S_addr_ram(nbit_addr-1 downto nbits_address_space_rangesize) = std_logic_vector(address_space_begin_u(nbit_addr-1 downto nbits_address_space_rangesize)) then
             cs &lt;= &apos;1&apos;;
          else
             cs &lt;= &apos;0&apos;;
          end if;
       else
          cs &lt;= &apos;0&apos;;
       end if;
    end if;
  end process;
  
  oe_ram_cs &lt;= S_oe_ram and cs;
  we_ram_cs &lt;= S_we_ram and cs;

  L6 : process(sel_STORE, proxy_sel_STORE, sel_LOAD, proxy_sel_LOAD, tmp_addr, S_addr_ram)
  begin
      if(PRIVATE_MEMORY=0 and USE_SPARSE_MEMORY=0) then
         if(sel_STORE = &apos;1&apos; or sel_LOAD = &apos;1&apos; or proxy_sel_STORE = &apos;1&apos; or proxy_sel_LOAD = &apos;1&apos;) then
            relative_addr &lt;= std_logic_vector(unsigned(tmp_addr)-(to_unsigned(address_space_begin, nbit_addr)));
         else
            relative_addr &lt;= std_logic_vector(unsigned(S_addr_ram) - (to_unsigned(address_space_begin, nbit_addr)));
         end if;
      else
         if(PRIVATE_MEMORY=0) then
            if(sel_STORE = &apos;1&apos; or sel_LOAD = &apos;1&apos; or proxy_sel_STORE = &apos;1&apos; or proxy_sel_LOAD = &apos;1&apos;) then
               relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            else
               relative_addr &lt;= std_logic_vector(resize(unsigned(S_addr_ram(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            end if;
         else
            if(USE_SPARSE_MEMORY=1) then
               relative_addr &lt;= std_logic_vector(resize(unsigned(tmp_addr(nbits_address_space_rangesize-1 downto 0)), nbit_addr));
            else
               relative_addr &lt;= std_logic_vector(unsigned(tmp_addr) - to_unsigned(address_space_begin, nbit_addr));
            end if;
         end if;
      end if;
   end process;

   L7_A : process(relative_addr)
   begin
      if (n_mem_elements=1) then
         memory_addr_a &lt;= (others =&gt; &apos;0&apos;);
      elsif (n_byte_on_databus=1) then
         memory_addr_a &lt;= relative_addr(nbit_read_addr-1 downto 0);
      else
         memory_addr_a &lt;= relative_addr(nbit_read_addr+nbits_byte_offset-1 downto nbits_byte_offset);
      end if;
   end process;

   out1 &lt;= std_logic_vector(resize(unsigned(dout_a), BITSIZE_out1));
   proxy_out1 &lt;= std_logic_vector(resize(unsigned(dout_a), BITSIZE_proxy_out1));

   L16 : process(reset, clock)
   begin
      if(1RESET_VALUE) then
         oe_ram_cs_delayed &lt;= &apos;0&apos;;
         if(HIGH_LATENCY /= 0) then
            oe_ram_cs_delayed_registered &lt;= &apos;0&apos;;
         end if;
         if(HIGH_LATENCY = 2) then
            oe_ram_cs_delayed_registered1 &lt;= &apos;0&apos;;
         end if;
      else
         if (clock&apos;event and clock = &apos;1&apos;) then
            if(HIGH_LATENCY = 0) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed &lt;= oe_ram_cs and (not oe_ram_cs_delayed);
               end if;
            elsif(HIGH_LATENCY = 1) then
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed_registered &lt;= oe_ram_cs and ((not oe_ram_cs_delayed_registered and not oe_ram_cs_delayed));
               end if;
               oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
            else
               if(BUS_PIPELINED /= 0) then
                  oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs;
               else
                  oe_ram_cs_delayed_registered1 &lt;= oe_ram_cs and ((not oe_ram_cs_delayed_registered1 and not oe_ram_cs_delayed_registered and not oe_ram_cs_delayed));
               end if;
               oe_ram_cs_delayed_registered &lt;= oe_ram_cs_delayed_registered1;
               oe_ram_cs_delayed &lt;= oe_ram_cs_delayed_registered;
            end if;
         end if;
      end if;
   end process;

   process(clock, reset)
   begin
      if(1RESET_VALUE) then
         we_ram_cs_delayed &lt;= &apos;0&apos;;
      else
         if (clock&apos;event and clock = &apos;1&apos;) then
            we_ram_cs_delayed &lt;= we_ram_cs and not we_ram_cs_delayed;
         end if;
      end if;
   end process;

   L18 : process(Sin_Rdata_ram, dout_a, oe_ram_cs_delayed)
   begin
      if(PRIVATE_MEMORY=1) then
         Sout_Rdata_ram(BITSIZE_Sout_Rdata_ram-1 downto 0) &lt;= Sin_Rdata_ram(BITSIZE_Sin_Rdata_ram-1 downto 0);
      else
         if (BITSIZE_Sout_Rdata_ram &lt;= data_size) then
            if(oe_ram_cs_delayed /= &apos;0&apos;) then
               Sout_Rdata_ram &lt;= dout_a(BITSIZE_Sout_Rdata_ram-1 downto 0);
            else
               Sout_Rdata_ram &lt;= Sin_Rdata_ram;
            end if;
         else
            if(oe_ram_cs_delayed /= &apos;0&apos;) then
               Sout_Rdata_ram &lt;= std_logic_vector(resize(unsigned(dout_a), BITSIZE_Sout_Rdata_ram));
            else
               Sout_Rdata_ram &lt;= Sin_Rdata_ram;
            end if;
         end if;
      end if;
   end process;

   L19 : process(oe_ram_cs_delayed, Sin_DataRdy, we_ram_cs_delayed)
   begin
      if(PRIVATE_MEMORY=0) then
         Sout_DataRdy &lt;= oe_ram_cs_delayed or Sin_DataRdy or we_ram_cs_delayed;
      else
         Sout_DataRdy &lt;= Sin_DataRdy;
      end if;
   end process;
" 
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_SDS_BASE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_SDS_BASE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_SDS_BASE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_SDS_BASE in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY READ_ONLY_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = BRAM_BITSIZE/8;
parameter n_bytes = n_elements*n_byte_data;
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
parameter nbit_addr = BITSIZE_in2 &gt; BITSIZE_proxy_in2 ? BITSIZE_in2 : BITSIZE_proxy_in2;
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : $clog2(n_byte_on_databus);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : log2(n_byte_on_databus);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE;
parameter max_n_reads = PORTSIZE_sel_LOAD;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;
wire [max_n_writes-1:0] bram_write_temp;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a_temp;

wire [data_size*max_n_writes-1:0] din_value_aggregated;
wire [data_size*max_n_writes-1:0] din_value_aggregated_temp;
reg [data_size*max_n_reads-1:0] dout_a 1INIT_ZERO_VALUE;
reg [data_size*max_n_reads-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered_0 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered_1 1INIT_ZERO_VALUE;
wire [nbit_addr*max_n_rw-1:0] tmp_addr;
wire [nbit_addr*max_n_rw-1:0] relative_addr;
integer index2;

reg [data_size-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    (* syn_keep=1 *)reg [nbit_read_addr*max_n_rw-1:0] memory_addr_a_reg 1INIT_ZERO_VALUE;
    (* syn_keep=1 *)reg [data_size*max_n_writes-1:0] din_value_aggregated_reg 1INIT_ZERO_VALUE;
    (* syn_keep=1 *)reg [max_n_writes-1:0] bram_write_reg 1INIT_ZERO_VALUE;
    always @ (posedge clock)
    begin
       memory_addr_a_reg &lt;= memory_addr_a;
       bram_write_reg &lt;= bram_write;
       din_value_aggregated_reg &lt;= din_value_aggregated;
    end
    assign memory_addr_a_temp = memory_addr_a_reg;
    assign bram_write_temp = bram_write_reg;
    assign din_value_aggregated_temp = din_value_aggregated_reg;
  end
  else
  begin
    assign memory_addr_a_temp = memory_addr_a;
    assign bram_write_temp = bram_write;
    assign din_value_aggregated_temp = din_value_aggregated;
  end
endgenerate

generate
genvar ind2;
for (ind2=0; ind2&lt;max_n_rw; ind2=ind2+1)
  begin : Lind2
    assign tmp_addr[(ind2+1)*nbit_addr-1:ind2*nbit_addr] = (proxy_sel_LOAD[ind2]||proxy_sel_STORE[ind2]) ? proxy_in2[(ind2+1)*BITSIZE_proxy_in2-1:ind2*BITSIZE_proxy_in2] : in2[(ind2+1)*BITSIZE_in2-1:ind2*BITSIZE_in2];
  end
endgenerate

generate
genvar i6;
  for (i6=0; i6&lt;max_n_rw; i6=i6+1)
  begin : L6
    if(USE_SPARSE_MEMORY==1)
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = tmp_addr[(i6+1)*nbit_addr-1:i6*nbit_addr];
    else
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = tmp_addr[(i6+1)*nbit_addr-1:i6*nbit_addr]-address_space_begin;
  end
endgenerate

generate
genvar i7;
  for (i7=0; i7&lt;max_n_rw; i7=i7+1)
  begin : L7_A
    if (n_mem_elements==1)
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = {nbit_read_addr{1&apos;b0}};
    else
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr];
  end
endgenerate

generate
genvar i14;
  for (i14=0; i14&lt;max_n_writes; i14=i14+1)
  begin : L14
    assign din_value_aggregated[(i14+1)*data_size-1:i14*data_size] = proxy_sel_STORE[i14] ? proxy_in1[(i14+1)*BITSIZE_proxy_in1-1:i14*BITSIZE_proxy_in1] : in1[(i14+1)*BITSIZE_in1-1:i14*BITSIZE_in1];
  end
endgenerate

generate
genvar i11, i12;
  if(n_mem_elements==1)
  begin : single_element
    always @(posedge clock)
    begin
      for (index2=0; index2&lt;max_n_reads; index2=index2+1)
      begin : L12_single_read
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*index2+:data_size] &lt;= memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]];
        end
        else
        begin
          dout_a_registered[data_size*index2+:data_size] &lt;= memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]];
          dout_a[data_size*index2+:data_size] &lt;= dout_a_registered[data_size*index2+:data_size];
        end
      end
      for (index2=0; index2&lt;max_n_writes; index2=index2+1)
      begin : L12_single_write
        if(READ_ONLY_MEMORY==0)
        begin
          if(bram_write_temp[index2])
            memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]] &lt;= din_value_aggregated_temp[data_size*index2+:data_size];
        end
      end
    end
  end
  else
  begin : multiple_elements
    if(max_n_rw ==2)
    begin
      always @(posedge clock)
      begin
        if(READ_ONLY_MEMORY==0)
        begin
          if(bram_write_temp[0])
            memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]] &lt;= din_value_aggregated_temp[data_size*0+:data_size];
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*(0+1)-1:data_size*0] &lt;= memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        end
        else
        begin
          dout_a_registered_0 &lt;= memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
          dout_a[data_size*(0+1)-1:data_size*0] &lt;= dout_a_registered_0;
        end
      end
      always @(posedge clock)
      begin
        if(READ_ONLY_MEMORY==0)
        begin
          if(bram_write_temp[1])
            memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]] &lt;= din_value_aggregated_temp[data_size*1+:data_size];
        end
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*(1+1)-1:data_size*1] &lt;= memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        end
        else
        begin
          dout_a_registered_1 &lt;= memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
          dout_a[data_size*(1+1)-1:data_size*1] &lt;= dout_a_registered_1;
        end
      end
    end
    else
    begin
      //not supported
    end
  end    
endgenerate

generate
genvar i21;
  for (i21=0; i21&lt;max_n_writes; i21=i21+1)
  begin : L21
      assign bram_write[i21] = sel_STORE[i21] || proxy_sel_STORE[i21];
  end
endgenerate

generate
genvar i20;
  for (i20=0; i20&lt;max_n_reads; i20=i20+1)
  begin : L20
    assign out1[(i20+1)*BITSIZE_out1-1:i20*BITSIZE_out1] = dout_a[(i20+1)*data_size-1:i20*data_size];
    assign proxy_out1[(i20+1)*BITSIZE_proxy_out1-1:i20*BITSIZE_proxy_out1] = dout_a[(i20+1)*data_size-1:i20*data_size];
  end
endgenerate
assign Sout_Rdata_ram =Sin_Rdata_ram;
assign Sout_DataRdy = Sin_DataRdy;"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>ARRAY_1D_STD_BRAM_NN_SDS_BUS_BASE</name>
      <circuit>
        <component_o id="ARRAY_1D_STD_BRAM_NN_SDS_BUS_BASE">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="ARRAY_1D_STD_BRAM_NN_SDS_BUS_BASE"/>
          <parameter name="MEMORY_INIT_file">&quot;&quot;array.mem&quot;&quot;</parameter>
          <parameter name="n_elements">1</parameter>
          <parameter name="data_size">32</parameter>
          <parameter name="address_space_begin">0</parameter>
          <parameter name="address_space_rangesize">4</parameter>
          <parameter name="BUS_PIPELINED">1</parameter>
          <parameter name="BRAM_BITSIZE">32</parameter>
          <parameter name="PRIVATE_MEMORY">0</parameter>
          <parameter name="READ_ONLY_MEMORY">0</parameter>
          <parameter name="USE_SPARSE_MEMORY">1</parameter>
          <parameter name="HIGH_LATENCY">0</parameter>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            arrary address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            size of the element loaded or stored
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data returned by a LOAD operation
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_oe_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_we_ram" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_addr_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_Wdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_Rdata_ram" dir="IN" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_Rdata_ram" dir="OUT" is_memory="1" is_slave="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="S_data_ram_size" dir="IN" is_memory="1" is_global="1" is_extern="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sin_DataRdy" dir="IN" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Sout_DataRdy" dir="OUT" is_memory="1" is_slave="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_in1" dir="IN" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="proxy_out1" dir="OUT" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="ARRAY_1D_STD_BRAM_NN_SDS_BUS_BASE in1 in2 in3 sel_LOAD sel_STORE S_oe_ram S_we_ram out1 S_addr_ram S_Wdata_ram  Sin_Rdata_ram Sout_Rdata_ram S_data_ram_size Sin_DataRdy Sout_DataRdy MEMORY_INIT_file n_elements data_size address_space_begin address_space_rangesize BUS_PIPELINED BRAM_BITSIZE PRIVATE_MEMORY USE_SPARSE_MEMORY HIGH_LATENCY proxy_in1 proxy_in2 proxy_in3 proxy_sel_LOAD proxy_sel_STORE proxy_out1" VERILOG_PROVIDED="
`ifndef _SIM_HAVE_CLOG2
  function integer log2;
     input integer value;
     integer temp_value;
    begin
      temp_value = value-1;
      for (log2=0; temp_value&gt;0; log2=log2+1)
        temp_value = temp_value&gt;&gt;1;
    end
  endfunction
`endif
parameter n_byte_data = BRAM_BITSIZE/8;
parameter n_bytes = n_elements*n_byte_data;
parameter n_byte_on_databus = BRAM_BITSIZE/8;
parameter n_mem_elements = n_bytes/(n_byte_on_databus) + (n_bytes%(n_byte_on_databus) == 0 ? 0 : 1);
parameter nbit_addr = BITSIZE_in2 &gt; BITSIZE_proxy_in2 ? BITSIZE_in2 : BITSIZE_proxy_in2;
`ifdef _SIM_HAVE_CLOG2
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : $clog2(n_mem_elements);
  parameter nbits_address_space_rangesize = $clog2(address_space_rangesize);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : $clog2(n_byte_on_databus);
`else
  parameter nbit_read_addr = n_mem_elements == 1 ? 1 : log2(n_mem_elements);
  parameter nbits_address_space_rangesize = log2(address_space_rangesize);
  parameter nbits_byte_offset = n_byte_on_databus==1 ? 0 : log2(n_byte_on_databus);
`endif
parameter max_n_writes = PORTSIZE_sel_STORE;
parameter max_n_reads = PORTSIZE_sel_LOAD;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;

wire [max_n_writes-1:0] bram_write;
wire [max_n_writes-1:0] bram_write_temp;

wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a;
wire [nbit_read_addr*max_n_rw-1:0] memory_addr_a_temp;

wire [PORTSIZE_S_addr_ram-1:0] cs;
wire [PORTSIZE_S_oe_ram-1:0] oe_ram_cs;
wire [PORTSIZE_S_we_ram-1:0] we_ram_cs;
wire [data_size*PORTSIZE_S_Wdata_ram-1:0] S_Wdata_ram_int;
wire [data_size*max_n_writes-1:0] din_value_aggregated;
wire [data_size*max_n_writes-1:0] din_value_aggregated_temp;
reg [data_size*max_n_reads-1:0] dout_a 1INIT_ZERO_VALUE;
reg [data_size*max_n_reads-1:0] dout_a_registered 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered_0 1INIT_ZERO_VALUE;
reg [data_size-1:0] dout_a_registered_1 1INIT_ZERO_VALUE;
wire [nbit_addr*max_n_rw-1:0] tmp_addr;
wire [nbit_addr*max_n_rw-1:0] relative_addr;
integer index2;
reg [PORTSIZE_S_we_ram-1:0] we_ram_cs_delayed 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed_registered 1INIT_ZERO_VALUE;
reg [PORTSIZE_S_oe_ram-1:0] oe_ram_cs_delayed_registered1 1INIT_ZERO_VALUE;

reg [data_size-1:0] memory [0:n_mem_elements-1] /* synthesis syn_ramstyle = &quot;no_rw_check&quot; */;

initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_mem_elements-1);
end

generate
  if(HIGH_LATENCY==2)
  begin
    (* syn_keep=1 *)reg [nbit_read_addr*max_n_rw-1:0] memory_addr_a_reg 1INIT_ZERO_VALUE;
    (* syn_keep=1 *)reg [data_size*max_n_writes-1:0] din_value_aggregated_reg 1INIT_ZERO_VALUE;
    (* syn_keep=1 *)reg [max_n_writes-1:0] bram_write_reg 1INIT_ZERO_VALUE;
    always @ (posedge clock)
    begin
       memory_addr_a_reg &lt;= memory_addr_a;
       bram_write_reg &lt;= bram_write;
       din_value_aggregated_reg &lt;= din_value_aggregated;
    end
    assign memory_addr_a_temp = memory_addr_a_reg;
    assign bram_write_temp = bram_write_reg;
    assign din_value_aggregated_temp = din_value_aggregated_reg;
  end
  else
  begin
    assign memory_addr_a_temp = memory_addr_a;
    assign bram_write_temp = bram_write;
    assign din_value_aggregated_temp = din_value_aggregated;
  end
endgenerate

generate
genvar ind2;
for (ind2=0; ind2&lt;max_n_rw; ind2=ind2+1)
  begin : Lind2
    assign tmp_addr[(ind2+1)*nbit_addr-1:ind2*nbit_addr] = (proxy_sel_LOAD[ind2]||proxy_sel_STORE[ind2]) ? proxy_in2[(ind2+1)*BITSIZE_proxy_in2-1:ind2*BITSIZE_proxy_in2] : in2[(ind2+1)*BITSIZE_in2-1:ind2*BITSIZE_in2];
  end
endgenerate

generate
genvar i3;
  for (i3=0; i3&lt;PORTSIZE_S_addr_ram; i3=i3+1)
  begin : L3
    if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0)
      assign cs[i3] = (S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram] &gt;= (address_space_begin)) &amp;&amp; (S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram] &lt; (address_space_begin+address_space_rangesize));
    else if(PRIVATE_MEMORY==0)
      assign cs[i3] = S_addr_ram[(i3+1)*BITSIZE_S_addr_ram-1:i3*BITSIZE_S_addr_ram+nbits_address_space_rangesize] == address_space_begin[nbit_addr-1:nbits_address_space_rangesize];
    else
      assign cs[i3] = 1&apos;b0;
  end
endgenerate

generate
genvar i4;
  for (i4=0; i4&lt;PORTSIZE_S_oe_ram; i4=i4+1)
  begin : L4
    assign oe_ram_cs[i4] = S_oe_ram[i4] &amp; cs[i4];
  end
endgenerate

generate
genvar i5;
  for (i5=0; i5&lt;PORTSIZE_S_we_ram; i5=i5+1)
  begin : L5
    assign we_ram_cs[i5] = S_we_ram[i5] &amp; cs[i5];
  end
endgenerate

generate
genvar i6;
  for (i6=0; i6&lt;max_n_rw; i6=i6+1)
  begin : L6
    if(PRIVATE_MEMORY==0 &amp;&amp; USE_SPARSE_MEMORY==0 &amp;&amp; i6&lt; PORTSIZE_S_addr_ram)
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = ((i6 &lt; max_n_writes &amp;&amp; (sel_STORE[i6]==1&apos;b1 || proxy_sel_STORE[i6]==1&apos;b1)) || (i6 &lt; max_n_reads &amp;&amp; (sel_LOAD[i6]==1&apos;b1 || proxy_sel_LOAD[i6]==1&apos;b1))) ? tmp_addr[(i6+1)*BITSIZE_in2-1:i6*BITSIZE_in2]-address_space_begin: S_addr_ram[(i6+1)*BITSIZE_S_addr_ram-1:i6*BITSIZE_S_addr_ram]-address_space_begin;
    else if(PRIVATE_MEMORY==0 &amp;&amp; i6&lt; PORTSIZE_S_addr_ram)
      assign relative_addr[(i6)*nbit_addr+nbits_address_space_rangesize-1:i6*nbit_addr] = ((i6 &lt; max_n_writes &amp;&amp; (sel_STORE[i6]==1&apos;b1 || proxy_sel_STORE[i6]==1&apos;b1)) || (i6 &lt; max_n_reads &amp;&amp; (sel_LOAD[i6]==1&apos;b1 || proxy_sel_LOAD[i6]==1&apos;b1))) ? tmp_addr[(i6)*BITSIZE_in2+nbits_address_space_rangesize-1:i6*BITSIZE_in2] : S_addr_ram[(i6)*BITSIZE_S_addr_ram+nbits_address_space_rangesize-1:i6*BITSIZE_S_addr_ram];
    else if(USE_SPARSE_MEMORY==1)
      assign relative_addr[(i6)*nbit_addr+nbits_address_space_rangesize-1:i6*nbit_addr] = tmp_addr[(i6)*BITSIZE_in2+nbits_address_space_rangesize-1:i6*BITSIZE_in2];
    else
      assign relative_addr[(i6+1)*nbit_addr-1:i6*nbit_addr] = tmp_addr[(i6+1)*BITSIZE_in2-1:i6*BITSIZE_in2]-address_space_begin;
  end
endgenerate

generate
genvar i7;
  for (i7=0; i7&lt;max_n_rw; i7=i7+1)
  begin : L7_A
    if (n_mem_elements==1)
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = {nbit_read_addr{1&apos;b0}};
    else
      assign memory_addr_a[(i7+1)*nbit_read_addr-1:i7*nbit_read_addr] = relative_addr[nbit_read_addr+nbits_byte_offset-1+i7*nbit_addr:nbits_byte_offset+i7*nbit_addr];
  end
endgenerate
  
generate
genvar i13;
  for (i13=0; i13&lt;PORTSIZE_S_Wdata_ram; i13=i13+1)
  begin : L13
    if (BITSIZE_S_Wdata_ram &lt; data_size)
      assign S_Wdata_ram_int[data_size*(i13+1)-1:data_size*i13] = {{data_size-BITSIZE_S_Wdata_ram{1&apos;b0}}, S_Wdata_ram[(i13+1)*BITSIZE_S_Wdata_ram-1:BITSIZE_S_Wdata_ram*i13]};
    else
      assign S_Wdata_ram_int[data_size*(i13+1)-1:data_size*i13] = S_Wdata_ram[data_size+BITSIZE_S_Wdata_ram*i13-1:BITSIZE_S_Wdata_ram*i13];
  end
endgenerate

generate
genvar i14;
  for (i14=0; i14&lt;max_n_writes; i14=i14+1)
  begin : L14
    if(PRIVATE_MEMORY==0 &amp;&amp; i14 &lt; PORTSIZE_S_Wdata_ram)
      assign din_value_aggregated[(i14+1)*data_size-1:i14*data_size] = proxy_sel_STORE[i14] ? proxy_in1[(i14+1)*BITSIZE_proxy_in1-1:i14*BITSIZE_proxy_in1] : (sel_STORE[i14] ? in1[(i14+1)*BITSIZE_in1-1:i14*BITSIZE_in1] : S_Wdata_ram_int[data_size*(i14+1)-1:data_size*i14]);
    else
      assign din_value_aggregated[(i14+1)*data_size-1:i14*data_size] = proxy_sel_STORE[i14] ? proxy_in1[(i14+1)*BITSIZE_proxy_in1-1:i14*BITSIZE_proxy_in1] : in1[(i14+1)*BITSIZE_in1-1:i14*BITSIZE_in1];
  end
endgenerate

generate
genvar i11, i12;
  if(n_mem_elements==1)
  begin : single_element
    always @(posedge clock)
    begin
      for (index2=0; index2&lt;max_n_reads; index2=index2+1)
      begin : L12_single_read
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*index2+:data_size] &lt;= memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]];
        end
        else
        begin
          dout_a_registered[data_size*index2+:data_size] &lt;= memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]];
          dout_a[data_size*index2+:data_size] &lt;= dout_a_registered[data_size*index2+:data_size];
        end
      end
      for (index2=0; index2&lt;max_n_writes; index2=index2+1)
      begin : L12_single_write
        if(bram_write_temp[index2])
        memory[memory_addr_a_temp[nbit_read_addr*index2+:nbit_read_addr]] &lt;= din_value_aggregated_temp[data_size*index2+:data_size];
      end
    end
  end
  else
  begin : multiple_elements
    if(max_n_rw ==2)
    begin
      always @(posedge clock)
      begin
        if(bram_write_temp[0])
          memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]] &lt;= din_value_aggregated_temp[data_size*0+:data_size];
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*(0+1)-1:data_size*0] &lt;= memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
        end
        else
        begin
          dout_a_registered_0 &lt;= memory[memory_addr_a_temp[nbit_read_addr*(0+1)-1:nbit_read_addr*0]];
          dout_a[data_size*(0+1)-1:data_size*0] &lt;= dout_a_registered_0;
        end
      end
      always @(posedge clock)
      begin
        if(bram_write_temp[1])
          memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]] &lt;= din_value_aggregated_temp[data_size*1+:data_size];
        if(HIGH_LATENCY==0)
        begin
          dout_a[data_size*(1+1)-1:data_size*1] &lt;= memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
        end
        else
        begin
          dout_a_registered_1 &lt;= memory[memory_addr_a_temp[nbit_read_addr*(1+1)-1:nbit_read_addr*1]];
          dout_a[data_size*(1+1)-1:data_size*1] &lt;= dout_a_registered_1;
        end
      end
    end
    else
    begin
      //not supported
    end
  end    
endgenerate
  
generate
genvar i20;
  for (i20=0; i20&lt;max_n_reads; i20=i20+1)
  begin : L20
    assign out1[(i20+1)*BITSIZE_out1-1:i20*BITSIZE_out1] = dout_a[(i20+1)*data_size-1:i20*data_size];
    assign proxy_out1[(i20+1)*BITSIZE_proxy_out1-1:i20*BITSIZE_proxy_out1] = dout_a[(i20+1)*data_size-1:i20*data_size];
  end
endgenerate

generate
genvar i16;
  for (i16=0; i16&lt;PORTSIZE_S_oe_ram; i16=i16+1)
  begin : L16
    always @(posedge clock 1RESET_EDGE)
    begin
      if(1RESET_VALUE)
        begin
          oe_ram_cs_delayed[i16] &lt;= 1&apos;b0;
          if(HIGH_LATENCY!=0) oe_ram_cs_delayed_registered[i16] &lt;= 1&apos;b0;
          if(HIGH_LATENCY == 2) oe_ram_cs_delayed_registered1[i16] &lt;= 1&apos;b0;
        end
      else
        begin
          if(HIGH_LATENCY==0)
            oe_ram_cs_delayed[i16] &lt;= oe_ram_cs[i16] &amp; (!oe_ram_cs_delayed[i16] | BUS_PIPELINED);
          else if(HIGH_LATENCY==1)
          begin
            oe_ram_cs_delayed_registered[i16] &lt;= oe_ram_cs[i16] &amp; ((!oe_ram_cs_delayed_registered[i16] &amp; !oe_ram_cs_delayed[i16]) | BUS_PIPELINED);
            oe_ram_cs_delayed[i16] &lt;= oe_ram_cs_delayed_registered[i16];
          end
          else
          begin
            oe_ram_cs_delayed_registered1[i16] &lt;= oe_ram_cs[i16] &amp; ((!oe_ram_cs_delayed_registered1[i16] &amp; !oe_ram_cs_delayed_registered[i16]) | BUS_PIPELINED);
            oe_ram_cs_delayed_registered[i16] &lt;= oe_ram_cs_delayed_registered1[i16];
            oe_ram_cs_delayed[i16] &lt;= oe_ram_cs_delayed_registered[i16];
          end
        end
    end
  end
endgenerate

generate
genvar i17;
  for (i17=0; i17&lt;PORTSIZE_S_we_ram; i17=i17+1)
  begin : L17
    always @(posedge clock 1RESET_EDGE)
    begin
      if(1RESET_VALUE)
        we_ram_cs_delayed[i17] &lt;= 1&apos;b0;
      else
        we_ram_cs_delayed[i17] &lt;= we_ram_cs[i17] &amp; !we_ram_cs_delayed[i17];
    end
  end
endgenerate

generate
genvar i18;
  for (i18=0; i18&lt;PORTSIZE_Sout_Rdata_ram; i18=i18+1)
  begin : L18
    if(PRIVATE_MEMORY==1)
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
    else if (BITSIZE_Sout_Rdata_ram &lt;= data_size)
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = oe_ram_cs_delayed[i18] ? dout_a[BITSIZE_Sout_Rdata_ram+i18*data_size-1:i18*data_size] : Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
    else
      assign Sout_Rdata_ram[(i18+1)*BITSIZE_Sout_Rdata_ram-1:i18*BITSIZE_Sout_Rdata_ram] = oe_ram_cs_delayed[i18] ? {{BITSIZE_S_Wdata_ram-data_size{1&apos;b0}}, dout_a[(i18+1)*data_size-1:i18*data_size]} : Sin_Rdata_ram[(i18+1)*BITSIZE_Sin_Rdata_ram-1:i18*BITSIZE_Sin_Rdata_ram];
  end
endgenerate

generate
genvar i19;
  for (i19=0; i19&lt;PORTSIZE_Sout_DataRdy; i19=i19+1)
  begin : L19
    if(PRIVATE_MEMORY==0)
      assign Sout_DataRdy[i19] = (i19 &lt; PORTSIZE_S_oe_ram &amp;&amp; oe_ram_cs_delayed[i19]) | Sin_DataRdy[i19] | (i19 &lt; PORTSIZE_S_we_ram &amp;&amp; we_ram_cs_delayed[i19]);
    else
      assign Sout_DataRdy[i19] = Sin_DataRdy[i19];
  end
endgenerate

generate
genvar i21;
  for (i21=0; i21&lt;max_n_writes; i21=i21+1)
  begin : L21
    if(i21 &lt; PORTSIZE_S_we_ram)
      assign bram_write[i21] = (sel_STORE[i21] || proxy_sel_STORE[i21] || we_ram_cs[i21]);
    else
      assign bram_write[i21] = (sel_STORE[i21] || proxy_sel_STORE[i21]);
  end
endgenerate"/>
        </component_o>
      </circuit>
    </cell>
  </library>
  <library>
    <name>STD_FU</name>
    <cell>
      <name>BMEMORY_CTRL</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="2"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>2</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRL">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRL"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate 
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BMEMORY_CTRL in1 in2 in3 out1 Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" VERILOG_PROVIDED="
wire  [BITSIZE_in2-1:0] tmp_addr;
wire int_sel_LOAD;
wire int_sel_STORE;
assign tmp_addr = in2;
assign Mout_addr_ram = (int_sel_LOAD || int_sel_STORE) ? tmp_addr : Min_addr_ram;
assign Mout_oe_ram = int_sel_LOAD ? 1&apos;b1 : Min_oe_ram;
assign Mout_we_ram = int_sel_STORE ? 1&apos;b1 : Min_we_ram;
assign out1 = M_Rdata_ram[BITSIZE_out1-1:0];
assign Mout_Wdata_ram = int_sel_STORE ? in1 : Min_Wdata_ram;
assign Mout_data_ram_size = int_sel_STORE || int_sel_LOAD ? in3[BITSIZE_in3-1:0] : Min_data_ram_size;
assign int_sel_LOAD = sel_LOAD &amp; in4;
assign int_sel_STORE = sel_STORE &amp; in4;
// Add assertion here
// psl default clock = (posedge clock);
// psl ERROR_LOAD_Min_oe_ram: assert never {sel_LOAD &amp;&amp; Min_oe_ram};
// psl ERROR_STORE_Min_we_ram: assert never {sel_STORE &amp;&amp; Min_we_ram};
// psl ERROR_STORE_LOAD: assert never {sel_STORE &amp;&amp; sel_LOAD};"
 VHDL_PROVIDED=
"
  signal tmp_addr : std_logic_vector(BITSIZE_in2-1 downto 0);
  signal int_sel_LOAD : std_logic;
  signal int_sel_STORE : std_logic;

begin
  tmp_addr &lt;= in2;
  Mout_addr_ram &lt;=  tmp_addr when ((int_sel_LOAD or int_sel_STORE) = &apos;1&apos;) else Min_addr_ram;
  Mout_oe_ram  &lt;= &apos;1&apos; when (int_sel_LOAD = &apos;1&apos;) else  Min_oe_ram;
  Mout_we_ram  &lt;= &apos;1&apos; when (int_sel_STORE = &apos;1&apos;) else  Min_we_ram;
  out1  &lt;= M_Rdata_ram(BITSIZE_out1-1 downto 0);
  Mout_Wdata_ram  &lt;= std_logic_vector(resize(unsigned(in1), BITSIZE_Mout_Wdata_ram)) when (int_sel_STORE = &apos;1&apos;) else Min_Wdata_ram;
  Mout_data_ram_size &lt;= in3(BITSIZE_in3-1 downto 0) when ((int_sel_STORE or int_sel_LOAD) = &apos;1&apos;) else Min_data_ram_size;
  int_sel_LOAD &lt;= sel_LOAD and in4;
  int_sel_STORE &lt;= sel_STORE and in4;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BMEMORY_CTRL_3</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="3"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>3</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM_3</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRL_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRL_3"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BMEMORY_CTRL_3 in1 in2 in3 out1 Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" IP_COMPONENT="BMEMORY_CTRL" VERILOG_PROVIDED="BMEMORY_CTRL #(.BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_Min_addr_ram(BITSIZE_Min_addr_ram), .BITSIZE_Mout_addr_ram(BITSIZE_Mout_addr_ram), .BITSIZE_M_Rdata_ram(BITSIZE_M_Rdata_ram), .BITSIZE_Min_Wdata_ram(BITSIZE_Min_Wdata_ram), .BITSIZE_Mout_Wdata_ram(BITSIZE_Mout_Wdata_ram), .BITSIZE_Min_data_ram_size(BITSIZE_Min_data_ram_size), .BITSIZE_Mout_data_ram_size(BITSIZE_Mout_data_ram_size)) BMEMORY_CTRL_i (.out1(out1), .Mout_oe_ram(Mout_oe_ram), .Mout_we_ram(Mout_we_ram), .Mout_addr_ram(Mout_addr_ram), .Mout_Wdata_ram(Mout_Wdata_ram), .Mout_data_ram_size(Mout_data_ram_size), .clock(clock), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .Min_oe_ram(Min_oe_ram), .Min_we_ram(Min_we_ram), .Min_addr_ram(Min_addr_ram), .M_Rdata_ram(M_Rdata_ram), .Min_Wdata_ram(Min_Wdata_ram), .Min_data_ram_size(Min_data_ram_size), .M_DataRdy(M_DataRdy));"  VHDL_PROVIDED="
begin
  BMEMORY_CTRL_i0 : BMEMORY_CTRL generic map(BITSIZE_in1=>BITSIZE_in1, BITSIZE_in2=>BITSIZE_in2, BITSIZE_in3=>BITSIZE_in3, BITSIZE_out1=>BITSIZE_out1, BITSIZE_Min_addr_ram=>BITSIZE_Min_addr_ram, BITSIZE_Mout_addr_ram=>BITSIZE_Mout_addr_ram, BITSIZE_M_Rdata_ram=>BITSIZE_M_Rdata_ram, BITSIZE_Min_Wdata_ram=>BITSIZE_Min_Wdata_ram, BITSIZE_Mout_Wdata_ram=>BITSIZE_Mout_Wdata_ram, BITSIZE_Min_data_ram_size=>BITSIZE_Min_data_ram_size, BITSIZE_Mout_data_ram_size=>BITSIZE_Mout_data_ram_size) port map (out1 => out1, Mout_oe_ram => Mout_oe_ram, Mout_we_ram => Mout_we_ram, Mout_addr_ram => Mout_addr_ram, Mout_Wdata_ram => Mout_Wdata_ram, Mout_data_ram_size => Mout_data_ram_size, clock => clock, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, Min_oe_ram => Min_oe_ram, Min_we_ram => Min_we_ram, Min_addr_ram => Min_addr_ram, M_Rdata_ram => M_Rdata_ram, Min_Wdata_ram => Min_Wdata_ram, Min_data_ram_size => Min_data_ram_size, M_DataRdy => M_DataRdy);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BMEMORY_CTRL_4</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="4"/>
      <operation operation_name="STORE" initiation_time="1" cycles="2"/>
      <channels_type>MEM_ACC_11,MEM_ACC_N1</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>4</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM_4</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRL_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRL_4"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_o>
          <port_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_o>
          <port_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_o>
          <port_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_o>
          <port_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="BMEMORY_CTRL_4 in1 in2 in3 out1 Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" IP_COMPONENT="BMEMORY_CTRL" VERILOG_PROVIDED="BMEMORY_CTRL #(.BITSIZE_in1(BITSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .BITSIZE_out1(BITSIZE_out1), .BITSIZE_Min_addr_ram(BITSIZE_Min_addr_ram), .BITSIZE_Mout_addr_ram(BITSIZE_Mout_addr_ram), .BITSIZE_M_Rdata_ram(BITSIZE_M_Rdata_ram), .BITSIZE_Min_Wdata_ram(BITSIZE_Min_Wdata_ram), .BITSIZE_Mout_Wdata_ram(BITSIZE_Mout_Wdata_ram), .BITSIZE_Min_data_ram_size(BITSIZE_Min_data_ram_size), .BITSIZE_Mout_data_ram_size(BITSIZE_Mout_data_ram_size)) BMEMORY_CTRL_i (.out1(out1), .Mout_oe_ram(Mout_oe_ram), .Mout_we_ram(Mout_we_ram), .Mout_addr_ram(Mout_addr_ram), .Mout_Wdata_ram(Mout_Wdata_ram), .Mout_data_ram_size(Mout_data_ram_size), .clock(clock), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .Min_oe_ram(Min_oe_ram), .Min_we_ram(Min_we_ram), .Min_addr_ram(Min_addr_ram), .M_Rdata_ram(M_Rdata_ram), .Min_Wdata_ram(Min_Wdata_ram), .Min_data_ram_size(Min_data_ram_size), .M_DataRdy(M_DataRdy));"  VHDL_PROVIDED="
begin
  BMEMORY_CTRL_i0 : BMEMORY_CTRL generic map(BITSIZE_in1=>BITSIZE_in1, BITSIZE_in2=>BITSIZE_in2, BITSIZE_in3=>BITSIZE_in3, BITSIZE_out1=>BITSIZE_out1, BITSIZE_Min_addr_ram=>BITSIZE_Min_addr_ram, BITSIZE_Mout_addr_ram=>BITSIZE_Mout_addr_ram, BITSIZE_M_Rdata_ram=>BITSIZE_M_Rdata_ram, BITSIZE_Min_Wdata_ram=>BITSIZE_Min_Wdata_ram, BITSIZE_Mout_Wdata_ram=>BITSIZE_Mout_Wdata_ram, BITSIZE_Min_data_ram_size=>BITSIZE_Min_data_ram_size, BITSIZE_Mout_data_ram_size=>BITSIZE_Mout_data_ram_size) port map (out1 => out1, Mout_oe_ram => Mout_oe_ram, Mout_we_ram => Mout_we_ram, Mout_addr_ram => Mout_addr_ram, Mout_Wdata_ram => Mout_Wdata_ram, Mout_data_ram_size => Mout_data_ram_size, clock => clock, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, Min_oe_ram => Min_oe_ram, Min_we_ram => Min_we_ram, Min_addr_ram => Min_addr_ram, M_Rdata_ram => M_Rdata_ram, Min_Wdata_ram => Min_Wdata_ram, Min_data_ram_size => Min_data_ram_size, M_DataRdy => M_DataRdy);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BMEMORY_CTRLN</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="2"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_NN</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>2</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM_NN</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRLN">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRLN"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate 
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BMEMORY_CTRLN in1 in2 in3 in4 sel_LOAD sel_STORE out1 Min_oe_ram Min_we_ram Mout_oe_ram Mout_we_ram M_DataRdy Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" VERILOG_PROVIDED="
parameter max_n_writes = PORTSIZE_sel_STORE &gt; PORTSIZE_Mout_we_ram ? PORTSIZE_sel_STORE : PORTSIZE_Mout_we_ram;
parameter max_n_reads = PORTSIZE_sel_LOAD &gt; PORTSIZE_Mout_oe_ram ? PORTSIZE_sel_STORE : PORTSIZE_Mout_oe_ram;
parameter max_n_rw = max_n_writes &gt; max_n_reads ? max_n_writes : max_n_reads;
wire  [(PORTSIZE_in2*BITSIZE_in2)-1:0] tmp_addr;
wire [PORTSIZE_sel_LOAD-1:0] int_sel_LOAD;
wire [PORTSIZE_sel_STORE-1:0] int_sel_STORE;
assign int_sel_LOAD = sel_LOAD &amp; in4;
assign int_sel_STORE = sel_STORE &amp; in4;
assign tmp_addr = in2;
generate
genvar i;
  for (i=0; i&lt;max_n_rw; i=i+1)
  begin : L0
    assign Mout_addr_ram[(i+1)*BITSIZE_Mout_addr_ram-1:i*BITSIZE_Mout_addr_ram] = ((i &lt; PORTSIZE_sel_LOAD &amp;&amp; int_sel_LOAD[i]) || (i &lt; PORTSIZE_sel_STORE &amp;&amp; int_sel_STORE[i])) ? (tmp_addr[(i+1)*BITSIZE_in2-1:i*BITSIZE_in2]) : Min_addr_ram[(i+1)*BITSIZE_Min_addr_ram-1:i*BITSIZE_Min_addr_ram];
  end
  endgenerate
assign Mout_oe_ram = int_sel_LOAD | Min_oe_ram;
assign Mout_we_ram = int_sel_STORE | Min_we_ram;
generate
  for (i=0; i&lt;max_n_reads; i=i+1)
  begin : L1
    assign out1[(i+1)*BITSIZE_out1-1:i*BITSIZE_out1] = M_Rdata_ram[i*BITSIZE_M_Rdata_ram+BITSIZE_out1-1:i*BITSIZE_M_Rdata_ram];
end
endgenerate
generate
  for (i=0; i&lt;max_n_rw; i=i+1)
  begin : L2
    assign Mout_Wdata_ram[(i+1)*BITSIZE_Mout_Wdata_ram-1:i*BITSIZE_Mout_Wdata_ram] = int_sel_STORE[i] ? in1[(i+1)*BITSIZE_in1-1:i*BITSIZE_in1] : Min_Wdata_ram[(i+1)*BITSIZE_Min_Wdata_ram-1:i*BITSIZE_Min_Wdata_ram];
end
endgenerate
generate
  for (i=0; i&lt;max_n_rw; i=i+1)
  begin : L3
    assign Mout_data_ram_size[(i+1)*BITSIZE_Mout_data_ram_size-1:i*BITSIZE_Mout_data_ram_size] = ((i &lt; PORTSIZE_sel_LOAD &amp;&amp; int_sel_LOAD[i]) || (i &lt; PORTSIZE_sel_STORE &amp;&amp; int_sel_STORE[i])) ? (in3[(i+1)*BITSIZE_in3-1:i*BITSIZE_in3]) : Min_data_ram_size[(i+1)*BITSIZE_Min_data_ram_size-1:i*BITSIZE_Min_data_ram_size];
  end
  endgenerate
" VHDL_PROVIDED=
"  function integer_ternary_operator(cond : boolean; op1 : integer; op2 : integer) return integer is
  begin
    if cond then
      return op1;
    else
      return op2;
    end if;
  end integer_ternary_operator;

  constant max_n_writes : integer := integer_ternary_operator(PORTSIZE_sel_STORE &gt; PORTSIZE_Mout_we_ram, PORTSIZE_sel_STORE, PORTSIZE_Mout_we_ram);
  constant max_n_reads  : integer := integer_ternary_operator(PORTSIZE_sel_LOAD &gt; PORTSIZE_Mout_oe_ram, PORTSIZE_sel_STORE, PORTSIZE_Mout_oe_ram);
  constant max_n_rw     : integer := integer_ternary_operator(max_n_writes &gt; max_n_reads, max_n_writes, max_n_reads);

  signal tmp_addr : std_logic_vector((PORTSIZE_in2*BITSIZE_in2)-1 downto 0);
  signal int_sel_LOAD : std_logic_vector(PORTSIZE_sel_LOAD-1 downto 0);
  signal int_sel_STORE : std_logic_vector(PORTSIZE_sel_STORE-1 downto 0);

begin
  tmp_addr &lt;= in2;
  int_sel_LOAD &lt;= sel_LOAD and in4;
  int_sel_STORE &lt;= sel_STORE and in4;

  L0 : process(tmp_addr, Min_addr_ram, int_sel_LOAD, int_sel_STORE)
  begin
    for i in 0 to max_n_rw-1 loop
      if((i &lt; PORTSIZE_sel_LOAD and int_sel_LOAD(i)='1') or (i &lt; PORTSIZE_sel_STORE and int_sel_STORE(i)='1')) then
        Mout_addr_ram((i+1)*BITSIZE_Mout_addr_ram-1 downto i*BITSIZE_Mout_addr_ram) &lt;= tmp_addr((i+1)*BITSIZE_in2-1 downto i*BITSIZE_in2);
      else
        Mout_addr_ram((i+1)*BITSIZE_Mout_addr_ram-1 downto i*BITSIZE_Mout_addr_ram) &lt;= Min_addr_ram((i+1)*BITSIZE_Min_addr_ram-1 downto i*BITSIZE_Min_addr_ram);
      end if;
    end loop;
  end process;

  Mout_oe_ram &lt;= int_sel_LOAD or Min_oe_ram;
  Mout_we_ram &lt;= int_sel_STORE or Min_we_ram;

  L1 : process(M_Rdata_ram)
  begin
    for i in 0 to max_n_reads-1 loop
       out1((i+1)*BITSIZE_out1-1 downto i*BITSIZE_out1) &lt;= M_Rdata_ram(i*BITSIZE_M_Rdata_ram+BITSIZE_out1-1 downto i*BITSIZE_M_Rdata_ram);
    end loop;
  end process;

  L2 : process(int_sel_STORE, in1,Min_Wdata_ram)
  begin
     for i in 0 to max_n_rw-1 loop
       if(int_sel_STORE(i)='1') then
         Mout_Wdata_ram((i+1)*BITSIZE_Mout_Wdata_ram-1 downto i*BITSIZE_Mout_Wdata_ram) &lt;= std_logic_vector(resize(unsigned(in1((i+1)*BITSIZE_in1-1 downto i*BITSIZE_in1)), BITSIZE_Mout_Wdata_ram));
       else
         Mout_Wdata_ram((i+1)*BITSIZE_Mout_Wdata_ram-1 downto i*BITSIZE_Mout_Wdata_ram) &lt;= std_logic_vector(resize(unsigned(Min_Wdata_ram((i+1)*BITSIZE_Min_Wdata_ram-1 downto i*BITSIZE_Min_Wdata_ram)), BITSIZE_Mout_Wdata_ram));
       end if;
     end loop;
  end process;

  L3 : process(int_sel_LOAD, int_sel_STORE, in3, Min_data_ram_size)
  begin
    for i in 0 to max_n_rw-1 loop
      if((i &lt; PORTSIZE_sel_LOAD and int_sel_LOAD(i)='1') or (i &lt; PORTSIZE_sel_STORE and int_sel_STORE(i)='1')) then
        Mout_data_ram_size((i+1)*BITSIZE_Mout_data_ram_size-1 downto i*BITSIZE_Mout_data_ram_size) &lt;= in3((i+1)*BITSIZE_in3-1 downto i*BITSIZE_in3);
      else
        Mout_data_ram_size((i+1)*BITSIZE_Mout_data_ram_size-1 downto i*BITSIZE_Mout_data_ram_size) &lt;= Min_data_ram_size((i+1)*BITSIZE_Min_data_ram_size-1 downto i*BITSIZE_Min_data_ram_size);
      end if;
    end loop;
  end process;
"
/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BMEMORY_CTRLN_3</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="3"/>
      <operation operation_name="STORE"/>
      <channels_type>MEM_ACC_NN</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>3</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM_NN_3</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRLN_3">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRLN_3"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BMEMORY_CTRLN_3 in1 in2 in3 in4 sel_LOAD sel_STORE out1 Min_oe_ram Min_we_ram Mout_oe_ram Mout_we_ram M_DataRdy Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" IP_COMPONENT="BMEMORY_CTRLN" VERILOG_PROVIDED="BMEMORY_CTRLN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_in4(BITSIZE_in4), .PORTSIZE_in4(PORTSIZE_in4), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_Min_oe_ram(BITSIZE_Min_oe_ram), .PORTSIZE_Min_oe_ram(PORTSIZE_Min_oe_ram), .BITSIZE_Min_we_ram(BITSIZE_Min_we_ram), .PORTSIZE_Min_we_ram(PORTSIZE_Min_we_ram), .BITSIZE_Mout_oe_ram(BITSIZE_Mout_oe_ram), .PORTSIZE_Mout_oe_ram(PORTSIZE_Mout_oe_ram), .BITSIZE_Mout_we_ram(BITSIZE_Mout_we_ram), .PORTSIZE_Mout_we_ram(PORTSIZE_Mout_we_ram), .BITSIZE_M_DataRdy(BITSIZE_M_DataRdy), .PORTSIZE_M_DataRdy(PORTSIZE_M_DataRdy), .BITSIZE_Min_addr_ram(BITSIZE_Min_addr_ram), .PORTSIZE_Min_addr_ram(PORTSIZE_Min_addr_ram), .BITSIZE_Mout_addr_ram(BITSIZE_Mout_addr_ram), .PORTSIZE_Mout_addr_ram(PORTSIZE_Mout_addr_ram), .BITSIZE_M_Rdata_ram(BITSIZE_M_Rdata_ram), .PORTSIZE_M_Rdata_ram(PORTSIZE_M_Rdata_ram), .BITSIZE_Min_Wdata_ram(BITSIZE_Min_Wdata_ram), .PORTSIZE_Min_Wdata_ram(PORTSIZE_Min_Wdata_ram), .BITSIZE_Mout_Wdata_ram(BITSIZE_Mout_Wdata_ram), .PORTSIZE_Mout_Wdata_ram(PORTSIZE_Mout_Wdata_ram), .BITSIZE_Min_data_ram_size(BITSIZE_Min_data_ram_size), .PORTSIZE_Min_data_ram_size(PORTSIZE_Min_data_ram_size), .BITSIZE_Mout_data_ram_size(BITSIZE_Mout_data_ram_size), .PORTSIZE_Mout_data_ram_size(PORTSIZE_Mout_data_ram_size)) BMEMORY_CTRLN_i0 (.out1(out1), .Mout_oe_ram(Mout_oe_ram), .Mout_we_ram(Mout_we_ram), .Mout_addr_ram(Mout_addr_ram), .Mout_Wdata_ram(Mout_Wdata_ram), .Mout_data_ram_size(Mout_data_ram_size), .clock(clock), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .Min_oe_ram(Min_oe_ram), .Min_we_ram(Min_we_ram), .Min_addr_ram(Min_addr_ram), .M_Rdata_ram(M_Rdata_ram), .Min_Wdata_ram(Min_Wdata_ram), .Min_data_ram_size(Min_data_ram_size), .M_DataRdy(M_DataRdy));" VHDL_PROVIDED="
begin
  BMEMORY_CTRLN_i0 : BMEMORY_CTRLN generic map(BITSIZE_in1=>BITSIZE_in1, PORTSIZE_in1=>PORTSIZE_in1, BITSIZE_in2=>BITSIZE_in2, PORTSIZE_in2=>PORTSIZE_in2, BITSIZE_in3=>BITSIZE_in3, PORTSIZE_in3=>PORTSIZE_in3, BITSIZE_in4=>BITSIZE_in4, PORTSIZE_in4=>PORTSIZE_in4, BITSIZE_sel_LOAD=>BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=>PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=>BITSIZE_sel_STORE, PORTSIZE_sel_STORE=>PORTSIZE_sel_STORE, BITSIZE_out1=>BITSIZE_out1, PORTSIZE_out1=>PORTSIZE_out1, BITSIZE_Min_oe_ram=>BITSIZE_Min_oe_ram, PORTSIZE_Min_oe_ram=>PORTSIZE_Min_oe_ram, BITSIZE_Min_we_ram=>BITSIZE_Min_we_ram, PORTSIZE_Min_we_ram=>PORTSIZE_Min_we_ram, BITSIZE_Mout_oe_ram=>BITSIZE_Mout_oe_ram, PORTSIZE_Mout_oe_ram=>PORTSIZE_Mout_oe_ram, BITSIZE_Mout_we_ram=>BITSIZE_Mout_we_ram, PORTSIZE_Mout_we_ram=>PORTSIZE_Mout_we_ram, BITSIZE_M_DataRdy=>BITSIZE_M_DataRdy, PORTSIZE_M_DataRdy=>PORTSIZE_M_DataRdy, BITSIZE_Min_addr_ram=>BITSIZE_Min_addr_ram, PORTSIZE_Min_addr_ram=>PORTSIZE_Min_addr_ram, BITSIZE_Mout_addr_ram=>BITSIZE_Mout_addr_ram, PORTSIZE_Mout_addr_ram=>PORTSIZE_Mout_addr_ram, BITSIZE_M_Rdata_ram=>BITSIZE_M_Rdata_ram, PORTSIZE_M_Rdata_ram=>PORTSIZE_M_Rdata_ram, BITSIZE_Min_Wdata_ram=>BITSIZE_Min_Wdata_ram, PORTSIZE_Min_Wdata_ram=>PORTSIZE_Min_Wdata_ram, BITSIZE_Mout_Wdata_ram=>BITSIZE_Mout_Wdata_ram, PORTSIZE_Mout_Wdata_ram=>PORTSIZE_Mout_Wdata_ram, BITSIZE_Min_data_ram_size=>BITSIZE_Min_data_ram_size, PORTSIZE_Min_data_ram_size=>PORTSIZE_Min_data_ram_size, BITSIZE_Mout_data_ram_size=>BITSIZE_Mout_data_ram_size, PORTSIZE_Mout_data_ram_size=>PORTSIZE_Mout_data_ram_size) port map (out1 => out1, Mout_oe_ram => Mout_oe_ram, Mout_we_ram => Mout_we_ram, Mout_addr_ram => Mout_addr_ram, Mout_Wdata_ram => Mout_Wdata_ram, Mout_data_ram_size => Mout_data_ram_size, clock => clock, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, Min_oe_ram => Min_oe_ram, Min_we_ram => Min_we_ram, Min_addr_ram => Min_addr_ram, M_Rdata_ram => M_Rdata_ram, Min_Wdata_ram => Min_Wdata_ram, Min_data_ram_size => Min_data_ram_size, M_DataRdy => M_DataRdy);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>BMEMORY_CTRLN_4</name>
      <operation operation_name="LOAD" initiation_time="1" cycles="4"/>
      <operation operation_name="STORE" initiation_time="1" cycles="2"/>
      <channels_type>MEM_ACC_NN</channels_type>
      <memory_ctrl_type>D00</memory_ctrl_type>
      <bram_load_latency>4</bram_load_latency>
      <component_timing_alias>ARRAY_1D_STD_BRAM_NN_4</component_timing_alias>
      <circuit>
        <component_o id="BMEMORY_CTRLN_4">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="BMEMORY_CTRLN_4"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="in1" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data to be written
          </port_vector_o>
          <port_vector_o id="in2" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            address
          </port_vector_o>
          <port_vector_o id="in3" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            data size
          </port_vector_o>
          <port_vector_o id="in4" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            predicate
          </port_vector_o>
          <port_vector_o id="sel_LOAD" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="sel_STORE" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="out1" dir="OUT">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="BMEMORY_CTRLN_4 in1 in2 in3 in4 sel_LOAD sel_STORE out1 Min_oe_ram Min_we_ram Mout_oe_ram Mout_we_ram M_DataRdy Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" IP_COMPONENT="BMEMORY_CTRLN" VERILOG_PROVIDED="BMEMORY_CTRLN #(.BITSIZE_in1(BITSIZE_in1), .PORTSIZE_in1(PORTSIZE_in1), .BITSIZE_in2(BITSIZE_in2), .PORTSIZE_in2(PORTSIZE_in2), .BITSIZE_in3(BITSIZE_in3), .PORTSIZE_in3(PORTSIZE_in3), .BITSIZE_in4(BITSIZE_in4), .PORTSIZE_in4(PORTSIZE_in4), .BITSIZE_sel_LOAD(BITSIZE_sel_LOAD), .PORTSIZE_sel_LOAD(PORTSIZE_sel_LOAD), .BITSIZE_sel_STORE(BITSIZE_sel_STORE), .PORTSIZE_sel_STORE(PORTSIZE_sel_STORE), .BITSIZE_out1(BITSIZE_out1), .PORTSIZE_out1(PORTSIZE_out1), .BITSIZE_Min_oe_ram(BITSIZE_Min_oe_ram), .PORTSIZE_Min_oe_ram(PORTSIZE_Min_oe_ram), .BITSIZE_Min_we_ram(BITSIZE_Min_we_ram), .PORTSIZE_Min_we_ram(PORTSIZE_Min_we_ram), .BITSIZE_Mout_oe_ram(BITSIZE_Mout_oe_ram), .PORTSIZE_Mout_oe_ram(PORTSIZE_Mout_oe_ram), .BITSIZE_Mout_we_ram(BITSIZE_Mout_we_ram), .PORTSIZE_Mout_we_ram(PORTSIZE_Mout_we_ram), .BITSIZE_M_DataRdy(BITSIZE_M_DataRdy), .PORTSIZE_M_DataRdy(PORTSIZE_M_DataRdy), .BITSIZE_Min_addr_ram(BITSIZE_Min_addr_ram), .PORTSIZE_Min_addr_ram(PORTSIZE_Min_addr_ram), .BITSIZE_Mout_addr_ram(BITSIZE_Mout_addr_ram), .PORTSIZE_Mout_addr_ram(PORTSIZE_Mout_addr_ram), .BITSIZE_M_Rdata_ram(BITSIZE_M_Rdata_ram), .PORTSIZE_M_Rdata_ram(PORTSIZE_M_Rdata_ram), .BITSIZE_Min_Wdata_ram(BITSIZE_Min_Wdata_ram), .PORTSIZE_Min_Wdata_ram(PORTSIZE_Min_Wdata_ram), .BITSIZE_Mout_Wdata_ram(BITSIZE_Mout_Wdata_ram), .PORTSIZE_Mout_Wdata_ram(PORTSIZE_Mout_Wdata_ram), .BITSIZE_Min_data_ram_size(BITSIZE_Min_data_ram_size), .PORTSIZE_Min_data_ram_size(PORTSIZE_Min_data_ram_size), .BITSIZE_Mout_data_ram_size(BITSIZE_Mout_data_ram_size), .PORTSIZE_Mout_data_ram_size(PORTSIZE_Mout_data_ram_size)) BMEMORY_CTRLN_i0 (.out1(out1), .Mout_oe_ram(Mout_oe_ram), .Mout_we_ram(Mout_we_ram), .Mout_addr_ram(Mout_addr_ram), .Mout_Wdata_ram(Mout_Wdata_ram), .Mout_data_ram_size(Mout_data_ram_size), .clock(clock), .in1(in1), .in2(in2), .in3(in3), .in4(in4), .sel_LOAD(sel_LOAD), .sel_STORE(sel_STORE), .Min_oe_ram(Min_oe_ram), .Min_we_ram(Min_we_ram), .Min_addr_ram(Min_addr_ram), .M_Rdata_ram(M_Rdata_ram), .Min_Wdata_ram(Min_Wdata_ram), .Min_data_ram_size(Min_data_ram_size), .M_DataRdy(M_DataRdy));" VHDL_PROVIDED="
begin
  BMEMORY_CTRLN_i0 : BMEMORY_CTRLN generic map(BITSIZE_in1=>BITSIZE_in1, PORTSIZE_in1=>PORTSIZE_in1, BITSIZE_in2=>BITSIZE_in2, PORTSIZE_in2=>PORTSIZE_in2, BITSIZE_in3=>BITSIZE_in3, PORTSIZE_in3=>PORTSIZE_in3, BITSIZE_in4=>BITSIZE_in4, PORTSIZE_in4=>PORTSIZE_in4, BITSIZE_sel_LOAD=>BITSIZE_sel_LOAD, PORTSIZE_sel_LOAD=>PORTSIZE_sel_LOAD, BITSIZE_sel_STORE=>BITSIZE_sel_STORE, PORTSIZE_sel_STORE=>PORTSIZE_sel_STORE, BITSIZE_out1=>BITSIZE_out1, PORTSIZE_out1=>PORTSIZE_out1, BITSIZE_Min_oe_ram=>BITSIZE_Min_oe_ram, PORTSIZE_Min_oe_ram=>PORTSIZE_Min_oe_ram, BITSIZE_Min_we_ram=>BITSIZE_Min_we_ram, PORTSIZE_Min_we_ram=>PORTSIZE_Min_we_ram, BITSIZE_Mout_oe_ram=>BITSIZE_Mout_oe_ram, PORTSIZE_Mout_oe_ram=>PORTSIZE_Mout_oe_ram, BITSIZE_Mout_we_ram=>BITSIZE_Mout_we_ram, PORTSIZE_Mout_we_ram=>PORTSIZE_Mout_we_ram, BITSIZE_M_DataRdy=>BITSIZE_M_DataRdy, PORTSIZE_M_DataRdy=>PORTSIZE_M_DataRdy, BITSIZE_Min_addr_ram=>BITSIZE_Min_addr_ram, PORTSIZE_Min_addr_ram=>PORTSIZE_Min_addr_ram, BITSIZE_Mout_addr_ram=>BITSIZE_Mout_addr_ram, PORTSIZE_Mout_addr_ram=>PORTSIZE_Mout_addr_ram, BITSIZE_M_Rdata_ram=>BITSIZE_M_Rdata_ram, PORTSIZE_M_Rdata_ram=>PORTSIZE_M_Rdata_ram, BITSIZE_Min_Wdata_ram=>BITSIZE_Min_Wdata_ram, PORTSIZE_Min_Wdata_ram=>PORTSIZE_Min_Wdata_ram, BITSIZE_Mout_Wdata_ram=>BITSIZE_Mout_Wdata_ram, PORTSIZE_Mout_Wdata_ram=>PORTSIZE_Mout_Wdata_ram, BITSIZE_Min_data_ram_size=>BITSIZE_Min_data_ram_size, PORTSIZE_Min_data_ram_size=>PORTSIZE_Min_data_ram_size, BITSIZE_Mout_data_ram_size=>BITSIZE_Mout_data_ram_size, PORTSIZE_Mout_data_ram_size=>PORTSIZE_Mout_data_ram_size) port map (out1 => out1, Mout_oe_ram => Mout_oe_ram, Mout_we_ram => Mout_we_ram, Mout_addr_ram => Mout_addr_ram, Mout_Wdata_ram => Mout_Wdata_ram, Mout_data_ram_size => Mout_data_ram_size, clock => clock, in1 => in1, in2 => in2, in3 => in3, in4 => in4, sel_LOAD => sel_LOAD, sel_STORE => sel_STORE, Min_oe_ram => Min_oe_ram, Min_we_ram => Min_we_ram, Min_addr_ram => Min_addr_ram, M_Rdata_ram => M_Rdata_ram, Min_Wdata_ram => Min_Wdata_ram, Min_data_ram_size => Min_data_ram_size, M_DataRdy => M_DataRdy);"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>__builtin_memstore</name>
      <operation operation_name="__builtin_memstore" bounded="0"/>
      <circuit>
        <component_o id="__builtin_memstore">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="__builtin_memstore"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="start_port" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="data" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="addr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="size" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="done_port" dir="OUT">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_o>
          <port_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <NP_functionality LIBRARY="__builtin_memstore data addr size Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" VERILOG_PROVIDED="
parameter [1:0] S_0 = 2&apos;d0,
  S_1 = 2&apos;d1,
  S_2 = 2&apos;d2;
reg [1:0] _present_state=S_0, _next_state;
reg done_port;
reg Mout_oe_ram;
reg Mout_we_ram;
reg [BITSIZE_Mout_addr_ram-1:0] Mout_addr_ram;
reg [BITSIZE_Mout_Wdata_ram-1:0] Mout_Wdata_ram;
reg [BITSIZE_Mout_data_ram_size-1:0] Mout_data_ram_size;
always @(posedge clock 1RESET_EDGE)
  if (1RESET_VALUE)
    _present_state &lt;= S_0;
  else 
    _present_state &lt;= _next_state;

always @(*)
begin
  _next_state=S_0;
  done_port=1&apos;b0;
  Mout_oe_ram=Min_oe_ram;
  Mout_we_ram=Min_we_ram;
  Mout_data_ram_size=Min_data_ram_size;
  Mout_Wdata_ram=Min_Wdata_ram;
  Mout_addr_ram=Min_addr_ram;
  case (_present_state)
    S_0 :
      if(start_port != 1'b1)
      begin
        _next_state=S_0;
      end
      else
      begin
        _next_state=S_1;
        Mout_we_ram=1&apos;b1;
        Mout_addr_ram=addr;
        Mout_Wdata_ram=data;
        Mout_data_ram_size=size;
        if(M_DataRdy)
        begin
          _next_state=S_2;
        end
      end
    S_1 :
    begin
      _next_state=S_1;
      Mout_we_ram=1&apos;b1;
      Mout_addr_ram=addr;
      Mout_Wdata_ram=data;
      Mout_data_ram_size=size;
      if(M_DataRdy)
      begin
        _next_state=S_2;
      end
    end
    S_2 :
    begin
      _next_state=S_0;
      done_port=1&apos;b1;
    end
  endcase
end"/>
        </component_o>
      </circuit>
    </cell>
    <cell>
      <name>__builtin_memstore_N</name>
      <operation operation_name="__builtin_memstore_N" bounded="0"/>
      <circuit>
        <component_o id="__builtin_memstore_N">
          <description>This component is part of the BAMBU/PANDA IP LIBRARY</description>
          <copyright>Copyright (C) 2004-2020 Politecnico di Milano</copyright>  
          <authors>Fabrizio Ferrandi &lt;fabrizio.ferrandi@polimi.it&gt;</authors> 
          <license>PANDA_LGPLv3</license>
          <structural_type_descriptor id_type="__builtin_memstore_N"/>
          <port_o id="clock" dir="IN" is_clock="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="reset" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
          </port_o>
          <port_o id="start_port" dir="IN">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="data" dir="IN">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_o>
          <port_o id="addr" dir="IN" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="size" dir="IN" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
          </port_o>
          <port_o id="done_port" dir="OUT">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_o>
          <port_vector_o id="Min_oe_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_oe_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_we_ram" dir="IN" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_we_ram" dir="OUT" is_memory="1" is_master="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_addr_ram" dir="IN" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_addr_ram" dir="OUT" is_memory="1" is_master="1" is_addr_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_Rdata_ram" dir="IN" is_memory="1" is_global="1" is_extern="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_Wdata_ram" dir="IN" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_Wdata_ram" dir="OUT" is_memory="1" is_master="1" is_data_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="8"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Min_data_ram_size" dir="IN" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="Mout_data_ram_size" dir="OUT" is_memory="1" is_master="1" is_size_bus="1">
            <structural_type_descriptor type="VECTOR_BOOL" size="1" vector_size="1"/>
            <connected_objects/>
          </port_vector_o>
          <port_vector_o id="M_DataRdy" dir="IN" is_memory="1" is_global="1" is_extern="1">
            <structural_type_descriptor type="BOOL" size="1"/>
            <connected_objects/>
          </port_vector_o>
          <NP_functionality LIBRARY="__builtin_memstore_N data addr size Min_oe_ram Min_we_ram Mout_oe_ram Mout_we_ram M_DataRdy Min_addr_ram Mout_addr_ram M_Rdata_ram Min_Wdata_ram Mout_Wdata_ram Min_data_ram_size Mout_data_ram_size" VERILOG_PROVIDED="
parameter [1:0] S_0 = 2&apos;d0,
  S_1 = 2&apos;d1,
  S_2 = 2&apos;d2;
reg [1:0] _present_state=S_0, _next_state;
reg done_port;
reg [PORTSIZE_Mout_oe_ram-1:0] Mout_oe_ram;
reg [PORTSIZE_Mout_we_ram-1:0] Mout_we_ram;
reg [(PORTSIZE_Mout_addr_ram*BITSIZE_Mout_addr_ram)+(-1):0] Mout_addr_ram;
reg [(PORTSIZE_Mout_Wdata_ram*BITSIZE_Mout_Wdata_ram)+(-1):0] Mout_Wdata_ram;
reg [(PORTSIZE_Mout_data_ram_size*BITSIZE_Mout_data_ram_size)+(-1):0] Mout_data_ram_size;
always @(posedge clock 1RESET_EDGE)
  if (1RESET_VALUE)
    _present_state &lt;= S_0;
  else 
    _present_state &lt;= _next_state;

always @(*)
begin
  _next_state=S_0;
  done_port=1&apos;b0;
  Mout_oe_ram=Min_oe_ram;
  Mout_we_ram=Min_we_ram;
  Mout_data_ram_size=Min_data_ram_size;
  Mout_Wdata_ram=Min_Wdata_ram;
  Mout_addr_ram=Min_addr_ram;
  case (_present_state)
    S_0 :
      if(start_port != 1'b1)
      begin
        _next_state=S_0;
      end
      else
      begin
        _next_state=S_1;
        Mout_we_ram[0]=1&apos;b1;
        Mout_addr_ram[BITSIZE_Mout_addr_ram-1:0]=addr;
        Mout_Wdata_ram[BITSIZE_Mout_Wdata_ram-1:0]=data;
        Mout_data_ram_size[BITSIZE_Mout_data_ram_size-1:0]=size;
        if(M_DataRdy[0])
        begin
          _next_state=S_2;
        end
      end
    S_1 :
    begin
      _next_state=S_1;
      Mout_we_ram[0]=1&apos;b1;
      Mout_addr_ram[BITSIZE_Mout_addr_ram-1:0]=addr;
      Mout_Wdata_ram[BITSIZE_Mout_Wdata_ram-1:0]=data;
      Mout_data_ram_size[BITSIZE_Mout_data_ram_size-1:0]=size;
      if(M_DataRdy[0])
      begin
        _next_state=S_2;
      end
    end
    S_2 :
    begin
      _next_state=S_0;
      done_port=1&apos;b1;
    end
  endcase
end" VHDL_PROVIDED="
signal present_state : std_logic_vector(1 downto 0) := &quot;00&quot;;
signal next_state : std_logic_vector(1 downto 0);
begin
process(clock,reset)
begin
  if(1RESET_VALUE) then
    present_state &lt;= &quot;00&quot;;
  elsif (clock'event and clock = &apos;1&apos;) then
    present_state &lt;= next_state;
  end if;
end process;
process(present_state, start_port, Min_oe_ram, Min_we_ram, Min_data_ram_size,Min_Wdata_ram,Min_addr_ram, M_DataRdy(0), M_Rdata_ram,data)
begin
  next_state &lt;= &quot;00&quot;;
  done_port &lt;= &apos;0&apos;;
  Mout_oe_ram &lt;= Min_oe_ram;
  Mout_we_ram &lt;=Min_we_ram;
  Mout_data_ram_size &lt;= Min_data_ram_size;
  Mout_Wdata_ram &lt;= Min_Wdata_ram;
  Mout_addr_ram &lt;= Min_addr_ram;
  case present_state is
    when &quot;00&quot; =&gt;
     if(start_port = &apos;0&apos;) then
       next_state &lt;= &quot;00&quot;;
    else
      next_state &lt;= &quot;01&quot;;
      Mout_we_ram(0) &lt;= &apos;1&apos;;
      Mout_addr_ram(BITSIZE_Mout_addr_ram-1 downto 0) &lt;= std_logic_vector(resize(unsigned(addr), BITSIZE_Mout_addr_ram));
      Mout_Wdata_ram(BITSIZE_data-1 downto 0) &lt;= data;
      Mout_data_ram_size(BITSIZE_Mout_data_ram_size-1 downto 0) &lt;= std_logic_vector(resize(unsigned(size), BITSIZE_Mout_data_ram_size));
      if(M_DataRdy(0) = &apos;1&apos;) then
        next_state &lt;= &quot;10&quot;;
      end if;
    end if;
  when &quot;01&quot; =&gt;
    next_state &lt;= &quot;01&quot;;
    Mout_we_ram(0) &lt;= &apos;1&apos;;
    Mout_addr_ram(BITSIZE_Mout_addr_ram-1 downto 0) &lt;= std_logic_vector(resize(unsigned(addr), BITSIZE_Mout_addr_ram));
    Mout_Wdata_ram(BITSIZE_data-1 downto 0) &lt;= data;
    Mout_data_ram_size(BITSIZE_Mout_data_ram_size-1 downto 0) &lt;= std_logic_vector(resize(unsigned(size), BITSIZE_Mout_data_ram_size));
    if(M_DataRdy(0) = &apos;1&apos;) then
       next_state &lt;= &quot;10&quot;;
    end if;
  when &quot;10&quot; =&gt; 
    next_state &lt;= &quot;00&quot;;
     done_port &lt;= &apos;1&apos;;
     when others =&gt;
    end case;
end process;"/>
        </component_o>
      </circuit>
    </cell>
  </library>
</technology>
