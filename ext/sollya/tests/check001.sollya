restart;
print("=============== Test number 1 ================");
verbosity = 1!;
roundingwarnings = on!;
sin(pi * 3);
tan(pi/2);
sin(pi * 3)/cos(pi * 2.5);
0/0;
1/0;


/*********************************************************************************/
restart;
print("=============== Test number 2 ================");
printfloat(1b128 - 1b103 - 1b-500);
printfloat(1b128 - 1b103 - 1b-74);
printfloat(1b128 - 1b103 - 1b-75);
printfloat(1b128 - 1b103);
printfloat(1b128 - 1b103 + 1b-500);
printfloat(1b128 - 1b103 + 1b-74);
printfloat(1b128 - 1b103 + 1b-75);
printfloat(1.0000000010111111111111111000001_2 * 2^(-140));
printfloat(-1.0000000010111111111111111000001_2 * 2^(-140));
printfloat(1b-1000);
printfloat(-1b-1000);
printfloat(0);
printfloat(-0);
printfloat(infty);
printfloat(-infty);
printfloat(NaN);
printfloat(1b-150);
prec = 2000!;
printfloat(1b-150 + 1b-1000);
printfloat(1b-150 - 1b-1000);
printfloat(-1b-150 + 1b-1000);
printfloat(-1b-150 - 1b-1000);


/*********************************************************************************/
restart;
print("=============== Test number 3 ================");
0/0;
3/0;
sin(5 * pi) / sin(5 * pi);
sin(5 * pi) / 0;
x/x;
sin(x)/cos(x + 0.5 * pi);
evaluate(0/0,17);
evaluate(3/0,17);
evaluate(sin(5 * pi)/sin(5 * pi),17);
evaluate(sin(5 * pi) / 0, 17);
evaluate(x/x,17);
evaluate(x/x,0);
evaluate(sin(x)/cos(x + 0.5 * pi),17);
evaluate(0/0,[0.17]);
evaluate(3/0,[0.17]);
evaluate(sin(5 * pi)/sin(5 * pi),[0.17]);
evaluate(sin(5 * pi) / 0, [0.17]);
evaluate(x/x,[0.17]);
evaluate(x/x,[0]);
evaluate(x/x,[-1b-100000;-1b-100000]);
evaluate(sin(x)/cos(x + 0.5 * pi),[0.17]);


/*********************************************************************************/
restart; 
0 * infty;
infty - infty;
infty + (-infty);
infty + (-1) * infty;
[0] * infty;
infty * [0];
infty * 0;
[infty] * 0;
0 * [infty];
[0] * [infty];
[infty] * [0];
0 * [-infty,infty];
0 * [3,4];
[0] * 3;
[0] * [3,4];

/*********************************************************************************/
restart; 
2 + [3;4];
[4;5] + [5;6];
1 + 1~0/2~;
exp([5;5]);
a = exp(sin(x));
a([5;6]);


/*********************************************************************************/
restart; 
midpointmode = on;
evaluate(sin(x),3.5);
evaluate(sin(x),[3.5;3.5]);
evaluate(sin(x),3.4);
evaluate(sin(x),[3.4;3.4]);
evaluate(sin(pi * x),3.5);
evaluate(sin(pi * x),[3.5;3.5]);
evaluate(sin(pi * x),3.4);
evaluate(sin(pi * x),[3.4;3.4]);
evaluate(cos(x),3.5);
evaluate(cos(x),[3.5;3.5]);
evaluate(cos(x),3.4);
evaluate(cos(x),[3.4;3.4]);
evaluate(cos(pi * x),3.5);
evaluate(cos(pi * x),[3.5;3.5]);
evaluate(cos(pi * x),3.4);
evaluate(cos(pi * x),[3.4;3.4]);

/*********************************************************************************/
restart; 
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;
midpointmode = on;
23~2/3~;
23~3/2~;
0.1~1/2~;
0.125~0/0~;
0.1~2/1~;
0.1~1/9~;
0.1~9/1~;
0.1~9/1~ == 0.1~1/9~;
-23~2/3~;
-23~3/2~;
-0.1~1/2~;
-0.125~0/0~;
-0.1~2/1~;
-0.1~1/9~;
-0.1~9/1~;
-0.1~9/1~ == -0.1~1/9~;

/*********************************************************************************/
restart; 
%12%4097;
%10%0.1;
%34000%0.1;
5e-3;
0.5;
5.0;

/*********************************************************************************/
restart; 
midpointmode = on!;
[-10971362213211443216165490671142190371208827223443b-165;-43885448852845772864661962684568761484835308893771b-167];
[43885448852845772864661962684568761484835308893771b-167;10971362213211443216165490671142190371208827223443b-165];
[0;0];
[1.25;1.25];
prec = 300!;
d = [1 + 1b-200; 1 + 1b-200];
prec = 50!;
d;
midpointmode = off!;
0~0/0~;
1~0/0~e2;

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 20);
accurateinfnorm(p - exp(x), [-1;1], 30);
accurateinfnorm(p - exp(x), [-1;1], 40);

/*********************************************************************************/
restart; 
p = remez(exp(x), 5, [-1;1]);
midpointmode = on!;
infnorm(p - exp(x), [-1;1]);
accurateinfnorm(p - exp(x), [-1;1], 40);


/*********************************************************************************/
restart;
print("=============== Test number 4 ================");
true && false;

/*********************************************************************************/
restart;
print("=============== Test number 5 ================");
(1 == exp(0)) && (0 == log(1));

/*********************************************************************************/
restart;
print("=============== Test number 6 ================");
[|2,3,4|]:.5;

/*********************************************************************************/
restart;
print("=============== Test number 7 ================");
[|1,2,3|]:.[|4,5,6|];

/*********************************************************************************/
restart;
print("=============== Test number 8 ================");
[||]:.1;

/*********************************************************************************/
restart;
print("=============== Test number 9 ================");
autosimplify = on !;
print(x - x);
autosimplify = off ;
print(x - x);

/*********************************************************************************/
restart; 
autosimplify = on !; 
print(rationalapprox(sin(pi/5.9),7));
autosimplify = off !; 
print(rationalapprox(sin(pi/5.9),7));

/*********************************************************************************/
restart; 
autosimplify; 

/*********************************************************************************/
restart;
print("=============== Test number 10 ================");
print(canonical(1 + x * (x + 3 * x^2)));
print(canonical((x + 1)^7));

/*********************************************************************************/
restart;
print("=============== Test number 11 ================");
print(canonical(exp((x + 1)^5) - log(asin(((x + 2) + x)^4 * (x + 1)) + x)));

/*********************************************************************************/
restart;
print("=============== Test number 12 ================");
canonical;
(x + 2)^9;
canonical = on;
(x + 2)^9;
canonical;
canonical = off!;
(x + 2)^9;

/*********************************************************************************/
restart; 
checkinfnorm(sin(x),[0;1.75], 1);
checkinfnorm(sin(x),[0;1.75], 1/2); checkinfnorm(sin(x),[0;20/39],
1/2);

/*********************************************************************************/
restart;
print("=============== Test number 13 ================");
p = remez(exp(x), 5, [-1;1]);
b = dirtyinfnorm(p - exp(x), [-1;1]);
checkinfnorm(p - exp(x), [-1;1], b);
b1 = round(b, 20, RU);
checkinfnorm(p - exp(x), [-1;1], b1);
b2 = round(b, 25, RU);
checkinfnorm(p - exp(x), [-1;1], b2);
diam = 1b-20!;
checkinfnorm(p - exp(x), [-1;1], b2);

/*********************************************************************************/
restart;
print("=============== Test number 14 ================");
coeff((1+x)^5,3);

/*********************************************************************************/
restart;
print("=============== Test number 15 ================");
coeff(sin(x),0);


/*********************************************************************************/
restart;
print("=============== Test number 16 ================");
[|1,...,3|]@[|7,8,9|];

/*********************************************************************************/
restart;
print("=============== Test number 17 ================");
"Hello "@"World!";


/*********************************************************************************/
restart;
print("=============== Test number 18 ================");
p = remez(exp(x),5,[0;1],default,1e-5);
q = remez(exp(x),5,[0;1],1,1e-5);
p==q;

/*********************************************************************************/
restart;
print("=============== Test number 19 ================");
prec;
prec=200;
/*********************************************************************************/
restart;
print("=============== Test number 20 ================");
degree((1+x)*(2+5*x^2));
degree(0);